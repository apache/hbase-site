<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CommonFSUtils (Apache HBase 2.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.util, class: CommonFSUtils">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CommonFSUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.util</a></div>
<h1 title="Class CommonFSUtils" class="title">Class CommonFSUtils</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.hadoop.hbase.util.CommonFSUtils</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public final class </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-55">CommonFSUtils</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Utility methods for interacting with the underlying file system.
 <p/>
 Note that <a href="#setStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)"><code>setStoragePolicy(FileSystem, Path, String)</code></a> is tested in TestFSUtils and
 pre-commit will run the hbase-server tests if there's code change in this class. See
 <a href="https://issues.apache.org/jira/browse/HBASE-20838">HBASE-20838</a> for more details.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CommonFSUtils.DfsBuilderUtility.html" class="type-name-link" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.DfsBuilderUtility</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CommonFSUtils.StreamLacksCapabilityException.html" class="type-name-link" title="class in org.apache.hadoop.hbase.util">CommonFSUtils.StreamLacksCapabilityException</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Helper exception for those cases where the place where we need to check a stream capability is
 not where we have the needed context to explain the impact and mitigation for a lack.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#FULL_RWX_PERMISSIONS" class="member-name-link">FULL_RWX_PERMISSIONS</a></code></div>
<div class="col-last even-row-color">
<div class="block">Full access permissions (starting point for a umask)</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#HBASE_WAL_DIR" class="member-name-link">HBASE_WAL_DIR</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Parameter name for HBase WAL directory</div>
</div>
<div class="col-first even-row-color"><code>private static final org.slf4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#LOG" class="member-name-link">LOG</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#UNSAFE_STREAM_CAPABILITY_ENFORCE" class="member-name-link">UNSAFE_STREAM_CAPABILITY_ENFORCE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Parameter to disable stream capability enforcement checks</div>
</div>
<div class="col-first even-row-color"><code>private static final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;org.apache.hadoop.fs.FileSystem,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#warningMap" class="member-name-link">warningMap</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CommonFSUtils</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)" class="member-name-link">checkShortCircuitReadBufferSize</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Check if short circuit read buffer size is set and if not, set it to hbase value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FSDataOutputStream</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#create(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.permission.FsPermission,boolean)" class="member-name-link">create</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
 boolean&nbsp;overwrite)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create the specified file on the filesystem.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FSDataOutputStream</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createForWal(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean)" class="member-name-link">createForWal</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;overwrite)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Attempt to use builder API via reflection to create a file with the given parameters and
 replication enabled.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FSDataOutputStream</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createForWal(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean,int,short,long,boolean,boolean)" class="member-name-link">createForWal</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;overwrite,
 int&nbsp;bufferSize,
 short&nbsp;replication,
 long&nbsp;blockSize,
 boolean&nbsp;noLocalWrite,
 boolean&nbsp;isRecursive)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Attempt to use builder API via reflection to create a file with the given parameters and
 replication enabled.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#delete(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean)" class="member-name-link">delete</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;recursive)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Calls fs.delete() and returns the value returned by the fs.delete()</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#deleteDirectory(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">deleteDirectory</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Delete if exists.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FileSystem</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getCurrentFileSystem(org.apache.hadoop.conf.Configuration)" class="member-name-link">getCurrentFileSystem</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the filesystem of the hbase rootdir.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDefaultBlockSize(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">getDefaultBlockSize</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return the number of bytes that large input files should be optimally be split into to minimize
 i/o time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)" class="member-name-link">getDefaultBufferSize</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the default buffer size to use during writes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static short</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDefaultReplication(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">getDefaultReplication</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDirUri(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)" class="member-name-link">getDirUri</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the URI in the string format</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.permission.FsPermission</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getFilePermissions(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.conf.Configuration,java.lang.String)" class="member-name-link">getFilePermissions</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;permssionConfKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the file permissions specified in the configuration, if they are enabled.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getNamespaceDir(org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">getNamespaceDir</a><wbr>(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;namespace)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>Path</code> object representing the namespace directory under
 path rootdir</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getPath(org.apache.hadoop.fs.Path)" class="member-name-link">getPath</a><wbr>(org.apache.hadoop.fs.Path&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return the 'path' component of a Path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRegionDir(org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.TableName,java.lang.String)" class="member-name-link">getRegionDir</a><wbr>(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>Path</code> object representing the region directory under
 path rootdir</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRootDir(org.apache.hadoop.conf.Configuration)" class="member-name-link">getRootDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the path for the root data directory</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FileSystem</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRootDirFileSystem(org.apache.hadoop.conf.Configuration)" class="member-name-link">getRootDirFileSystem</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getTableDir(org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.TableName)" class="member-name-link">getTableDir</a><wbr>(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>Path</code> object representing the table directory under
 path rootdir</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getTableName(org.apache.hadoop.fs.Path)" class="member-name-link">getTableName</a><wbr>(org.apache.hadoop.fs.Path&nbsp;tablePath)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <a href="../TableName.html" title="class in org.apache.hadoop.hbase"><code>TableName</code></a> object representing the table directory
 under path rootdir</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FileSystem</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWALFileSystem(org.apache.hadoop.conf.Configuration)" class="member-name-link">getWALFileSystem</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWALRegionDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName,java.lang.String)" class="member-name-link">getWALRegionDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the WAL region directory based on the given table name and region name</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWALRootDir(org.apache.hadoop.conf.Configuration)" class="member-name-link">getWALRootDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the path for the root directory for WAL data</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWALTableDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)" class="member-name-link">getWALTableDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the Table directory under the WALRootDir for the specified table name</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getWrongWALRegionDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName,java.lang.String)" class="member-name-link">getWrongWALRegionDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">For compatibility, will be removed in 4.0.0.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#invokeSetStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">invokeSetStoragePolicy</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isExists(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">isExists</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Calls fs.exists().</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isHDFS(org.apache.hadoop.conf.Configuration)" class="member-name-link">isHDFS</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return true if this is a filesystem whose scheme is 'hdfs'.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isMatchingTail(org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">isMatchingTail</a><wbr>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pathTail)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compare path component of the Path URI; e.g.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isMatchingTail(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)" class="member-name-link">isMatchingTail</a><wbr>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
 org.apache.hadoop.fs.Path&nbsp;pathTail)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compare path component of the Path URI; e.g.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isRecoveredEdits(org.apache.hadoop.fs.Path)" class="member-name-link">isRecoveredEdits</a><wbr>(org.apache.hadoop.fs.Path&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if the given path is the one with 'recovered.edits' dir.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isStartingWithPath(org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">isStartingWithPath</a><wbr>(org.apache.hadoop.fs.Path&nbsp;rootPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compare of path component.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isValidWALRootDir(org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)" class="member-name-link">isValidWALRootDir</a><wbr>(org.apache.hadoop.fs.Path&nbsp;walDir,
 org.apache.hadoop.conf.Configuration&nbsp;c)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.apache.hadoop.fs.LocatedFileStatus&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#listLocatedStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">listLocatedStatus</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Calls fs.listFiles() to get FileStatus and BlockLocations together for reducing rpc call</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FileStatus[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#listStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)" class="member-name-link">listStatus</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal This would accommodates
 differences between hadoop versions</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.FileStatus[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#listStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.PathFilter)" class="member-name-link">listStatus</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir,
 org.apache.hadoop.fs.PathFilter&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal This accommodates
 differences between hadoop versions, where hadoop 1 does not throw a FileNotFoundException, and
 return an empty FileStatus[] while Hadoop 2 will throw FileNotFoundException.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#logFileSystemState(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.slf4j.Logger)" class="member-name-link">logFileSystemState</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;root,
 org.slf4j.Logger&nbsp;log)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Log the current state of the filesystem from a certain root directory</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#logFSTree(org.slf4j.Logger,org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">logFSTree</a><wbr>(org.slf4j.Logger&nbsp;log,
 org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;root,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Recursive helper to log the state of the FS</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#removeWALRootPath(org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)" class="member-name-link">removeWALRootPath</a><wbr>(org.apache.hadoop.fs.Path&nbsp;path,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks for the presence of the WAL log root path (using the provided conf object) in the given
 path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)" class="member-name-link">renameAndSetModifyTime</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;src,
 org.apache.hadoop.fs.Path&nbsp;dest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setFsDefault(org.apache.hadoop.conf.Configuration,java.lang.String)" class="member-name-link">setFsDefault</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;uri)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setFsDefault(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)" class="member-name-link">setFsDefault</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setRootDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)" class="member-name-link">setRootDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)" class="member-name-link">setStoragePolicy</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Sets storage policy for given path.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String,boolean)" class="member-name-link">setStoragePolicy</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy,
 boolean&nbsp;throwException)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setWALRootDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)" class="member-name-link">setWALRootDir</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#validateRootPath(org.apache.hadoop.fs.Path)" class="member-name-link">validateRootPath</a><wbr>(org.apache.hadoop.fs.Path&nbsp;root)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies root directory path is a valid URI with a scheme</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="LOG">
<h3>LOG</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-57">LOG</a></span></div>
</section>
</li>
<li>
<section class="detail" id="HBASE_WAL_DIR">
<h3>HBASE_WAL_DIR</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-60">HBASE_WAL_DIR</a></span></div>
<div class="block">Parameter name for HBase WAL directory</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.CommonFSUtils.HBASE_WAL_DIR">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="UNSAFE_STREAM_CAPABILITY_ENFORCE">
<h3>UNSAFE_STREAM_CAPABILITY_ENFORCE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-63">UNSAFE_STREAM_CAPABILITY_ENFORCE</a></span></div>
<div class="block">Parameter to disable stream capability enforcement checks</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.CommonFSUtils.UNSAFE_STREAM_CAPABILITY_ENFORCE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="FULL_RWX_PERMISSIONS">
<h3>FULL_RWX_PERMISSIONS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-67">FULL_RWX_PERMISSIONS</a></span></div>
<div class="block">Full access permissions (starting point for a umask)</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.util.CommonFSUtils.FULL_RWX_PERMISSIONS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="warningMap">
<h3>warningMap</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;org.apache.hadoop.fs.FileSystem,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-461">warningMap</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>CommonFSUtils</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-69">CommonFSUtils</a></span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isStartingWithPath(org.apache.hadoop.fs.Path,java.lang.String)">
<h3>isStartingWithPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-79">isStartingWithPath</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;rootPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="block">Compare of path component. Does not consider schema; i.e. if schemas different but
 <code>path</code> starts with <code>rootPath</code>, then the function returns true</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootPath</code> - value to check for</dd>
<dd><code>path</code> - subject to check</dd>
<dt>Returns:</dt>
<dd>True if <code>path</code> starts with <code>rootPath</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isMatchingTail(org.apache.hadoop.fs.Path,java.lang.String)">
<h3>isMatchingTail</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-93">isMatchingTail</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pathTail)</span></div>
<div class="block">Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. Does not consider schema; i.e. if schemas different but path or subpath matches,
 the two will equate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pathToSearch</code> - Path we will be trying to match against.</dd>
<dd><code>pathTail</code> - what to match</dd>
<dt>Returns:</dt>
<dd>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isMatchingTail(org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)">
<h3>isMatchingTail</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-105">isMatchingTail</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
 org.apache.hadoop.fs.Path&nbsp;pathTail)</span></div>
<div class="block">Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. If you passed in 'hdfs://a/b/c and b/c, it would return true. Does not consider
 schema; i.e. if schemas different but path or subpath matches, the two will equate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pathToSearch</code> - Path we will be trying to match agains against</dd>
<dd><code>pathTail</code> - what to match</dd>
<dt>Returns:</dt>
<dd>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteDirectory(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>deleteDirectory</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-138">deleteDirectory</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Delete if exists.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - filesystem object</dd>
<dd><code>dir</code> - directory to delete</dd>
<dt>Returns:</dt>
<dd>True if deleted <code>dir</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - e</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDefaultBlockSize(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>getDefaultBlockSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-148">getDefaultBlockSize</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</span></div>
<div class="block">Return the number of bytes that large input files should be optimally be split into to minimize
 i/o time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - filesystem object</dd>
<dt>Returns:</dt>
<dd>the default block size for the path's filesystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDefaultReplication(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>getDefaultReplication</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">short</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-158">getDefaultReplication</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</span></div>
</section>
</li>
<li>
<section class="detail" id="getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)">
<h3>getDefaultBufferSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-169">getDefaultBufferSize</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs)</span></div>
<div class="block">Returns the default buffer size to use during writes. The size of the buffer should probably be
 a multiple of hardware page size (4096 on Intel x86), and it determines how much data is
 buffered during read and write operations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - filesystem object</dd>
<dt>Returns:</dt>
<dd>default buffer size to use during writes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.permission.FsPermission,boolean)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FSDataOutputStream</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-189">create</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
 boolean&nbsp;overwrite)</span>
                                                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create the specified file on the filesystem. By default, this will:
 <ol>
 <li>apply the umask in the configuration (if it is enabled)</li>
 <li>use the fs configured buffer size (or 4096 if not set)</li>
 <li>use the default replication</li>
 <li>use the default block size</li>
 <li>not track progress</li>
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - <code>FileSystem</code> on which to write the file</dd>
<dd><code>path</code> - <code>Path</code> to the file to write</dd>
<dd><code>perm</code> - intial permissions</dd>
<dd><code>overwrite</code> - Whether or not the created file should be overwritten.</dd>
<dt>Returns:</dt>
<dd>output stream to the created file</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the file cannot be created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFilePermissions(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.conf.Configuration,java.lang.String)">
<h3>getFilePermissions</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.permission.FsPermission</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-208">getFilePermissions</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;permssionConfKey)</span></div>
<div class="block">Get the file permissions specified in the configuration, if they are enabled.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - filesystem that the file will be created on.</dd>
<dd><code>conf</code> - configuration to read for determining if permissions are enabled and
                         which to use</dd>
<dd><code>permssionConfKey</code> - property key in the configuration to use when finding the permission</dd>
<dt>Returns:</dt>
<dd>the permission to use when creating a new file on the fs. If special permissions are
         not specified in the configuration, then the default permissions on the the fs will be
         returned.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validateRootPath(org.apache.hadoop.fs.Path)">
<h3>validateRootPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-238">validateRootPath</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;root)</span>
                                                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Verifies root directory path is a valid URI with a scheme</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>root</code> - root directory path</dd>
<dt>Returns:</dt>
<dd>Passed <code>root</code> argument.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if not a valid URI with a scheme</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeWALRootPath(org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)">
<h3>removeWALRootPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-261">removeWALRootPath</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;path,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Checks for the presence of the WAL log root path (using the provided conf object) in the given
 path. If it exists, this method removes it and returns the String representation of remaining
 relative path.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - must not be null</dd>
<dd><code>conf</code> - must not be null</dd>
<dt>Returns:</dt>
<dd>String representation of the remaining relative path</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - from underlying filesystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPath(org.apache.hadoop.fs.Path)">
<h3>getPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-281">getPath</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;p)</span></div>
<div class="block">Return the 'path' component of a Path. In Hadoop, Path is a URI. This method returns the 'path'
 component of a Path's URI: e.g. If a Path is
 <code>hdfs://example.org:9000/hbase_trunk/TestTable/compaction.dir</code>, this method returns
 <code>/hbase_trunk/TestTable/compaction.dir</code>. This method is useful if you want to print
 out a Path without qualifying Filesystem instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>p</code> - Filesystem Path whose 'path' component we are to return.</dd>
<dt>Returns:</dt>
<dd>Path portion of the Filesystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRootDir(org.apache.hadoop.conf.Configuration)">
<h3>getRootDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-291">getRootDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c)</span>
                                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Get the path for the root data directory</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>c</code> - configuration</dd>
<dt>Returns:</dt>
<dd><code>Path</code> to hbase root directory from configuration as a qualified Path.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - e</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRootDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)">
<h3>setRootDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-297">setRootDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</span></div>
</section>
</li>
<li>
<section class="detail" id="setFsDefault(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)">
<h3>setFsDefault</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-301">setFsDefault</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</span></div>
</section>
</li>
<li>
<section class="detail" id="setFsDefault(org.apache.hadoop.conf.Configuration,java.lang.String)">
<h3>setFsDefault</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-305">setFsDefault</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;uri)</span></div>
</section>
</li>
<li>
<section class="detail" id="getRootDirFileSystem(org.apache.hadoop.conf.Configuration)">
<h3>getRootDirFileSystem</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileSystem</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-309">getRootDirFileSystem</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c)</span>
                                                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALRootDir(org.apache.hadoop.conf.Configuration)">
<h3>getWALRootDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-321">getWALRootDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c)</span>
                                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Get the path for the root directory for WAL data</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>c</code> - configuration</dd>
<dt>Returns:</dt>
<dd><code>Path</code> to hbase log root directory: e.g. <a href="#HBASE_WAL_DIR">"hbase.wal.dir"</a> from
         configuration as a qualified Path. Defaults to HBase root dir.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - e</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDirUri(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)">
<h3>getDirUri</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-337">getDirUri</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;p)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the URI in the string format</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>c</code> - configuration</dd>
<dd><code>p</code> - path</dd>
<dt>Returns:</dt>
<dd>- the URI's to string format</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setWALRootDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.fs.Path)">
<h3>setWALRootDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-344">setWALRootDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c,
 org.apache.hadoop.fs.Path&nbsp;root)</span></div>
</section>
</li>
<li>
<section class="detail" id="getWALFileSystem(org.apache.hadoop.conf.Configuration)">
<h3>getWALFileSystem</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileSystem</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-348">getWALFileSystem</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;c)</span>
                                                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isValidWALRootDir(org.apache.hadoop.fs.Path,org.apache.hadoop.conf.Configuration)">
<h3>isValidWALRootDir</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-359">isValidWALRootDir</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;walDir,
 org.apache.hadoop.conf.Configuration&nbsp;c)</span>
                                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALRegionDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName,java.lang.String)">
<h3>getWALRegionDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-381">getWALRegionDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName)</span>
                                                 throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the WAL region directory based on the given table name and region name</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conf</code> - configuration to determine WALRootDir</dd>
<dd><code>tableName</code> - Table that the region is under</dd>
<dd><code>encodedRegionName</code> - Region name used for creating the final region directory</dd>
<dt>Returns:</dt>
<dd>the region directory used to store WALs under the WALRootDir</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an exception determining the WALRootDir</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALTableDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)">
<h3>getWALTableDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-393">getWALTableDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</span>
                                                throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the Table directory under the WALRootDir for the specified table name</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conf</code> - configuration used to get the WALRootDir</dd>
<dd><code>tableName</code> - Table to get the directory for</dd>
<dt>Returns:</dt>
<dd>a path to the WAL table directory for the specified table</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an exception determining the WALRootDir</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWrongWALRegionDir(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName,java.lang.String)">
<h3>getWrongWALRegionDir</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-405">getWrongWALRegionDir</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName)</span>
                                                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">For compatibility, will be removed in 4.0.0.</div>
</div>
<div class="block">For backward compatibility with HBASE-20734, where we store recovered edits in a wrong
 directory without BASE_NAMESPACE_DIR. See HBASE-22617 for more details.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTableDir(org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.TableName)">
<h3>getTableDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-420">getTableDir</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</span></div>
<div class="block">Returns the <code>Path</code> object representing the table directory under
 path rootdir</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootdir</code> - qualified path of HBase root directory</dd>
<dd><code>tableName</code> - name of table</dd>
<dt>Returns:</dt>
<dd><code>Path</code> for table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRegionDir(org.apache.hadoop.fs.Path,org.apache.hadoop.hbase.TableName,java.lang.String)">
<h3>getRegionDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-433">getRegionDir</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</span></div>
<div class="block">Returns the <code>Path</code> object representing the region directory under
 path rootdir</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootdir</code> - qualified path of HBase root directory</dd>
<dd><code>tableName</code> - name of table</dd>
<dd><code>regionName</code> - The encoded region name</dd>
<dt>Returns:</dt>
<dd><code>Path</code> for region</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTableName(org.apache.hadoop.fs.Path)">
<h3>getTableName</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-443">getTableName</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;tablePath)</span></div>
<div class="block">Returns the <a href="../TableName.html" title="class in org.apache.hadoop.hbase"><code>TableName</code></a> object representing the table directory
 under path rootdir</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tablePath</code> - path of table</dd>
<dt>Returns:</dt>
<dd><code>Path</code> for table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNamespaceDir(org.apache.hadoop.fs.Path,java.lang.String)">
<h3>getNamespaceDir</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-454">getNamespaceDir</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;rootdir,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;namespace)</span></div>
<div class="block">Returns the <code>Path</code> object representing the namespace directory under
 path rootdir</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootdir</code> - qualified path of HBase root directory</dd>
<dd><code>namespace</code> - namespace name</dd>
<dt>Returns:</dt>
<dd><code>Path</code> for table</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)">
<h3>setStoragePolicy</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-476">setStoragePolicy</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy)</span></div>
<div class="block">Sets storage policy for given path. If the passed path is a directory, we'll set the storage
 policy for all files created in the future in said directory. Note that this change in storage
 policy takes place at the FileSystem level; it will persist beyond this RS's lifecycle. If
 we're running on a version of FileSystem that doesn't support the given storage policy (or
 storage policies at all), then we'll issue a log message and continue. See
 http://hadoop.apache.org/docs/r2.6.0/hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - We only do anything it implements a setStoragePolicy method</dd>
<dd><code>path</code> - the Path whose storage policy is to be set</dd>
<dd><code>storagePolicy</code> - Policy to set on <code>path</code>; see hadoop 2.6+
                      org.apache.hadoop.hdfs.protocol.HdfsConstants for possible list e.g
                      'COLD', 'WARM', 'HOT', 'ONE_SSD', 'ALL_SSD', 'LAZY_PERSIST'.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String,boolean)">
<h3>setStoragePolicy</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-486">setStoragePolicy</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy,
 boolean&nbsp;throwException)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invokeSetStoragePolicy(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)">
<h3>invokeSetStoragePolicy</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-518">invokeSetStoragePolicy</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;storagePolicy)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isHDFS(org.apache.hadoop.conf.Configuration)">
<h3>isHDFS</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-562">isHDFS</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Return true if this is a filesystem whose scheme is 'hdfs'.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - from underlying FileSystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRecoveredEdits(org.apache.hadoop.fs.Path)">
<h3>isRecoveredEdits</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-573">isRecoveredEdits</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.Path&nbsp;path)</span></div>
<div class="block">Checks if the given path is the one with 'recovered.edits' dir.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - must not be null</dd>
<dt>Returns:</dt>
<dd>True if we recovered edits</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentFileSystem(org.apache.hadoop.conf.Configuration)">
<h3>getCurrentFileSystem</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileSystem</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-581">getCurrentFileSystem</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span>
                                                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the filesystem of the hbase rootdir.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - from underlying FileSystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.PathFilter)">
<h3>listStatus</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileStatus[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-595">listStatus</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir,
 org.apache.hadoop.fs.PathFilter&nbsp;filter)</span>
                                                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal This accommodates
 differences between hadoop versions, where hadoop 1 does not throw a FileNotFoundException, and
 return an empty FileStatus[] while Hadoop 2 will throw FileNotFoundException. Where possible,
 prefer FSUtils#listStatusWithStatusFilter(FileSystem, Path, FileStatusFilter) instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - file system</dd>
<dd><code>dir</code> - directory</dd>
<dd><code>filter</code> - path filter</dd>
<dt>Returns:</dt>
<dd>null if dir is empty or doesn't exist, otherwise FileStatus array</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>listStatus</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FileStatus[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-619">listStatus</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</span>
                                                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal This would accommodates
 differences between hadoop versions</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - file system</dd>
<dd><code>dir</code> - directory</dd>
<dt>Returns:</dt>
<dd>null if dir is empty or doesn't exist, otherwise FileStatus array</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listLocatedStatus(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>listLocatedStatus</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.apache.hadoop.fs.LocatedFileStatus&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-629">listLocatedStatus</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;dir)</span>
                                                                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Calls fs.listFiles() to get FileStatus and BlockLocations together for reducing rpc call</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - file system</dd>
<dd><code>dir</code> - directory</dd>
<dt>Returns:</dt>
<dd>LocatedFileStatus list</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-657">delete</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;recursive)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Calls fs.delete() and returns the value returned by the fs.delete()</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - must not be null</dd>
<dd><code>path</code> - must not be null</dd>
<dd><code>recursive</code> - delete tree rooted at path</dd>
<dt>Returns:</dt>
<dd>the value returned by the fs.delete()</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - from underlying FileSystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExists(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path)">
<h3>isExists</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-669">isExists</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Calls fs.exists(). Checks if the specified path exists</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - must not be null</dd>
<dd><code>path</code> - must not be null</dd>
<dt>Returns:</dt>
<dd>the value returned by fs.exists()</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - from underlying FileSystem</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="logFileSystemState(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.slf4j.Logger)">
<h3>logFileSystemState</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-680">logFileSystemState</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;root,
 org.slf4j.Logger&nbsp;log)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Log the current state of the filesystem from a certain root directory</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fs</code> - filesystem to investigate</dd>
<dd><code>root</code> - root file/directory to start logging from</dd>
<dd><code>log</code> - log to output information</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if an unexpected exception occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="logFSTree(org.slf4j.Logger,org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.lang.String)">
<h3>logFSTree</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-690">logFSTree</a></span><wbr><span class="parameters">(org.slf4j.Logger&nbsp;log,
 org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;root,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prefix)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Recursive helper to log the state of the FS</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#logFileSystemState(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.slf4j.Logger)"><code>logFileSystemState(FileSystem, Path, Logger)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,org.apache.hadoop.fs.Path)">
<h3>renameAndSetModifyTime</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-707">renameAndSetModifyTime</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;src,
 org.apache.hadoop.fs.Path&nbsp;dest)</span>
                                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)">
<h3>checkShortCircuitReadBufferSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-718">checkShortCircuitReadBufferSize</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
<div class="block">Check if short circuit read buffer size is set and if not, set it to hbase value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conf</code> - must not be null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createForWal(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean)">
<h3>createForWal</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FSDataOutputStream</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-807">createForWal</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;overwrite)</span>
                                                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Attempt to use builder API via reflection to create a file with the given parameters and
 replication enabled.
 <p/>
 Will not attempt to enable replication when passed an HFileSystem.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createForWal(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,boolean,int,short,long,boolean,boolean)">
<h3>createForWal</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.hadoop.fs.FSDataOutputStream</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/util/CommonFSUtils.html#line-820">createForWal</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;path,
 boolean&nbsp;overwrite,
 int&nbsp;bufferSize,
 short&nbsp;replication,
 long&nbsp;blockSize,
 boolean&nbsp;noLocalWrite,
 boolean&nbsp;isRecursive)</span>
                                                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Attempt to use builder API via reflection to create a file with the given parameters and
 replication enabled.
 <p/>
 Will not attempt to enable replication when passed an HFileSystem.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
