<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ServerManager (Apache HBase 2.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.master, class: ServerManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ServerManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.master</a></div>
<h1 title="Class ServerManager" class="title">Class ServerManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.hadoop.hbase.master.ServerManager</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../conf/ConfigurationObserver.html" title="interface in org.apache.hadoop.hbase.conf">ConfigurationObserver</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-93">ServerManager</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../conf/ConfigurationObserver.html" title="interface in org.apache.hadoop.hbase.conf">ConfigurationObserver</a></span></div>
<div class="block">The ServerManager class manages info about region servers.
 <p>
 Maintains lists of online and dead servers. Processes the startups, shutdowns, and deaths of
 region servers.
 <p>
 Servers are distinguished in two different ways. A given server has a location, specified by
 hostname and port, and of which there can only be one online at any given time. A server instance
 is specified by the location (hostname and port) as well as the startcode (timestamp from when
 the server was started). This is used to differentiate a restarted instance of a given server
 from the original instance.
 <p>
 If a sever is known not to be running any more, it is called dead. The dead server needs to be
 handled by a ServerShutdownHandler. If the handler is not enabled yet, the server can't be
 handled right away so it is queued up. After the handler is enabled, the server will be submitted
 to a handler to handle. However, the handler may be just partially enabled. If so, the server
 cannot be fully processed, and be queued up for further processing. A server is fully processed
 only after the handler is fully enabled and has completed the handling.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ServerManager.ServerLiveState.html" class="type-name-link" title="enum in org.apache.hadoop.hbase.master">ServerManager.ServerLiveState</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></code></div>
<div class="col-second even-row-color"><code><a href="#clusterShutdown" class="member-name-link">clusterShutdown</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="../client/ClusterConnection.html" title="interface in org.apache.hadoop.hbase.client">ClusterConnection</a></code></div>
<div class="col-second odd-row-color"><code><a href="#connection" class="member-name-link">connection</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="DeadServer.html" title="class in org.apache.hadoop.hbase.master">DeadServer</a></code></div>
<div class="col-second even-row-color"><code><a href="#deadservers" class="member-name-link">deadservers</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#drainingServers" class="member-name-link">drainingServers</a></code></div>
<div class="col-last odd-row-color">
<div class="block">List of region servers that should not get any more new regions.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#flushedSequenceIdByRegion" class="member-name-link">flushedSequenceIdByRegion</a></code></div>
<div class="col-last even-row-color">
<div class="block">The last flushed sequence id for a region.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#listeners" class="member-name-link">listeners</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Listeners that are called on server events.</div>
</div>
<div class="col-first even-row-color"><code>private static final org.slf4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#LOG" class="member-name-link">LOG</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a></code></div>
<div class="col-second odd-row-color"><code><a href="#master" class="member-name-link">master</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final long</code></div>
<div class="col-second even-row-color"><code><a href="#maxSkew" class="member-name-link">maxSkew</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<wbr><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#onlineServers" class="member-name-link">onlineServers</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map of registered servers to their current load</div>
</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#rejectDecommissionedHostsConfig" class="member-name-link">rejectDecommissionedHostsConfig</a></code></div>
<div class="col-last even-row-color">
<div class="block">Configured value of HConstants.REJECT_DECOMMISSIONED_HOSTS_KEY</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="../ipc/RpcControllerFactory.html" title="class in org.apache.hadoop.hbase.ipc">RpcControllerFactory</a></code></div>
<div class="col-second odd-row-color"><code><a href="#rpcControllerFactory" class="member-name-link">rpcControllerFactory</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="RegionServerList.html" title="interface in org.apache.hadoop.hbase.master">RegionServerList</a></code></div>
<div class="col-second even-row-color"><code><a href="#storage" class="member-name-link">storage</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#storeFlushedSequenceIdsByRegion" class="member-name-link">storeFlushedSequenceIdsByRegion</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The last flushed sequence id for a store in a region.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAIT_ON_REGIONSERVERS_INTERVAL" class="member-name-link">WAIT_ON_REGIONSERVERS_INTERVAL</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#WAIT_ON_REGIONSERVERS_MAXTOSTART" class="member-name-link">WAIT_ON_REGIONSERVERS_MAXTOSTART</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAIT_ON_REGIONSERVERS_MINTOSTART" class="member-name-link">WAIT_ON_REGIONSERVERS_MINTOSTART</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#WAIT_ON_REGIONSERVERS_TIMEOUT" class="member-name-link">WAIT_ON_REGIONSERVERS_TIMEOUT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final long</code></div>
<div class="col-second even-row-color"><code><a href="#warningSkew" class="member-name-link">warningSkew</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.hbase.master.MasterServices,org.apache.hadoop.hbase.master.RegionServerList)" class="member-name-link">ServerManager</a><wbr>(<a href="MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;master,
 <a href="RegionServerList.html" title="interface in org.apache.hadoop.hbase.master">RegionServerList</a>&nbsp;storage)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addServerToDrainList(org.apache.hadoop.hbase.ServerName)" class="member-name-link">addServerToDrainList</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add the server to the drain list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#areDeadServersInProgress()" class="member-name-link">areDeadServersInProgress</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if any dead servers are currently in progress.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkAndRecordNewServer(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)" class="member-name-link">checkAndRecordNewServer</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check is a server of same host and port already exists, if not, or the existed one got a
 smaller start code, record it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkClockSkew(org.apache.hadoop.hbase.ServerName,long)" class="member-name-link">checkClockSkew</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 long&nbsp;serverCurrentTime)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the clock skew between the server and the master.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkIsDead(org.apache.hadoop.hbase.ServerName,java.lang.String)" class="member-name-link">checkIsDead</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;what)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when RegionServer first reports in for duty and thereafter each time it heartbeats to
 make sure it is has not been figured for dead.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkRejectableDecommissionedStatus(org.apache.hadoop.hbase.ServerName)" class="member-name-link">checkRejectableDecommissionedStatus</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the Master is configured to reject decommissioned hosts or not.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearDeadServersWithSameHostNameAndPortOfOnlineServer()" class="member-name-link">clearDeadServersWithSameHostNameAndPortOfOnlineServer</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">To clear any dead server with same host name and port of any online server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#closeRegionSilentlyAndWait(org.apache.hadoop.hbase.client.ClusterConnection,org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.client.RegionInfo,long)" class="member-name-link">closeRegionSilentlyAndWait</a><wbr>(<a href="../client/ClusterConnection.html" title="interface in org.apache.hadoop.hbase.client">ClusterConnection</a>&nbsp;connection,
 <a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server,
 <a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 long&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Contacts a region server and waits up to timeout ms to close the region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#countOfRegionServers()" class="member-name-link">countOfRegionServers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the count of active regionservers</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDestinationServersList()" class="member-name-link">createDestinationServersList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calls <a href="#createDestinationServersList(java.util.List)"><code>createDestinationServersList(java.util.List&lt;org.apache.hadoop.hbase.ServerName&gt;)</code></a> without server to exclude.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDestinationServersList(java.util.List)" class="member-name-link">createDestinationServersList</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;serversToExclude)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a list of possible destinations for a region.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireServer(org.apache.hadoop.hbase.ServerName)" class="member-name-link">expireServer</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expire the passed server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireServer(org.apache.hadoop.hbase.ServerName,boolean)" class="member-name-link">expireServer</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 boolean&nbsp;force)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findDeadServersAndProcess(java.util.Set,java.util.Set)" class="member-name-link">findDeadServersAndProcess</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServersFromPE,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;liveServersFromWALDir)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find out the region servers crashed between the crash of the previous master instance and the
 current master instance and schedule SCP for them.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findServerWithSameHostnamePortWithLock(org.apache.hadoop.hbase.ServerName)" class="member-name-link">findServerWithSameHostnamePortWithLock</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Assumes onlineServers is locked.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAverageLoad()" class="member-name-link">getAverageLoad</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute the average load across all region servers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DeadServer.html" title="class in org.apache.hadoop.hbase.master">DeadServer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDeadServers()" class="member-name-link">getDeadServers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDrainingServersList()" class="member-name-link">getDrainingServersList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns A copy of the internal list of draining servers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInfoPort(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getInfoPort</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.hadoop.hbase.shaded.protobuf.generated.ClusterStatusProtos.RegionStoreSequenceIds</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastFlushedSequenceId(byte%5B%5D)" class="member-name-link">getLastFlushedSequenceId</a><wbr>(byte[]&nbsp;encodedRegionName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLoad(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getLoad</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns ServerMetrics if serverName is known else null</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMinToStart()" class="member-name-link">getMinToStart</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculate min necessary to start.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<wbr><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOnlineServers()" class="member-name-link">getOnlineServers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns Read-only map of servers to serverinfo</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOnlineServersList()" class="member-name-link">getOnlineServersList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns A copy of the internal list of online servers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOnlineServersListWithPredicator(java.util.List,java.util.function.Predicate)" class="member-name-link">getOnlineServersListWithPredicator</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;keys,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;&nbsp;idleServerPredicator)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRegionServersInZK(org.apache.hadoop.hbase.zookeeper.ZKWatcher)" class="member-name-link">getRegionServersInZK</a><wbr>(<a href="../zookeeper/ZKWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKWatcher</a>&nbsp;zkw)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRejectDecommissionedHostsConfig(org.apache.hadoop.conf.Configuration)" class="member-name-link">getRejectDecommissionedHostsConfig</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads the value of HConstants.REJECT_DECOMMISSIONED_HOSTS_KEY from the config and returns it</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.AdminService.BlockingInterface</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRsAdmin(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getRsAdmin</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStrForMax(int)" class="member-name-link">getStrForMax</a><wbr>(int&nbsp;max)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVersion(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getVersion</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">May return "0.0.0" when server is not online</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVersionNumber(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getVersionNumber</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">May return 0 when server is not online.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isClusterShutdown()" class="member-name-link">isClusterShutdown</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRegionInServerManagerStates(org.apache.hadoop.hbase.client.RegionInfo)" class="member-name-link">isRegionInServerManagerStates</a><wbr>(<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isServerDead(org.apache.hadoop.hbase.ServerName)" class="member-name-link">isServerDead</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if a server is known to be dead.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ServerManager.ServerLiveState.html" title="enum in org.apache.hadoop.hbase.master">ServerManager.ServerLiveState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isServerKnownAndOnline(org.apache.hadoop.hbase.ServerName)" class="member-name-link">isServerKnownAndOnline</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns whether the server is online, dead, or unknown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isServerOnline(org.apache.hadoop.hbase.ServerName)" class="member-name-link">isServerOnline</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isServerUnknown(org.apache.hadoop.hbase.ServerName)" class="member-name-link">isServerUnknown</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if a server is unknown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#letRegionServersShutdown()" class="member-name-link">letRegionServersShutdown</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#moveFromOnlineToDeadServers(org.apache.hadoop.hbase.ServerName)" class="member-name-link">moveFromOnlineToDeadServers</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when server has expired.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../ipc/HBaseRpcController.html" title="interface in org.apache.hadoop.hbase.ipc">HBaseRpcController</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#newRpcController()" class="member-name-link">newRpcController</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onConfigurationChange(org.apache.hadoop.conf.Configuration)" class="member-name-link">onConfigurationChange</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Implementation of the ConfigurationObserver interface.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recordNewServerWithLock(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)" class="member-name-link">recordNewServerWithLock</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds the onlineServers list.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#regionServerReport(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)" class="member-name-link">regionServerReport</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#regionServerStartup(org.apache.hadoop.hbase.shaded.protobuf.generated.RegionServerStatusProtos.RegionServerStartupRequest,int,java.lang.String,java.net.InetAddress)" class="member-name-link">regionServerStartup</a><wbr>(org.apache.hadoop.hbase.shaded.protobuf.generated.RegionServerStatusProtos.RegionServerStartupRequest&nbsp;request,
 int&nbsp;versionNumber,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;version,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a>&nbsp;ia)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Let the server manager know a new regionserver has come online</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerListener(org.apache.hadoop.hbase.master.ServerListener)" class="member-name-link">registerListener</a><wbr>(<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add the listener to the notification list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeRegion(org.apache.hadoop.hbase.client.RegionInfo)" class="member-name-link">removeRegion</a><wbr>(<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;regionInfo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by delete table and similar to notify the ServerManager that a region was removed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeRegions(java.util.List)" class="member-name-link">removeRegions</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&gt;&nbsp;regions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by delete table and similar to notify the ServerManager that a region was removed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeServerFromDrainList(org.apache.hadoop.hbase.ServerName)" class="member-name-link">removeServerFromDrainList</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendRegionWarmup(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.client.RegionInfo)" class="member-name-link">sendRegionWarmup</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server,
 <a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a WARMUP RPC to the specified server to warmup the specified region.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shutdownCluster()" class="member-name-link">shutdownCluster</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stop the ServerManager.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unregisterListener(org.apache.hadoop.hbase.master.ServerListener)" class="member-name-link">unregisterListener</a><wbr>(<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the listener from the notification list.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateLastFlushedSequenceIds(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)" class="member-name-link">updateLastFlushedSequenceIds</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;hsl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates last flushed sequence Ids for the regions on server sn</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitForRegionServers(org.apache.hadoop.hbase.monitoring.MonitoredTask)" class="member-name-link">waitForRegionServers</a><wbr>(<a href="../monitoring/MonitoredTask.html" title="interface in org.apache.hadoop.hbase.monitoring">MonitoredTask</a>&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wait for the region servers to report in.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="WAIT_ON_REGIONSERVERS_MAXTOSTART">
<h3>WAIT_ON_REGIONSERVERS_MAXTOSTART</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-95">WAIT_ON_REGIONSERVERS_MAXTOSTART</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.ServerManager.WAIT_ON_REGIONSERVERS_MAXTOSTART">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAIT_ON_REGIONSERVERS_MINTOSTART">
<h3>WAIT_ON_REGIONSERVERS_MINTOSTART</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-98">WAIT_ON_REGIONSERVERS_MINTOSTART</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.ServerManager.WAIT_ON_REGIONSERVERS_MINTOSTART">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAIT_ON_REGIONSERVERS_TIMEOUT">
<h3>WAIT_ON_REGIONSERVERS_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-101">WAIT_ON_REGIONSERVERS_TIMEOUT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.ServerManager.WAIT_ON_REGIONSERVERS_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAIT_ON_REGIONSERVERS_INTERVAL">
<h3>WAIT_ON_REGIONSERVERS_INTERVAL</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-104">WAIT_ON_REGIONSERVERS_INTERVAL</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.master.ServerManager.WAIT_ON_REGIONSERVERS_INTERVAL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LOG">
<h3>LOG</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-107">LOG</a></span></div>
</section>
</li>
<li>
<section class="detail" id="clusterShutdown">
<h3>clusterShutdown</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-110">clusterShutdown</a></span></div>
</section>
</li>
<li>
<section class="detail" id="flushedSequenceIdByRegion">
<h3>flushedSequenceIdByRegion</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-115">flushedSequenceIdByRegion</a></span></div>
<div class="block">The last flushed sequence id for a region.</div>
</section>
</li>
<li>
<section class="detail" id="storeFlushedSequenceIdsByRegion">
<h3>storeFlushedSequenceIdsByRegion</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;byte[],<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-121">storeFlushedSequenceIdsByRegion</a></span></div>
<div class="block">The last flushed sequence id for a store in a region.</div>
</section>
</li>
<li>
<section class="detail" id="onlineServers">
<h3>onlineServers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentNavigableMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentNavigableMap</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<wbr><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-126">onlineServers</a></span></div>
<div class="block">Map of registered servers to their current load</div>
</section>
</li>
<li>
<section class="detail" id="drainingServers">
<h3>drainingServers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-130">drainingServers</a></span></div>
<div class="block">List of region servers that should not get any more new regions.</div>
</section>
</li>
<li>
<section class="detail" id="master">
<h3>master</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-132">master</a></span></div>
</section>
</li>
<li>
<section class="detail" id="connection">
<h3>connection</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../client/ClusterConnection.html" title="interface in org.apache.hadoop.hbase.client">ClusterConnection</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-133">connection</a></span></div>
</section>
</li>
<li>
<section class="detail" id="storage">
<h3>storage</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="RegionServerList.html" title="interface in org.apache.hadoop.hbase.master">RegionServerList</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-134">storage</a></span></div>
</section>
</li>
<li>
<section class="detail" id="deadservers">
<h3>deadservers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="DeadServer.html" title="class in org.apache.hadoop.hbase.master">DeadServer</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-136">deadservers</a></span></div>
</section>
</li>
<li>
<section class="detail" id="maxSkew">
<h3>maxSkew</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-138">maxSkew</a></span></div>
</section>
</li>
<li>
<section class="detail" id="warningSkew">
<h3>warningSkew</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-139">warningSkew</a></span></div>
</section>
</li>
<li>
<section class="detail" id="rpcControllerFactory">
<h3>rpcControllerFactory</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../ipc/RpcControllerFactory.html" title="class in org.apache.hadoop.hbase.ipc">RpcControllerFactory</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-141">rpcControllerFactory</a></span></div>
</section>
</li>
<li>
<section class="detail" id="listeners">
<h3>listeners</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-144">listeners</a></span></div>
<div class="block">Listeners that are called on server events.</div>
</section>
</li>
<li>
<section class="detail" id="rejectDecommissionedHostsConfig">
<h3>rejectDecommissionedHostsConfig</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-147">rejectDecommissionedHostsConfig</a></span></div>
<div class="block">Configured value of HConstants.REJECT_DECOMMISSIONED_HOSTS_KEY</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.hbase.master.MasterServices,org.apache.hadoop.hbase.master.RegionServerList)">
<h3>ServerManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-152">ServerManager</a></span><wbr><span class="parameters">(<a href="MasterServices.html" title="interface in org.apache.hadoop.hbase.master">MasterServices</a>&nbsp;master,
 <a href="RegionServerList.html" title="interface in org.apache.hadoop.hbase.master">RegionServerList</a>&nbsp;storage)</span></div>
<div class="block">Constructor.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onConfigurationChange(org.apache.hadoop.conf.Configuration)">
<h3>onConfigurationChange</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-169">onConfigurationChange</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
<div class="block">Implementation of the ConfigurationObserver interface. We are interested in live-loading the
 configuration value of HConstants.REJECT_DECOMMISSIONED_HOSTS_KEY</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../conf/ConfigurationObserver.html#onConfigurationChange(org.apache.hadoop.conf.Configuration)">onConfigurationChange</a></code>&nbsp;in interface&nbsp;<code><a href="../conf/ConfigurationObserver.html" title="interface in org.apache.hadoop.hbase.conf">ConfigurationObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>conf</code> - Server configuration instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRejectDecommissionedHostsConfig(org.apache.hadoop.conf.Configuration)">
<h3>getRejectDecommissionedHostsConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-187">getRejectDecommissionedHostsConfig</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
<div class="block">Reads the value of HConstants.REJECT_DECOMMISSIONED_HOSTS_KEY from the config and returns it</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conf</code> - Configuration instance of the Master</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerListener(org.apache.hadoop.hbase.master.ServerListener)">
<h3>registerListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-196">registerListener</a></span><wbr><span class="parameters">(<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&nbsp;listener)</span></div>
<div class="block">Add the listener to the notification list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - The ServerListener to register</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unregisterListener(org.apache.hadoop.hbase.master.ServerListener)">
<h3>unregisterListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-204">unregisterListener</a></span><wbr><span class="parameters">(<a href="ServerListener.html" title="interface in org.apache.hadoop.hbase.master">ServerListener</a>&nbsp;listener)</span></div>
<div class="block">Remove the listener from the notification list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - The ServerListener to unregister</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="regionServerStartup(org.apache.hadoop.hbase.shaded.protobuf.generated.RegionServerStatusProtos.RegionServerStartupRequest,int,java.lang.String,java.net.InetAddress)">
<h3>regionServerStartup</h3>
<div class="member-signature"><span class="return-type"><a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-216">regionServerStartup</a></span><wbr><span class="parameters">(org.apache.hadoop.hbase.shaded.protobuf.generated.RegionServerStatusProtos.RegionServerStartupRequest&nbsp;request,
 int&nbsp;versionNumber,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;version,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a>&nbsp;ia)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Let the server manager know a new regionserver has come online</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - the startup request</dd>
<dd><code>versionNumber</code> - the version number of the new regionserver</dd>
<dd><code>version</code> - the version of the new regionserver, could contain strings like "SNAPSHOT"</dd>
<dd><code>ia</code> - the InetAddress from which request is received</dd>
<dt>Returns:</dt>
<dd>The ServerName we know this server as.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateLastFlushedSequenceIds(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)">
<h3>updateLastFlushedSequenceIds</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-250">updateLastFlushedSequenceIds</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;hsl)</span></div>
<div class="block">Updates last flushed sequence Ids for the regions on server sn</div>
</section>
</li>
<li>
<section class="detail" id="regionServerReport(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)">
<h3>regionServerReport</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-286">regionServerReport</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</span>
                        throws <span class="exceptions"><a href="../YouAreDeadException.html" title="class in org.apache.hadoop.hbase">YouAreDeadException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../YouAreDeadException.html" title="class in org.apache.hadoop.hbase">YouAreDeadException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkRejectableDecommissionedStatus(org.apache.hadoop.hbase.ServerName)">
<h3>checkRejectableDecommissionedStatus</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-330">checkRejectableDecommissionedStatus</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</span>
                                          throws <span class="exceptions"><a href="../ipc/DecommissionedHostRejectedException.html" title="class in org.apache.hadoop.hbase.ipc">DecommissionedHostRejectedException</a></span></div>
<div class="block">Checks if the Master is configured to reject decommissioned hosts or not. When it's configured
 to do so, any RegionServer trying to join the cluster will have it's host checked against the
 list of hosts of currently decommissioned servers and potentially get prevented from reporting
 for duty; otherwise, we do nothing and we let them pass to the next check. See HBASE-28342 for
 details.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sn</code> - The ServerName to check for</dd>
<dt>Throws:</dt>
<dd><code><a href="../ipc/DecommissionedHostRejectedException.html" title="class in org.apache.hadoop.hbase.ipc">DecommissionedHostRejectedException</a></code> - if the Master is configured to reject
                                             decommissioned hosts and this host exists in the
                                             list of the decommissioned servers</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkAndRecordNewServer(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)">
<h3>checkAndRecordNewServer</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-362">checkAndRecordNewServer</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</span></div>
<div class="block">Check is a server of same host and port already exists, if not, or the existed one got a
 smaller start code, record it.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverName</code> - the server to check and record</dd>
<dd><code>sl</code> - the server load on the server</dd>
<dt>Returns:</dt>
<dd>true if the server is recorded, otherwise, false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findDeadServersAndProcess(java.util.Set,java.util.Set)">
<h3>findDeadServersAndProcess</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-404">findDeadServersAndProcess</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;deadServersFromPE,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;liveServersFromWALDir)</span></div>
<div class="block">Find out the region servers crashed between the crash of the previous master instance and the
 current master instance and schedule SCP for them.
 <p/>
 Since the <code>RegionServerTracker</code> has already helped us to construct the online servers set
 by scanning zookeeper, now we can compare the online servers with <code>liveServersFromWALDir</code>
 to find out whether there are servers which are already dead.
 <p/>
 Must be called inside the initialization method of <code>RegionServerTracker</code> to avoid
 concurrency issue.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>deadServersFromPE</code> - the region servers which already have a SCP associated.</dd>
<dd><code>liveServersFromWALDir</code> - the live region servers from wal directory.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkClockSkew(org.apache.hadoop.hbase.ServerName,long)">
<h3>checkClockSkew</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-418">checkClockSkew</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 long&nbsp;serverCurrentTime)</span>
                     throws <span class="exceptions"><a href="../ClockOutOfSyncException.html" title="class in org.apache.hadoop.hbase">ClockOutOfSyncException</a></span></div>
<div class="block">Checks if the clock skew between the server and the master. If the clock skew exceeds the
 configured max, it will throw an exception; if it exceeds the configured warning threshold, it
 will log a warning but start normally.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverName</code> - Incoming servers's name</dd>
<dt>Throws:</dt>
<dd><code><a href="../ClockOutOfSyncException.html" title="class in org.apache.hadoop.hbase">ClockOutOfSyncException</a></code> - if the skew exceeds the configured max value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkIsDead(org.apache.hadoop.hbase.ServerName,java.lang.String)">
<h3>checkIsDead</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-442">checkIsDead</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;what)</span>
                  throws <span class="exceptions"><a href="../YouAreDeadException.html" title="class in org.apache.hadoop.hbase">YouAreDeadException</a></span></div>
<div class="block">Called when RegionServer first reports in for duty and thereafter each time it heartbeats to
 make sure it is has not been figured for dead. If this server is on the dead list, reject it
 with a YouAreDeadException. If it was dead but came back with a new start code, remove the old
 entry from the dead list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>what</code> - START or REPORT</dd>
<dt>Throws:</dt>
<dd><code><a href="../YouAreDeadException.html" title="class in org.apache.hadoop.hbase">YouAreDeadException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findServerWithSameHostnamePortWithLock(org.apache.hadoop.hbase.ServerName)">
<h3>findServerWithSameHostnamePortWithLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-468">findServerWithSameHostnamePortWithLock</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Assumes onlineServers is locked.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>ServerName with matching hostname and port.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recordNewServerWithLock(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.ServerMetrics)">
<h3>recordNewServerWithLock</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-485">recordNewServerWithLock</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&nbsp;sl)</span></div>
<div class="block">Adds the onlineServers list. onlineServers should be locked.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverName</code> - The remote servers name.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastFlushedSequenceId(byte[])">
<h3>getLastFlushedSequenceId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.hadoop.hbase.shaded.protobuf.generated.ClusterStatusProtos.RegionStoreSequenceIds</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-491">getLastFlushedSequenceId</a></span><wbr><span class="parameters">(byte[]&nbsp;encodedRegionName)</span></div>
</section>
</li>
<li>
<section class="detail" id="getLoad(org.apache.hadoop.hbase.ServerName)">
<h3>getLoad</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-508">getLoad</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Returns ServerMetrics if serverName is known else null</div>
</section>
</li>
<li>
<section class="detail" id="getAverageLoad()">
<h3>getAverageLoad</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-518">getAverageLoad</a></span>()</div>
<div class="block">Compute the average load across all region servers. Currently, this uses a very naive
 computation - just uses the number of regions being served, ignoring stats about number of
 requests.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the average load</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countOfRegionServers()">
<h3>countOfRegionServers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-529">countOfRegionServers</a></span>()</div>
<div class="block">Returns the count of active regionservers</div>
</section>
</li>
<li>
<section class="detail" id="getOnlineServers()">
<h3>getOnlineServers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>,<wbr><a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-535">getOnlineServers</a></span>()</div>
<div class="block">Returns Read-only map of servers to serverinfo</div>
</section>
</li>
<li>
<section class="detail" id="getDeadServers()">
<h3>getDeadServers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DeadServer.html" title="class in org.apache.hadoop.hbase.master">DeadServer</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-542">getDeadServers</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="areDeadServersInProgress()">
<h3>areDeadServersInProgress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-550">areDeadServersInProgress</a></span>()</div>
<div class="block">Checks if any dead servers are currently in progress.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if any RS are being processed as dead, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="letRegionServersShutdown()">
<h3>letRegionServersShutdown</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-554">letRegionServersShutdown</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getRegionServersInZK(org.apache.hadoop.hbase.zookeeper.ZKWatcher)">
<h3>getRegionServersInZK</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-605">getRegionServersInZK</a></span><wbr><span class="parameters">(<a href="../zookeeper/ZKWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKWatcher</a>&nbsp;zkw)</span>
                                   throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expireServer(org.apache.hadoop.hbase.ServerName)">
<h3>expireServer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-617">expireServer</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Expire the passed server. Add it to list of dead servers and queue a shutdown processing.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>pid if we queued a ServerCrashProcedure else <a href="../procedure2/Procedure.html#NO_PROC_ID"><code>Procedure.NO_PROC_ID</code></a> if we did not
         (could happen for many reasons including the fact that its this server that is going
         down or we already have queued an SCP for this server or SCP processing is currently
         disabled because we are in startup phase).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expireServer(org.apache.hadoop.hbase.ServerName,boolean)">
<h3>expireServer</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-622">expireServer</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 boolean&nbsp;force)</span></div>
</section>
</li>
<li>
<section class="detail" id="moveFromOnlineToDeadServers(org.apache.hadoop.hbase.ServerName)">
<h3>moveFromOnlineToDeadServers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-677">moveFromOnlineToDeadServers</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</span></div>
<div class="block">Called when server has expired.</div>
</section>
</li>
<li>
<section class="detail" id="removeServerFromDrainList(org.apache.hadoop.hbase.ServerName)">
<h3>removeServerFromDrainList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-699">removeServerFromDrainList</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</span></div>
</section>
</li>
<li>
<section class="detail" id="addServerToDrainList(org.apache.hadoop.hbase.ServerName)">
<h3>addServerToDrainList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-710">addServerToDrainList</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</span></div>
<div class="block">Add the server to the drain list.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if the server is added or the server is already on the drain list.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newRpcController()">
<h3>newRpcController</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../ipc/HBaseRpcController.html" title="interface in org.apache.hadoop.hbase.ipc">HBaseRpcController</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-733">newRpcController</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="sendRegionWarmup(org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.client.RegionInfo)">
<h3>sendRegionWarmup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-745">sendRegionWarmup</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server,
 <a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region)</span></div>
<div class="block">Sends a WARMUP RPC to the specified server to warmup the specified region.
 <p>
 A region server could reject the close request because it either does not have the specified
 region or the region is being split.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>server</code> - server to warmup a region</dd>
<dd><code>region</code> - region to warmup</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="closeRegionSilentlyAndWait(org.apache.hadoop.hbase.client.ClusterConnection,org.apache.hadoop.hbase.ServerName,org.apache.hadoop.hbase.client.RegionInfo,long)">
<h3>closeRegionSilentlyAndWait</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-761">closeRegionSilentlyAndWait</a></span><wbr><span class="parameters">(<a href="../client/ClusterConnection.html" title="interface in org.apache.hadoop.hbase.client">ClusterConnection</a>&nbsp;connection,
 <a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;server,
 <a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 long&nbsp;timeout)</span>
                                       throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">Contacts a region server and waits up to timeout ms to close the region. This bypasses the
 active hmaster. Pass -1 as timeout if you do not want to wait on result.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRsAdmin(org.apache.hadoop.hbase.ServerName)">
<h3>getRsAdmin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.AdminService.BlockingInterface</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-800">getRsAdmin</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sn)</span>
                                                                                                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Admin interface for the remote regionserver named <code>sn</code></dd>
<dt>Throws:</dt>
<dd><code>RetriesExhaustedException</code> - wrapping a ConnectException if failed</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMinToStart()">
<h3>getMinToStart</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-814">getMinToStart</a></span>()</div>
<div class="block">Calculate min necessary to start. This is not an absolute. It is just a friction that will
 cause us hang around a bit longer waiting on RegionServers to check-in.</div>
</section>
</li>
<li>
<section class="detail" id="waitForRegionServers(org.apache.hadoop.hbase.monitoring.MonitoredTask)">
<h3>waitForRegionServers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-842">waitForRegionServers</a></span><wbr><span class="parameters">(<a href="../monitoring/MonitoredTask.html" title="interface in org.apache.hadoop.hbase.monitoring">MonitoredTask</a>&nbsp;status)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block">Wait for the region servers to report in. We will wait until one of this condition is met: -
 the master is stopped - the 'hbase.master.wait.on.regionservers.maxtostart' number of region
 servers is reached - the 'hbase.master.wait.on.regionservers.mintostart' is reached AND there
 have been no new region server in for 'hbase.master.wait.on.regionservers.interval' time AND
 the 'hbase.master.wait.on.regionservers.timeout' is reached</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStrForMax(int)">
<h3>getStrForMax</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-912">getStrForMax</a></span><wbr><span class="parameters">(int&nbsp;max)</span></div>
</section>
</li>
<li>
<section class="detail" id="getOnlineServersList()">
<h3>getOnlineServersList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-917">getOnlineServersList</a></span>()</div>
<div class="block">Returns A copy of the internal list of online servers.</div>
</section>
</li>
<li>
<section class="detail" id="getOnlineServersListWithPredicator(java.util.List,java.util.function.Predicate)">
<h3>getOnlineServersListWithPredicator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-928">getOnlineServersListWithPredicator</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;keys,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="../ServerMetrics.html" title="interface in org.apache.hadoop.hbase">ServerMetrics</a>&gt;&nbsp;idleServerPredicator)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keys</code> - The target server name</dd>
<dd><code>idleServerPredicator</code> - Evaluates the server on the given load</dd>
<dt>Returns:</dt>
<dd>A copy of the internal list of online servers matched by the predicator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDrainingServersList()">
<h3>getDrainingServersList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-945">getDrainingServersList</a></span>()</div>
<div class="block">Returns A copy of the internal list of draining servers.</div>
</section>
</li>
<li>
<section class="detail" id="isServerOnline(org.apache.hadoop.hbase.ServerName)">
<h3>isServerOnline</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-949">isServerOnline</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
</section>
</li>
<li>
<section class="detail" id="isServerKnownAndOnline(org.apache.hadoop.hbase.ServerName)">
<h3>isServerKnownAndOnline</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ServerManager.ServerLiveState.html" title="enum in org.apache.hadoop.hbase.master">ServerManager.ServerLiveState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-960">isServerKnownAndOnline</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Returns whether the server is online, dead, or unknown.</div>
</section>
</li>
<li>
<section class="detail" id="isServerDead(org.apache.hadoop.hbase.ServerName)">
<h3>isServerDead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-971">isServerDead</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Check if a server is known to be dead. A server can be online, or known to be dead, or unknown
 to this manager (i.e, not online, not known to be dead either; it is simply not tracked by the
 master any more, for example, a very old previous instance).</div>
</section>
</li>
<li>
<section class="detail" id="isServerUnknown(org.apache.hadoop.hbase.ServerName)">
<h3>isServerUnknown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-980">isServerUnknown</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">Check if a server is unknown. A server can be online, or known to be dead, or unknown to this
 manager (i.e, not online, not known to be dead either; it is simply not tracked by the master
 any more, for example, a very old previous instance).</div>
</section>
</li>
<li>
<section class="detail" id="shutdownCluster()">
<h3>shutdownCluster</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-985">shutdownCluster</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="isClusterShutdown()">
<h3>isClusterShutdown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-995">isClusterShutdown</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1002">stop</a></span>()</div>
<div class="block">Stop the ServerManager.</div>
</section>
</li>
<li>
<section class="detail" id="createDestinationServersList(java.util.List)">
<h3>createDestinationServersList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1011">createDestinationServersList</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;serversToExclude)</span></div>
<div class="block">Creates a list of possible destinations for a region. It contains the online servers, but not
 the draining or dying servers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serversToExclude</code> - can be null if there is no server to exclude</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createDestinationServersList()">
<h3>createDestinationServersList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1036">createDestinationServersList</a></span>()</div>
<div class="block">Calls <a href="#createDestinationServersList(java.util.List)"><code>createDestinationServersList(java.util.List&lt;org.apache.hadoop.hbase.ServerName&gt;)</code></a> without server to exclude.</div>
</section>
</li>
<li>
<section class="detail" id="clearDeadServersWithSameHostNameAndPortOfOnlineServer()">
<h3>clearDeadServersWithSameHostNameAndPortOfOnlineServer</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1043">clearDeadServersWithSameHostNameAndPortOfOnlineServer</a></span>()</div>
<div class="block">To clear any dead server with same host name and port of any online server</div>
</section>
</li>
<li>
<section class="detail" id="removeRegion(org.apache.hadoop.hbase.client.RegionInfo)">
<h3>removeRegion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1052">removeRegion</a></span><wbr><span class="parameters">(<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;regionInfo)</span></div>
<div class="block">Called by delete table and similar to notify the ServerManager that a region was removed.</div>
</section>
</li>
<li>
<section class="detail" id="isRegionInServerManagerStates(org.apache.hadoop.hbase.client.RegionInfo)">
<h3>isRegionInServerManagerStates</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1058">isRegionInServerManagerStates</a></span><wbr><span class="parameters">(<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;hri)</span></div>
</section>
</li>
<li>
<section class="detail" id="removeRegions(java.util.List)">
<h3>removeRegions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1067">removeRegions</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&gt;&nbsp;regions)</span></div>
<div class="block">Called by delete table and similar to notify the ServerManager that a region was removed.</div>
</section>
</li>
<li>
<section class="detail" id="getVersionNumber(org.apache.hadoop.hbase.ServerName)">
<h3>getVersionNumber</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1076">getVersionNumber</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">May return 0 when server is not online.</div>
</section>
</li>
<li>
<section class="detail" id="getVersion(org.apache.hadoop.hbase.ServerName)">
<h3>getVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1084">getVersion</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block">May return "0.0.0" when server is not online</div>
</section>
</li>
<li>
<section class="detail" id="getInfoPort(org.apache.hadoop.hbase.ServerName)">
<h3>getInfoPort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/master/ServerManager.html#line-1089">getInfoPort</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
