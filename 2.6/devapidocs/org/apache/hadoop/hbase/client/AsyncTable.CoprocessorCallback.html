<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AsyncTable.CoprocessorCallback (Apache HBase 2.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.client, interface: AsyncTable, interface: CoprocessorCallback">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AsyncTable.CoprocessorCallback.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.client</a></div>
<h1 title="Interface AsyncTable.CoprocessorCallback" class="title">Interface AsyncTable.CoprocessorCallback&lt;R&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="AsyncTable.html" title="interface in org.apache.hadoop.hbase.client">AsyncTable</a>&lt;<a href="AsyncTable.html" title="type parameter in AsyncTable">C</a> extends <a href="ScanResultConsumerBase.html" title="interface in org.apache.hadoop.hbase.client">ScanResultConsumerBase</a>&gt;</dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Public
</span><span class="modifiers">public static interface </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/client/AsyncTable.html#line-649">AsyncTable.CoprocessorCallback</a>&lt;R&gt;</span></div>
<div class="block">The callback when we want to execute a coprocessor call on a range of regions.
 <p>
 As the locating itself also takes some time, the implementation may want to send rpc calls on
 the fly, which means we do not know how many regions we have when we get the return value of
 the rpc calls, so we need an <a href="#onComplete()"><code>onComplete()</code></a> which is used to tell you that we have
 passed all the return values to you(through the <a href="#onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)"><code>onRegionComplete(RegionInfo, Object)</code></a>
 or <a href="#onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)"><code>onRegionError(RegionInfo, Throwable)</code></a> calls), i.e, there will be no
 <a href="#onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)"><code>onRegionComplete(RegionInfo, Object)</code></a> or <a href="#onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)"><code>onRegionError(RegionInfo, Throwable)</code></a>
 calls in the future.
 <p>
 Here is a pseudo code to describe a typical implementation of a range coprocessor service
 method to help you better understand how the <a href="AsyncTable.CoprocessorCallback.html" title="interface in org.apache.hadoop.hbase.client"><code>AsyncTable.CoprocessorCallback</code></a> will be called. The
 <code>callback</code> in the pseudo code is our <a href="AsyncTable.CoprocessorCallback.html" title="interface in org.apache.hadoop.hbase.client"><code>AsyncTable.CoprocessorCallback</code></a>. And notice that the
 <code>whenComplete</code> is <code>CompletableFuture.whenComplete</code>.

 <pre>
 locateThenCall(byte[] row) {
   locate(row).whenComplete((location, locateError) -&gt; {
     if (locateError != null) {
       callback.onError(locateError);
       return;
     }
     incPendingCall();
     region = location.getRegion();
     if (region.getEndKey() > endKey) {
       locateEnd = true;
     } else {
       locateThenCall(region.getEndKey());
     }
     sendCall().whenComplete((resp, error) -&gt; {
       if (error != null) {
         callback.onRegionError(region, error);
       } else {
         callback.onRegionComplete(region, resp);
       }
       if (locateEnd &amp;&amp; decPendingCallAndGet() == 0) {
         callback.onComplete();
       }
     });
   });
 }
 </pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onComplete()" class="member-name-link">onComplete</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Indicate that all responses of the regions have been notified by calling
 <a href="#onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)"><code>onRegionComplete(RegionInfo, Object)</code></a> or
 <a href="#onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)"><code>onRegionError(RegionInfo, Throwable)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onError(java.lang.Throwable)" class="member-name-link">onError</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Indicate that we got an error which does not belong to any regions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)" class="member-name-link">onRegionComplete</a><wbr>(<a href="RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 <a href="AsyncTable.CoprocessorCallback.html" title="type parameter in AsyncTable.CoprocessorCallback">R</a>&nbsp;resp)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Indicate that the respose of a region is available</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)" class="member-name-link">onRegionError</a><wbr>(<a href="RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Indicate that the error for a region is available</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)">
<h3 id="onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Object)">onRegionComplete</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/client/AsyncTable.CoprocessorCallback.html#line-657">onRegionComplete</a></span><wbr><span class="parameters">(<a href="RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 <a href="AsyncTable.CoprocessorCallback.html" title="type parameter in AsyncTable.CoprocessorCallback">R</a>&nbsp;resp)</span></div>
<div class="block">Indicate that the respose of a region is available</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>region</code> - the region that the response belongs to</dd>
<dd><code>resp</code> - the response of the coprocessor call</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)">
<h3>onRegionError</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/client/AsyncTable.CoprocessorCallback.html#line-664">onRegionError</a></span><wbr><span class="parameters">(<a href="RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</span></div>
<div class="block">Indicate that the error for a region is available</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>region</code> - the region that the error belongs to</dd>
<dd><code>error</code> - the response error of the coprocessor call</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onComplete()">
<h3>onComplete</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/client/AsyncTable.CoprocessorCallback.html#line-671">onComplete</a></span>()</div>
<div class="block">Indicate that all responses of the regions have been notified by calling
 <a href="#onRegionComplete(org.apache.hadoop.hbase.client.RegionInfo,R)"><code>onRegionComplete(RegionInfo, Object)</code></a> or
 <a href="#onRegionError(org.apache.hadoop.hbase.client.RegionInfo,java.lang.Throwable)"><code>onRegionError(RegionInfo, Throwable)</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="onError(java.lang.Throwable)">
<h3>onError</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/client/AsyncTable.CoprocessorCallback.html#line-676">onError</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</span></div>
<div class="block">Indicate that we got an error which does not belong to any regions. Usually a locating error.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
