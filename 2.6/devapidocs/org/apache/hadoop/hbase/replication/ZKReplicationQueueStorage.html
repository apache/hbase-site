<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ZKReplicationQueueStorage (Apache HBase 2.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.replication, class: ZKReplicationQueueStorage">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ZKReplicationQueueStorage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.replication</a></div>
<h1 title="Class ZKReplicationQueueStorage" class="title">Class ZKReplicationQueueStorage</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="ZKReplicationStorageBase.html" title="class in org.apache.hadoop.hbase.replication">org.apache.hadoop.hbase.replication.ZKReplicationStorageBase</a>
<div class="inheritance">org.apache.hadoop.hbase.replication.ZKReplicationQueueStorage</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">class </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-81">ZKReplicationQueueStorage</a></span>
<span class="extends-implements">extends <a href="ZKReplicationStorageBase.html" title="class in org.apache.hadoop.hbase.replication">ZKReplicationStorageBase</a>
implements <a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></span></div>
<div class="block">ZK based replication queue storage.
 <p>
 The base znode for each regionserver is the regionserver name. For example:

 <pre>
 /hbase/replication/rs/hostname.example.org,6020,1234
 </pre>

 Within this znode, the region server maintains a set of WAL replication queues. These queues are
 represented by child znodes named using there give queue id. For example:

 <pre>
 /hbase/replication/rs/hostname.example.org,6020,1234/1
 /hbase/replication/rs/hostname.example.org,6020,1234/2
 </pre>

 Each queue has one child znode for every WAL that still needs to be replicated. The value of
 these WAL child znodes is the latest position that has been replicated. This position is updated
 every time a WAL entry is replicated. For example:

 <pre>
 /hbase/replication/rs/hostname.example.org,6020,1234/1/23522342.23422 [VALUE: 254]
 </pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#hfileRefsZNode" class="member-name-link">hfileRefsZNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the znode that contains queues of hfile references to be replicated</div>
</div>
<div class="col-first odd-row-color"><code>private static final org.slf4j.Logger</code></div>
<div class="col-second odd-row-color"><code><a href="#LOG" class="member-name-link">LOG</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#queuesZNode" class="member-name-link">queuesZNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the znode that contains all replication queues</div>
</div>
<div class="col-first odd-row-color"><code>(package private) final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#regionsZNode" class="member-name-link">regionsZNode</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT" class="member-name-link">ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY" class="member-name-link">ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT" class="member-name-link">ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY" class="member-name-link">ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.hadoop.hbase.replication.ZKReplicationStorageBase">Fields inherited from class&nbsp;org.apache.hadoop.hbase.replication.<a href="ZKReplicationStorageBase.html" title="class in org.apache.hadoop.hbase.replication">ZKReplicationStorageBase</a></h3>
<code><a href="ZKReplicationStorageBase.html#conf">conf</a>, <a href="ZKReplicationStorageBase.html#REPLICATION_ZNODE">REPLICATION_ZNODE</a>, <a href="ZKReplicationStorageBase.html#REPLICATION_ZNODE_DEFAULT">REPLICATION_ZNODE_DEFAULT</a>, <a href="ZKReplicationStorageBase.html#replicationZNode">replicationZNode</a>, <a href="ZKReplicationStorageBase.html#zookeeper">zookeeper</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.hbase.zookeeper.ZKWatcher,org.apache.hadoop.conf.Configuration)" class="member-name-link">ZKReplicationQueueStorage</a><wbr>(<a href="../zookeeper/ZKWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKWatcher</a>&nbsp;zookeeper,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addHFileRefs(java.lang.String,java.util.List)" class="member-name-link">addHFileRefs</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr>org.apache.hadoop.fs.Path&gt;&gt;&nbsp;pairs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add new hfile references to the queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addLastSeqIdsToOps(java.lang.String,java.util.Map,java.util.List)" class="member-name-link">addLastSeqIdsToOps</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../zookeeper/ZKUtil.ZKUtilOp.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKUtil.ZKUtilOp</a>&gt;&nbsp;listOfOps)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPeerToHFileRefs(java.lang.String)" class="member-name-link">addPeerToHFileRefs</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a peer to hfile reference queue if peer does not exist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)" class="member-name-link">addWAL</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a new WAL file to the given queue for a given regionserver.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html" title="class or interface in java.util" class="external-link">SortedSet</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#claimQueue(org.apache.hadoop.hbase.ServerName,java.lang.String,org.apache.hadoop.hbase.ServerName)" class="member-name-link">claimQueue</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sourceServerName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destServerName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This implement must update the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllHFileRefs()" class="member-name-link">getAllHFileRefs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Load all hfile references in all replication queues.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllPeersFromHFileRefsQueue()" class="member-name-link">getAllPeersFromHFileRefsQueue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get list of all peers from hfile reference queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllPeersFromHFileRefsQueue0()" class="member-name-link">getAllPeersFromHFileRefsQueue0</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllQueues(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getAllQueues</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all queues for the specified region server.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllQueues0(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getAllQueues0</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllWALs()" class="member-name-link">getAllWALs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The optimistic lock of this implement is based on the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFileNode(java.lang.String,java.lang.String)" class="member-name-link">getFileNode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueNode,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFileNode(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)" class="member-name-link">getFileNode</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHFileNode(java.lang.String,java.lang.String)" class="member-name-link">getHFileNode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerNode,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHFileRefsPeerNode(java.lang.String)" class="member-name-link">getHFileRefsPeerNode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHFileRefsZNodeCversion()" class="member-name-link">getHFileRefsZNodeCversion</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSequenceId(java.lang.String,java.lang.String)" class="member-name-link">getLastSequenceId</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read the max sequence id of the specific region for a given peer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSequenceIdWithVersion(java.lang.String,java.lang.String)" class="member-name-link">getLastSequenceIdWithVersion</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the {lastPushedSequenceId, ZNodeDataVersion} pair.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getListOfReplicators()" class="member-name-link">getListOfReplicators</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all region servers that have outstanding replication queues.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getListOfReplicators0()" class="member-name-link">getListOfReplicators0</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getQueueNode(org.apache.hadoop.hbase.ServerName,java.lang.String)" class="member-name-link">getQueueNode</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getQueuesZNodeCversion()" class="member-name-link">getQueuesZNodeCversion</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReplicableHFiles(java.lang.String)" class="member-name-link">getReplicableHFiles</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all hfile references in the given peer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReplicableHFiles0(java.lang.String)" class="member-name-link">getReplicableHFiles0</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRsNode(org.apache.hadoop.hbase.ServerName)" class="member-name-link">getRsNode</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get full znode name for given region server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSerialReplicationRegionPeerNode(java.lang.String,java.lang.String)" class="member-name-link">getSerialReplicationRegionPeerNode</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Put all regions under /hbase/replication/regions znode will lead to too many children because
 of the huge number of regions in real production environment.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)" class="member-name-link">getWALPosition</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the current position for a specific WAL in a given queue for a given regionserver.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWALsInQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)" class="member-name-link">getWALsInQueue</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all WALs in the given queue on the given region server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWALsInQueue0(org.apache.hadoop.hbase.ServerName,java.lang.String)" class="member-name-link">getWALsInQueue0</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeHFileRefs(java.lang.String,java.util.List)" class="member-name-link">removeHFileRefs</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;files)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove hfile references from the queue.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLastSequenceIds(java.lang.String)" class="member-name-link">removeLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all the max sequence id record for the given peer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLastSequenceIds(java.lang.String,java.util.List)" class="member-name-link">removeLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;encodedRegionNames)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the max sequence id record for the given peer and regions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removePeerFromHFileRefs(java.lang.String)" class="member-name-link">removePeerFromHFileRefs</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a peer from hfile reference queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)" class="member-name-link">removeQueue</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a replication queue for a given regionserver.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeReplicatorIfQueueIsEmpty(org.apache.hadoop.hbase.ServerName)" class="member-name-link">removeReplicatorIfQueueIsEmpty</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the record of region server if the queue is empty.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)" class="member-name-link">removeWAL</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove an WAL file from the given queue for a given regionserver.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastSequenceIds(java.lang.String,java.util.Map)" class="member-name-link">setLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the max sequence id of a bunch of regions for a given peer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String,long,java.util.Map)" class="member-name-link">setWALPosition</a><wbr>(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName,
 long&nbsp;position,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the current position for a specific WAL in a given queue for a given regionserver.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.hadoop.hbase.replication.ZKReplicationStorageBase">Methods inherited from class&nbsp;org.apache.hadoop.hbase.replication.<a href="ZKReplicationStorageBase.html" title="class in org.apache.hadoop.hbase.replication">ZKReplicationStorageBase</a></h3>
<code><a href="ZKReplicationStorageBase.html#toByteArray(org.apache.hadoop.hbase.shaded.protobuf.generated.ReplicationProtos.ReplicationState.State)">toByteArray</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="LOG">
<h3>LOG</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-85">LOG</a></span></div>
</section>
</li>
<li>
<section class="detail" id="ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY">
<h3>ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-87">ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.replication.ZKReplicationQueueStorage.ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT">
<h3>ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-89">ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.replication.ZKReplicationQueueStorage.ZOOKEEPER_ZNODE_REPLICATION_HFILE_REFS_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY">
<h3>ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-91">ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.replication.ZKReplicationQueueStorage.ZOOKEEPER_ZNODE_REPLICATION_REGIONS_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT">
<h3>ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-93">ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.replication.ZKReplicationQueueStorage.ZOOKEEPER_ZNODE_REPLICATION_REGIONS_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queuesZNode">
<h3>queuesZNode</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-98">queuesZNode</a></span></div>
<div class="block">The name of the znode that contains all replication queues</div>
</section>
</li>
<li>
<section class="detail" id="hfileRefsZNode">
<h3>hfileRefsZNode</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-103">hfileRefsZNode</a></span></div>
<div class="block">The name of the znode that contains queues of hfile references to be replicated</div>
</section>
</li>
<li>
<section class="detail" id="regionsZNode">
<h3>regionsZNode</h3>
<div class="member-signature"><span class="modifiers">final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-105">regionsZNode</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.hbase.zookeeper.ZKWatcher,org.apache.hadoop.conf.Configuration)">
<h3>ZKReplicationQueueStorage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-107">ZKReplicationQueueStorage</a></span><wbr><span class="parameters">(<a href="../zookeeper/ZKWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKWatcher</a>&nbsp;zookeeper,
 org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getRsNode(org.apache.hadoop.hbase.ServerName)">
<h3>getRsNode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-119">getRsNode</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getRsNode(org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get full znode name for given region server</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getRsNode(org.apache.hadoop.hbase.ServerName)">getRsNode</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the region server</dd>
<dt>Returns:</dt>
<dd>full znode name</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getQueueNode(org.apache.hadoop.hbase.ServerName,java.lang.String)">
<h3>getQueueNode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-124">getQueueNode</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</span></div>
</section>
</li>
<li>
<section class="detail" id="getFileNode(java.lang.String,java.lang.String)">
<h3>getFileNode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-128">getFileNode</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueNode,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span></div>
</section>
</li>
<li>
<section class="detail" id="getFileNode(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">
<h3>getFileNode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-132">getFileNode</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span></div>
</section>
</li>
<li>
<section class="detail" id="getSerialReplicationRegionPeerNode(java.lang.String,java.lang.String)">
<h3>getSerialReplicationRegionPeerNode</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-159">getSerialReplicationRegionPeerNode</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span></div>
<div class="block"><p>
 Put all regions under /hbase/replication/regions znode will lead to too many children because
 of the huge number of regions in real production environment. So here we will distribute the
 znodes to multiple directories.
 </p>
 <p>
 So the final znode path will be format like this:

 <pre>
 /hbase/replication/regions/dd/04/e76a6966d4ffa908ed0586764767-100
 </pre>

 Here the full encoded region name is dd04e76a6966d4ffa908ed0586764767, and we use the first two
 characters 'dd' as the first level directory name, and use the next two characters '04' as the
 second level directory name, and the rest part as the prefix of the znode, and the suffix '100'
 is the peer id.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - the encoded region name.</dd>
<dd><code>peerId</code> - peer id for replication.</dd>
<dt>Returns:</dt>
<dd>ZNode path to persist the max sequence id that we've pushed for the given region and
         peer.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">
<h3>removeQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-171">removeQueue</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</span>
                 throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove a replication queue for a given regionserver.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">removeQueue</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the regionserver</dd>
<dd><code>queueId</code> - a String that identifies the queue.</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">
<h3>addWAL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-181">addWAL</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span>
            throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#addWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Add a new WAL file to the given queue for a given regionserver. If the queue does not exist it
 is created.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#addWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">addWAL</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the regionserver</dd>
<dd><code>queueId</code> - a String that identifies the queue.</dd>
<dd><code>fileName</code> - name of the WAL</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">
<h3>removeWAL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-192">removeWAL</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span>
               throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove an WAL file from the given queue for a given regionserver.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeWAL(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">removeWAL</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the regionserver</dd>
<dd><code>queueId</code> - a String that identifies the queue.</dd>
<dd><code>fileName</code> - name of the WAL</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addLastSeqIdsToOps(java.lang.String,java.util.Map,java.util.List)">
<h3>addLastSeqIdsToOps</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-206">addLastSeqIdsToOps</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../zookeeper/ZKUtil.ZKUtilOp.html" title="class in org.apache.hadoop.hbase.zookeeper">ZKUtil.ZKUtilOp</a>&gt;&nbsp;listOfOps)</span>
                         throws <span class="exceptions">org.apache.zookeeper.KeeperException,
<a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String,long,java.util.Map)">
<h3>setWALPosition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-229">setWALPosition</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName,
 long&nbsp;position,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</span>
                    throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#setWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String,long,java.util.Map)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Set the current position for a specific WAL in a given queue for a given regionserver.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#setWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String,long,java.util.Map)">setWALPosition</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the regionserver</dd>
<dd><code>queueId</code> - a String that identifies the queue</dd>
<dd><code>fileName</code> - name of the WAL</dd>
<dd><code>position</code> - the current position in the file. Will ignore if less than or equal to 0.</dd>
<dd><code>lastSeqIds</code> - map with {encodedRegionName, sequenceId} pairs for serial replication.</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastSequenceIdWithVersion(java.lang.String,java.lang.String)">
<h3>getLastSequenceIdWithVersion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-264">getLastSequenceIdWithVersion</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                                                   throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<div class="block">Return the {lastPushedSequenceId, ZNodeDataVersion} pair. if ZNodeDataVersion is -1, it means
 that the ZNode does not exist.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastSequenceId(java.lang.String,java.lang.String)">
<h3>getLastSequenceId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-282">getLastSequenceId</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                       throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getLastSequenceId(java.lang.String,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Read the max sequence id of the specific region for a given peer. For serial replication, we
 need the max sequenced id to decide whether we can push the next entries.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getLastSequenceId(java.lang.String,java.lang.String)">getLastSequenceId</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - the encoded region name</dd>
<dd><code>peerId</code> - peer id</dd>
<dt>Returns:</dt>
<dd>the max sequence id of the specific region for a given peer.</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLastSequenceIds(java.lang.String,java.util.Map)">
<h3>setLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-293">setLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</span>
                        throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#setLastSequenceIds(java.lang.String,java.util.Map)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Set the max sequence id of a bunch of regions for a given peer. Will be called when setting up
 a serial replication peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#setLastSequenceIds(java.lang.String,java.util.Map)">setLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dd><code>lastSeqIds</code> - map with {encodedRegionName, sequenceId} pairs for serial replication.</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLastSequenceIds(java.lang.String)">
<h3>removeLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-314">removeLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                           throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove all the max sequence id record for the given peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String)">removeLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLastSequenceIds(java.lang.String,java.util.List)">
<h3>removeLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-348">removeLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;encodedRegionNames)</span>
                           throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove the max sequence id record for the given peer and regions.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String,java.util.List)">removeLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dd><code>encodedRegionNames</code> - the encoded region names</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">
<h3>getWALPosition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-362">getWALPosition</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span>
                    throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get the current position for a specific WAL in a given queue for a given regionserver.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getWALPosition(org.apache.hadoop.hbase.ServerName,java.lang.String,java.lang.String)">getWALPosition</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the name of the regionserver</dd>
<dd><code>queueId</code> - a String that identifies the queue</dd>
<dd><code>fileName</code> - name of the WAL</dd>
<dt>Returns:</dt>
<dd>the current position in the file</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="claimQueue(org.apache.hadoop.hbase.ServerName,java.lang.String,org.apache.hadoop.hbase.ServerName)">
<h3>claimQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html" title="class or interface in java.util" class="external-link">SortedSet</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-387">claimQueue</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;sourceServerName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId,
 <a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;destServerName)</span>
                                          throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block">This implement must update the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a>. The optimistic lock of
 the <a href="#getAllWALs()"><code>getAllWALs()</code></a> method is based on the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#claimQueue(org.apache.hadoop.hbase.ServerName,java.lang.String,org.apache.hadoop.hbase.ServerName)">claimQueue</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>sourceServerName</code> - the name of the dead region server</dd>
<dd><code>queueId</code> - the id of the queue</dd>
<dd><code>destServerName</code> - the name of the target region server</dd>
<dt>Returns:</dt>
<dd>the new PeerId and A SortedSet of WALs in its queue</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getAllWALs()"><code>to show the usage of the cversion of root #queuesZNode .</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeReplicatorIfQueueIsEmpty(org.apache.hadoop.hbase.ServerName)">
<h3>removeReplicatorIfQueueIsEmpty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-449">removeReplicatorIfQueueIsEmpty</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span>
                                    throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeReplicatorIfQueueIsEmpty(org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove the record of region server if the queue is empty.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeReplicatorIfQueueIsEmpty(org.apache.hadoop.hbase.ServerName)">removeReplicatorIfQueueIsEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getListOfReplicators0()">
<h3>getListOfReplicators0</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-460">getListOfReplicators0</a></span>()
                                        throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getListOfReplicators()">
<h3>getListOfReplicators</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-468">getListOfReplicators</a></span>()
                                      throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getListOfReplicators()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all region servers that have outstanding replication queues. These servers could
 be alive, dead or from a previous run of the cluster.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getListOfReplicators()">getListOfReplicators</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Returns:</dt>
<dd>a list of server names</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALsInQueue0(org.apache.hadoop.hbase.ServerName,java.lang.String)">
<h3>getWALsInQueue0</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-477">getWALsInQueue0</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</span>
                              throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWALsInQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">
<h3>getWALsInQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-484">getWALsInQueue</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;queueId)</span>
                            throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getWALsInQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all WALs in the given queue on the given region server.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getWALsInQueue(org.apache.hadoop.hbase.ServerName,java.lang.String)">getWALsInQueue</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the server name of the region server that owns the queue</dd>
<dd><code>queueId</code> - a String that identifies the queue</dd>
<dt>Returns:</dt>
<dd>a list of WALs</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllQueues0(org.apache.hadoop.hbase.ServerName)">
<h3>getAllQueues0</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-495">getAllQueues0</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span>
                            throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllQueues(org.apache.hadoop.hbase.ServerName)">
<h3>getAllQueues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-500">getAllQueues</a></span><wbr><span class="parameters">(<a href="../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span>
                          throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getAllQueues(org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all queues for the specified region server.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getAllQueues(org.apache.hadoop.hbase.ServerName)">getAllQueues</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the server name of the region server that owns the set of queues</dd>
<dt>Returns:</dt>
<dd>a list of queueIds</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getQueuesZNodeCversion()">
<h3>getQueuesZNodeCversion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-510">getQueuesZNodeCversion</a></span>()
                              throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllWALs()">
<h3>getAllWALs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-523">getAllWALs</a></span>()
                       throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block">The optimistic lock of this implement is based on the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a>.
 Therefore, we must update the cversion of root <a href="#queuesZNode"><code>queuesZNode</code></a> when migrate wal nodes to
 other queues.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getAllWALs()">getAllWALs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#claimQueue(org.apache.hadoop.hbase.ServerName,java.lang.String,org.apache.hadoop.hbase.ServerName)"><code>as an example of updating root
      #queuesZNode cversion.</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHFileRefsPeerNode(java.lang.String)">
<h3>getHFileRefsPeerNode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-551">getHFileRefsPeerNode</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span></div>
</section>
</li>
<li>
<section class="detail" id="getHFileNode(java.lang.String,java.lang.String)">
<h3>getHFileNode</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-555">getHFileNode</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerNode,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName)</span></div>
</section>
</li>
<li>
<section class="detail" id="addPeerToHFileRefs(java.lang.String)">
<h3>addPeerToHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-559">addPeerToHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                        throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#addPeerToHFileRefs(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Add a peer to hfile reference queue if peer does not exist.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#addPeerToHFileRefs(java.lang.String)">addPeerToHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id to be added</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code> - if fails to add a peer id to hfile reference queue</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removePeerFromHFileRefs(java.lang.String)">
<h3>removePeerFromHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-573">removePeerFromHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                             throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removePeerFromHFileRefs(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove a peer from hfile reference queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removePeerFromHFileRefs(java.lang.String)">removePeerFromHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id to be removed</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addHFileRefs(java.lang.String,java.util.List)">
<h3>addHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-589">addHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr>org.apache.hadoop.fs.Path&gt;&gt;&nbsp;pairs)</span>
                  throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#addHFileRefs(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Add new hfile references to the queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#addHFileRefs(java.lang.String,java.util.List)">addHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id to which the hfiles need to be replicated</dd>
<dd><code>pairs</code> - list of pairs of { HFile location in staging dir, HFile path in region dir which
               will be added in the queue }</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code> - if fails to add a hfile reference</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeHFileRefs(java.lang.String,java.util.List)">
<h3>removeHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-606">removeHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;files)</span>
                     throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#removeHFileRefs(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove hfile references from the queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#removeHFileRefs(java.lang.String,java.util.List)">removeHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id from which this hfile references needs to be removed</dd>
<dd><code>files</code> - list of hfile references to be removed</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllPeersFromHFileRefsQueue0()">
<h3>getAllPeersFromHFileRefsQueue0</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-622">getAllPeersFromHFileRefsQueue0</a></span>()
                                             throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllPeersFromHFileRefsQueue()">
<h3>getAllPeersFromHFileRefsQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-627">getAllPeersFromHFileRefsQueue</a></span>()
                                           throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getAllPeersFromHFileRefsQueue()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get list of all peers from hfile reference queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getAllPeersFromHFileRefsQueue()">getAllPeersFromHFileRefsQueue</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Returns:</dt>
<dd>a list of peer ids</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReplicableHFiles0(java.lang.String)">
<h3>getReplicableHFiles0</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-637">getReplicableHFiles0</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                                   throws <span class="exceptions">org.apache.zookeeper.KeeperException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReplicableHFiles(java.lang.String)">
<h3>getReplicableHFiles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-643">getReplicableHFiles</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                                 throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getReplicableHFiles(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all hfile references in the given peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getReplicableHFiles(java.lang.String)">getReplicableHFiles</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - a String that identifies the peer</dd>
<dt>Returns:</dt>
<dd>a list of hfile references</dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHFileRefsZNodeCversion()">
<h3>getHFileRefsZNodeCversion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-654">getHFileRefsZNodeCversion</a></span>()
                                 throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllHFileRefs()">
<h3>getAllHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ZKReplicationQueueStorage.html#line-664">getAllHFileRefs</a></span>()
                            throws <span class="exceptions"><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ReplicationQueueStorage.html#getAllHFileRefs()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Load all hfile references in all replication queues. This method guarantees to return a
 snapshot which contains all hfile references at the start of this call. However, some newly
 created hfile references during the call may not be included.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReplicationQueueStorage.html#getAllHFileRefs()">getAllHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
