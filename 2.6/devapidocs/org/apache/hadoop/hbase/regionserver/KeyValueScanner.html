<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>KeyValueScanner (Apache HBase 2.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.regionserver, interface: KeyValueScanner">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/KeyValueScanner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.regionserver</a></div>
<h1 title="Interface KeyValueScanner" class="title">Interface KeyValueScanner</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="Shipper.html" title="interface in org.apache.hadoop.hbase.regionserver">Shipper</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../util/CollectionBackedScanner.html" title="class in org.apache.hadoop.hbase.util">CollectionBackedScanner</a></code>, <code><a href="KeyValueHeap.html" title="class in org.apache.hadoop.hbase.regionserver">KeyValueHeap</a></code>, <code><a href="MobStoreScanner.html" title="class in org.apache.hadoop.hbase.regionserver">MobStoreScanner</a></code>, <code><a href="NonLazyKeyValueScanner.html" title="class in org.apache.hadoop.hbase.regionserver">NonLazyKeyValueScanner</a></code>, <code><a href="NonReversedNonLazyKeyValueScanner.html" title="class in org.apache.hadoop.hbase.regionserver">NonReversedNonLazyKeyValueScanner</a></code>, <code><a href="ReversedKeyValueHeap.html" title="class in org.apache.hadoop.hbase.regionserver">ReversedKeyValueHeap</a></code>, <code><a href="ReversedMobStoreScanner.html" title="class in org.apache.hadoop.hbase.regionserver">ReversedMobStoreScanner</a></code>, <code><a href="ReversedStoreScanner.html" title="class in org.apache.hadoop.hbase.regionserver">ReversedStoreScanner</a></code>, <code><a href="SegmentScanner.html" title="class in org.apache.hadoop.hbase.regionserver">SegmentScanner</a></code>, <code><a href="SnapshotSegmentScanner.html" title="class in org.apache.hadoop.hbase.regionserver">SnapshotSegmentScanner</a></code>, <code><a href="StoreFileScanner.html" title="class in org.apache.hadoop.hbase.regionserver">StoreFileScanner</a></code>, <code><a href="StoreScanner.html" title="class in org.apache.hadoop.hbase.regionserver">StoreScanner</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public interface </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-32">KeyValueScanner</a></span><span class="extends-implements">
extends <a href="Shipper.html" title="interface in org.apache.hadoop.hbase.regionserver">Shipper</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></span></div>
<div class="block">Scanner that returns the next KeyValue.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></code></div>
<div class="col-second even-row-color"><code><a href="#NO_NEXT_INDEXED_KEY" class="member-name-link">NO_NEXT_INDEXED_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block">The byte array represents for NO_NEXT_INDEXED_KEY; The actual value is irrelevant because this
 is always compared by reference.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#backwardSeek(org.apache.hadoop.hbase.Cell)" class="member-name-link">backwardSeek</a><wbr>(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Seek the scanner at or before the row of specified Cell, it firstly tries to seek the scanner
 at or after the specified Cell, return if peek KeyValue of scanner has the same row with
 specified Cell, otherwise seek the scanner at the first Cell of the row which is the previous
 row of specified KeyValue</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Close the KeyValue scanner.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#enforceSeek()" class="member-name-link">enforceSeek</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Does the real seek operation in case it was skipped by seekToRowCol(KeyValue, boolean) (TODO:
 Whats this?).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>org.apache.hadoop.fs.Path</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getFilePath()" class="member-name-link">getFilePath</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getNextIndexedKey()" class="member-name-link">getNextIndexedKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getScannerOrder()" class="member-name-link">getScannerOrder</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Get the order of this KeyValueScanner.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isFileScanner()" class="member-name-link">isFileScanner</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns true if this is a file scanner.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#next()" class="member-name-link">next</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the next Cell in this scanner, iterating the scanner</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#peek()" class="member-name-link">peek</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Look at the next Cell in this scanner, but do not iterate scanner.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#realSeekDone()" class="member-name-link">realSeekDone</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">We optimize our store scanners by checking the most recent store file first, so we sometimes
 pretend we have done a seek but delay it until the store scanner bubbles up to the top of the
 key-value heap.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#recordBlockSize(java.util.function.IntConsumer)" class="member-name-link">recordBlockSize</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntConsumer.html" title="class or interface in java.util.function" class="external-link">IntConsumer</a>&nbsp;blockSizeConsumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Record the size of the current block in bytes, passing as an argument to the blockSizeConsumer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#requestSeek(org.apache.hadoop.hbase.Cell,boolean,boolean)" class="member-name-link">requestSeek</a><wbr>(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;kv,
 boolean&nbsp;forward,
 boolean&nbsp;useBloom)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Similar to <a href="#seek(org.apache.hadoop.hbase.Cell)"><code>seek(org.apache.hadoop.hbase.Cell)</code></a> (or <a href="#reseek(org.apache.hadoop.hbase.Cell)"><code>reseek(org.apache.hadoop.hbase.Cell)</code></a> if forward is true) but only does a seek operation
 after checking that it is really necessary for the row/column combination specified by the kv
 parameter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#reseek(org.apache.hadoop.hbase.Cell)" class="member-name-link">reseek</a><wbr>(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Reseek the scanner at or after the specified KeyValue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#seek(org.apache.hadoop.hbase.Cell)" class="member-name-link">seek</a><wbr>(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Seek the scanner at or after the specified KeyValue.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#seekToLastRow()" class="member-name-link">seekToLastRow</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Seek the scanner at the first KeyValue of last row</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#seekToPreviousRow(org.apache.hadoop.hbase.Cell)" class="member-name-link">seekToPreviousRow</a><wbr>(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Seek the scanner at the first Cell of the row which is the previous row of specified key</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#shouldUseScanner(org.apache.hadoop.hbase.client.Scan,org.apache.hadoop.hbase.regionserver.HStore,long)" class="member-name-link">shouldUseScanner</a><wbr>(<a href="../client/Scan.html" title="class in org.apache.hadoop.hbase.client">Scan</a>&nbsp;scan,
 <a href="HStore.html" title="class in org.apache.hadoop.hbase.regionserver">HStore</a>&nbsp;store,
 long&nbsp;oldestUnexpiredTS)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allows to filter out scanners (both StoreFile and memstore) that we don't want to use based on
 criteria such as Bloom filters and timestamp ranges.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.hadoop.hbase.regionserver.Shipper">Methods inherited from interface&nbsp;org.apache.hadoop.hbase.regionserver.<a href="Shipper.html" title="interface in org.apache.hadoop.hbase.regionserver">Shipper</a></h3>
<code><a href="Shipper.html#shipped()">shipped</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NO_NEXT_INDEXED_KEY">
<h3>NO_NEXT_INDEXED_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-41">NO_NEXT_INDEXED_KEY</a></span></div>
<div class="block">The byte array represents for NO_NEXT_INDEXED_KEY; The actual value is irrelevant because this
 is always compared by reference.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="peek()">
<h3>peek</h3>
<div class="member-signature"><span class="return-type"><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-48">peek</a></span>()</div>
<div class="block">Look at the next Cell in this scanner, but do not iterate scanner. NOTICE: The returned cell
 has not been passed into ScanQueryMatcher. So it may not be what the user need.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the next Cell</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="next()">
<h3>next</h3>
<div class="member-signature"><span class="return-type"><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-54">next</a></span>()
   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Return the next Cell in this scanner, iterating the scanner</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the next Cell</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seek(org.apache.hadoop.hbase.Cell)">
<h3>seek</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-61">seek</a></span><wbr><span class="parameters">(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</span>
      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Seek the scanner at or after the specified KeyValue.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - seek value</dd>
<dt>Returns:</dt>
<dd>true if scanner has values left, false if end of scanner</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reseek(org.apache.hadoop.hbase.Cell)">
<h3>reseek</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-70">reseek</a></span><wbr><span class="parameters">(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</span>
        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Reseek the scanner at or after the specified KeyValue. This method is guaranteed to seek at or
 after the required key only if the key comes after the current position of the scanner. Should
 not be used to seek to a key which may come before the current position.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - seek value (should be non-null)</dd>
<dt>Returns:</dt>
<dd>true if scanner has values left, false if end of scanner</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getScannerOrder()">
<h3>getScannerOrder</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-77">getScannerOrder</a></span>()</div>
<div class="block">Get the order of this KeyValueScanner. This is only relevant for StoreFileScanners. This is
 required for comparing multiple files to find out which one has the latest data.
 StoreFileScanners are ordered from 0 (oldest) to newest in increasing order.</div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-84">close</a></span>()</div>
<div class="block">Close the KeyValue scanner.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html#close--" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shouldUseScanner(org.apache.hadoop.hbase.client.Scan,org.apache.hadoop.hbase.regionserver.HStore,long)">
<h3>shouldUseScanner</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-95">shouldUseScanner</a></span><wbr><span class="parameters">(<a href="../client/Scan.html" title="class in org.apache.hadoop.hbase.client">Scan</a>&nbsp;scan,
 <a href="HStore.html" title="class in org.apache.hadoop.hbase.regionserver">HStore</a>&nbsp;store,
 long&nbsp;oldestUnexpiredTS)</span></div>
<div class="block">Allows to filter out scanners (both StoreFile and memstore) that we don't want to use based on
 criteria such as Bloom filters and timestamp ranges.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scan</code> - the scan that we are selecting scanners for</dd>
<dd><code>store</code> - the store we are performing the scan on.</dd>
<dd><code>oldestUnexpiredTS</code> - the oldest timestamp we are interested in for this query, based on TTL</dd>
<dt>Returns:</dt>
<dd>true if the scanner should be included in the query</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="requestSeek(org.apache.hadoop.hbase.Cell,boolean,boolean)">
<h3>requestSeek</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-108">requestSeek</a></span><wbr><span class="parameters">(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;kv,
 boolean&nbsp;forward,
 boolean&nbsp;useBloom)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Similar to <a href="#seek(org.apache.hadoop.hbase.Cell)"><code>seek(org.apache.hadoop.hbase.Cell)</code></a> (or <a href="#reseek(org.apache.hadoop.hbase.Cell)"><code>reseek(org.apache.hadoop.hbase.Cell)</code></a> if forward is true) but only does a seek operation
 after checking that it is really necessary for the row/column combination specified by the kv
 parameter. This function was added to avoid unnecessary disk seeks by checking row-column Bloom
 filters before a seek on multi-column get/scan queries, and to optimize by looking up more
 recent files first.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>forward</code> - do a forward-only "reseek" instead of a random-access seek</dd>
<dd><code>useBloom</code> - whether to enable multi-column Bloom filter optimization</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="realSeekDone()">
<h3>realSeekDone</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-116">realSeekDone</a></span>()</div>
<div class="block">We optimize our store scanners by checking the most recent store file first, so we sometimes
 pretend we have done a seek but delay it until the store scanner bubbles up to the top of the
 key-value heap. This method is then used to ensure the top store file scanner has done a seek
 operation.</div>
</section>
</li>
<li>
<section class="detail" id="enforceSeek()">
<h3>enforceSeek</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-124">enforceSeek</a></span>()
          throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Does the real seek operation in case it was skipped by seekToRowCol(KeyValue, boolean) (TODO:
 Whats this?). Note that this function should be never called on scanners that always do real
 seek operations (i.e. most of the scanners). The easiest way to achieve this is to call
 <a href="#realSeekDone()"><code>realSeekDone()</code></a> first.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isFileScanner()">
<h3>isFileScanner</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-127">isFileScanner</a></span>()</div>
<div class="block">Returns true if this is a file scanner. Otherwise a memory scanner is assumed.</div>
</section>
</li>
<li>
<section class="detail" id="recordBlockSize(java.util.function.IntConsumer)">
<h3>recordBlockSize</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-134">recordBlockSize</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntConsumer.html" title="class or interface in java.util.function" class="external-link">IntConsumer</a>&nbsp;blockSizeConsumer)</span></div>
<div class="block">Record the size of the current block in bytes, passing as an argument to the blockSizeConsumer.
 Implementations should ensure that blockSizeConsumer is only called once per block.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockSizeConsumer</code> - to be called with block size in bytes, once per block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFilePath()">
<h3>getFilePath</h3>
<div class="member-signature"><span class="return-type">org.apache.hadoop.fs.Path</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-140">getFilePath</a></span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the file path if this is a file scanner, otherwise null.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#isFileScanner()"><code>isFileScanner()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="backwardSeek(org.apache.hadoop.hbase.Cell)">
<h3>backwardSeek</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-151">backwardSeek</a></span><wbr><span class="parameters">(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Seek the scanner at or before the row of specified Cell, it firstly tries to seek the scanner
 at or after the specified Cell, return if peek KeyValue of scanner has the same row with
 specified Cell, otherwise seek the scanner at the first Cell of the row which is the previous
 row of specified KeyValue</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - seek KeyValue</dd>
<dt>Returns:</dt>
<dd>true if the scanner is at the valid KeyValue, false if such KeyValue does not exist</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seekToPreviousRow(org.apache.hadoop.hbase.Cell)">
<h3>seekToPreviousRow</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-159">seekToPreviousRow</a></span><wbr><span class="parameters">(<a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;key)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Seek the scanner at the first Cell of the row which is the previous row of specified key</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - seek value</dd>
<dt>Returns:</dt>
<dd>true if the scanner at the first valid Cell of previous row, false if not existing such
         Cell</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seekToLastRow()">
<h3>seekToLastRow</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-165">seekToLastRow</a></span>()
               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Seek the scanner at the first KeyValue of last row</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if scanner has values left, false if the underlying data is empty</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextIndexedKey()">
<h3>getNextIndexedKey</h3>
<div class="member-signature"><span class="return-type"><a href="../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/KeyValueScanner.html#line-172">getNextIndexedKey</a></span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the next key in the index, usually the first key of next block OR a key that falls
         between last key of current block and first key of next block.. see
         HFileWriterImpl#getMidpoint, or null if not known.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
