<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultMobStoreCompactor (Apache HBase 3.0.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultMobStoreCompactor (Apache HBase 3.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/DefaultMobStoreCompactor.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/mob/CachedMobFile.html" title="org.apache.hadoop.hbase.mob中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreFlusher.html" title="org.apache.hadoop.hbase.mob中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html" target="_top">框架</a></li>
<li><a href="DefaultMobStoreCompactor.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.Compactor">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.mob</div>
<h2 title="类 DefaultMobStoreCompactor" class="title">类 DefaultMobStoreCompactor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">org.apache.hadoop.hbase.regionserver.compactions.Compactor</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileWriter.html" title="org.apache.hadoop.hbase.regionserver中的类">StoreFileWriter</a>&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.mob.DefaultMobStoreCompactor</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@InterfaceAudience.Private
public class <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.60">DefaultMobStoreCompactor</a>
extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">DefaultCompactor</a></pre>
<div class="block">Compact passed set of files in the mob-enabled column family.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>从类继承的嵌套类/接口&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSinkFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.CellSinkFactory</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSinkFactory.html" title="Compactor.CellSinkFactory中的类型参数">S</a>&gt;, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor.FileDetails</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.InternalScannerFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.InternalScannerFactory</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#mobSizeThreshold">mobSizeThreshold</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/regionserver/HMobStore.html" title="org.apache.hadoop.hbase.regionserver中的类">HMobStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#mobStore">mobStore</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.InternalScannerFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.InternalScannerFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#scannerFactory">scannerFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSinkFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.CellSinkFactory</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileWriter.html" title="org.apache.hadoop.hbase.regionserver中的类">StoreFileWriter</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#writerFactory">writerFactory</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#COMPACTION_PROGRESS_LOG_INTERVAL">COMPACTION_PROGRESS_LOG_INTERVAL</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#compactionCompression">compactionCompression</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#compactionKVMax">compactionKVMax</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#conf">conf</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#defaultScannerFactory">defaultScannerFactory</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#keepSeqIdPeriod">keepSeqIdPeriod</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#MAJOR_COMPACTION_DROP_CACHE">MAJOR_COMPACTION_DROP_CACHE</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#MINOR_COMPACTION_DROP_CACHE">MINOR_COMPACTION_DROP_CACHE</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#progress">progress</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#store">store</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#DefaultMobStoreCompactor-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.regionserver.HStore-">DefaultMobStoreCompactor</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                        <a href="../../../../../org/apache/hadoop/hbase/regionserver/HStore.html" title="org.apache.hadoop.hbase.regionserver中的类">HStore</a>&nbsp;store)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#compact-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-org.apache.hadoop.hbase.security.User-">compact</a></span>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/CompactionRequestImpl.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">CompactionRequestImpl</a>&nbsp;request,
       <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="org.apache.hadoop.hbase.regionserver.throttle中的接口">ThroughputController</a>&nbsp;throughputController,
       <a href="../../../../../org/apache/hadoop/hbase/security/User.html" title="org.apache.hadoop.hbase.security中的类">User</a>&nbsp;user)</code>
<div class="block">Do a minor/major compaction on an explicit set of storefiles from a Store.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#performCompaction-org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails-org.apache.hadoop.hbase.regionserver.InternalScanner-org.apache.hadoop.hbase.regionserver.CellSink-long-boolean-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-boolean-int-">performCompaction</a></span>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor.FileDetails</a>&nbsp;fd,
                 <a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="org.apache.hadoop.hbase.regionserver中的接口">InternalScanner</a>&nbsp;scanner,
                 <a href="../../../../../org/apache/hadoop/hbase/regionserver/CellSink.html" title="org.apache.hadoop.hbase.regionserver中的接口">CellSink</a>&nbsp;writer,
                 long&nbsp;smallestReadPoint,
                 boolean&nbsp;cleanSeqId,
                 <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="org.apache.hadoop.hbase.regionserver.throttle中的接口">ThroughputController</a>&nbsp;throughputController,
                 boolean&nbsp;major,
                 int&nbsp;numofFilesToCompact)</code>
<div class="block">Performs compaction on a column family with the mob flag enabled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">DefaultCompactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#abortWriter-org.apache.hadoop.hbase.regionserver.StoreFileWriter-">abortWriter</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#commitWriter-org.apache.hadoop.hbase.regionserver.StoreFileWriter-org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-">commitWriter</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#compactForTesting-java.util.Collection-boolean-">compactForTesting</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#compact-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-org.apache.hadoop.hbase.regionserver.compactions.Compactor.InternalScannerFactory-org.apache.hadoop.hbase.regionserver.compactions.Compactor.CellSinkFactory-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-org.apache.hadoop.hbase.security.User-">compact</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createScanner-org.apache.hadoop.hbase.regionserver.HStore-org.apache.hadoop.hbase.regionserver.ScanInfo-java.util.List-long-long-byte:A-byte:A-">createScanner</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createScanner-org.apache.hadoop.hbase.regionserver.HStore-org.apache.hadoop.hbase.regionserver.ScanInfo-java.util.List-org.apache.hadoop.hbase.regionserver.ScanType-long-long-">createScanner</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createTmpWriter-org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails-boolean-">createTmpWriter</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#getProgress--">getProgress</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.62">LOG</a></pre>
</li>
</ul>
<a name="mobSizeThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mobSizeThreshold</h4>
<pre>private&nbsp;long <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.63">mobSizeThreshold</a></pre>
</li>
</ul>
<a name="mobStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mobStore</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/HMobStore.html" title="org.apache.hadoop.hbase.regionserver中的类">HMobStore</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.64">mobStore</a></pre>
</li>
</ul>
<a name="scannerFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scannerFactory</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.InternalScannerFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.InternalScannerFactory</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.66">scannerFactory</a></pre>
</li>
</ul>
<a name="writerFactory">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writerFactory</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSinkFactory.html" title="org.apache.hadoop.hbase.regionserver.compactions中的接口">Compactor.CellSinkFactory</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileWriter.html" title="org.apache.hadoop.hbase.regionserver中的类">StoreFileWriter</a>&gt; <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.82">writerFactory</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="DefaultMobStoreCompactor-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.regionserver.HStore-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultMobStoreCompactor</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.94">DefaultMobStoreCompactor</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                <a href="../../../../../org/apache/hadoop/hbase/regionserver/HStore.html" title="org.apache.hadoop.hbase.regionserver中的类">HStore</a>&nbsp;store)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="compact-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-org.apache.hadoop.hbase.security.User-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compact</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.108">compact</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/CompactionRequestImpl.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">CompactionRequestImpl</a>&nbsp;request,
                                               <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="org.apache.hadoop.hbase.regionserver.throttle中的接口">ThroughputController</a>&nbsp;throughputController,
                                               <a href="../../../../../org/apache/hadoop/hbase/security/User.html" title="org.apache.hadoop.hbase.security中的类">User</a>&nbsp;user)
                                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#compact-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-org.apache.hadoop.hbase.security.User-">DefaultCompactor</a></code></span></div>
<div class="block">Do a minor/major compaction on an explicit set of storefiles from a Store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#compact-org.apache.hadoop.hbase.regionserver.compactions.CompactionRequestImpl-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-org.apache.hadoop.hbase.security.User-">compact</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">DefaultCompactor</a></code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="performCompaction-org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails-org.apache.hadoop.hbase.regionserver.InternalScanner-org.apache.hadoop.hbase.regionserver.CellSink-long-boolean-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-boolean-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>performCompaction</h4>
<pre>protected&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.167">performCompaction</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor.FileDetails</a>&nbsp;fd,
                                    <a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="org.apache.hadoop.hbase.regionserver中的接口">InternalScanner</a>&nbsp;scanner,
                                    <a href="../../../../../org/apache/hadoop/hbase/regionserver/CellSink.html" title="org.apache.hadoop.hbase.regionserver中的接口">CellSink</a>&nbsp;writer,
                                    long&nbsp;smallestReadPoint,
                                    boolean&nbsp;cleanSeqId,
                                    <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="org.apache.hadoop.hbase.regionserver.throttle中的接口">ThroughputController</a>&nbsp;throughputController,
                                    boolean&nbsp;major,
                                    int&nbsp;numofFilesToCompact)
                             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Performs compaction on a column family with the mob flag enabled.
 This is for when the mob threshold size has changed or if the mob
 column family mode has been toggled via an alter table statement.
 Compacts the files by the following rules.
 1. If the Put cell has a mob reference tag, the cell's value is the path of the mob file.
 <ol>
 <li>
 If the value size of a cell is larger than the threshold, this cell is regarded as a mob,
 directly copy the (with mob tag) cell into the new store file.
 </li>
 <li>
 Otherwise, retrieve the mob cell from the mob file, and writes a copy of the cell into
 the new store file.
 </li>
 </ol>
 2. If the Put cell doesn't have a reference tag.
 <ol>
 <li>
 If the value size of a cell is larger than the threshold, this cell is regarded as a mob,
 write this cell to a mob file, and write the path of this mob file to the store file.
 </li>
 <li>
 Otherwise, directly write this cell into the store file.
 </li>
 </ol>
 3. Decide how to write a Delete cell.
 <ol>
 <li>
 If a Delete cell does not have a mob reference tag which means this delete marker have not
 been written to the mob del file, write this cell to the mob del file, and write this cell
 with a ref tag to a store file.
 </li>
 <li>
 Otherwise, directly write it to a store file.
 </li>
 </ol>
 After the major compaction on the normal hfiles, we have a guarantee that we have purged all
 deleted or old version mob refs, and the delete markers are written to a del file with the
 suffix _del. Because of this, it is safe to use the del file in the mob compaction.
 The mob compaction doesn't take place in the normal hfiles, it occurs directly in the
 mob files. When the small mob files are merged into bigger ones, the del file is added into
 the scanner to filter the deleted cells.</div>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#performCompaction-org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails-org.apache.hadoop.hbase.regionserver.InternalScanner-org.apache.hadoop.hbase.regionserver.CellSink-long-boolean-org.apache.hadoop.hbase.regionserver.throttle.ThroughputController-boolean-int-">performCompaction</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="org.apache.hadoop.hbase.regionserver.compactions中的类">Compactor</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileWriter.html" title="org.apache.hadoop.hbase.regionserver中的类">StoreFileWriter</a>&gt;</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>fd</code> - File details</dd>
<dd><code>scanner</code> - Where to read from.</dd>
<dd><code>writer</code> - Where to write to.</dd>
<dd><code>smallestReadPoint</code> - Smallest read point.</dd>
<dd><code>cleanSeqId</code> - When true, remove seqId(used to be mvcc) value which is <= smallestReadPoint</dd>
<dd><code>throughputController</code> - The compaction throughput controller.</dd>
<dd><code>major</code> - Is a major compaction.</dd>
<dd><code>numofFilesToCompact</code> - the number of files to compact</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Whether compaction ended; false if it was interrupted for any reason.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/DefaultMobStoreCompactor.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/mob/CachedMobFile.html" title="org.apache.hadoop.hbase.mob中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreFlusher.html" title="org.apache.hadoop.hbase.mob中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html" target="_top">框架</a></li>
<li><a href="DefaultMobStoreCompactor.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.apache.hadoop.hbase.regionserver.compactions.Compactor">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2018 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
