<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Uses of Class org.apache.hadoop.hbase.regionserver.MutableSegment (Apache HBase 4.0.0-alpha-1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="use: package: org.apache.hadoop.hbase.regionserver, class: MutableSegment">
<meta name="generator" content="javadoc/ClassUseWriter">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-use-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="../package-summary.html">Package</a></li>
<li><a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">Class</a></li>
<li class="nav-bar-cell1-rev">Use</li>
<li><a href="../package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#use">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Uses of Class org.apache.hadoop.hbase.regionserver.MutableSegment" class="title">Uses of Class<br>org.apache.hadoop.hbase.regionserver.MutableSegment</h1>
</div>
<div class="caption"><span>Packages that use <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="#org.apache.hadoop.hbase.regionserver">org.apache.hadoop.hbase.regionserver</a></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<section class="class-uses">
<ul class="block-list">
<li>
<section class="detail" id="org.apache.hadoop.hbase.regionserver">
<h2>Uses of <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a> in <a href="../package-summary.html">org.apache.hadoop.hbase.regionserver</a></h2>
<div class="caption"><span>Fields in <a href="../package-summary.html">org.apache.hadoop.hbase.regionserver</a> declared as <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></code></div>
<div class="col-second even-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#active" class="member-name-link">active</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="caption"><span>Methods in <a href="../package-summary.html">org.apache.hadoop.hbase.regionserver</a> that return <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></code></div>
<div class="col-second even-row-color"><span class="type-name-label">SegmentFactory.</span><code><a href="../SegmentFactory.html#createMutableSegment(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.CellComparator,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">createMutableSegment</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../CellComparator.html" title="interface in org.apache.hadoop.hbase">CellComparator</a>&nbsp;comparator,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></code></div>
<div class="col-second odd-row-color"><span class="type-name-label">SegmentFactory.</span><code><a href="../SegmentFactory.html#generateMutableSegment(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.CellComparator,org.apache.hadoop.hbase.regionserver.MemStoreLAB,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">generateMutableSegment</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../CellComparator.html" title="interface in org.apache.hadoop.hbase">CellComparator</a>&nbsp;comparator,
 <a href="../MemStoreLAB.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreLAB</a>&nbsp;memStoreLAB,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></code></div>
<div class="col-second even-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#getActive()" class="member-name-link">getActive</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="caption"><span>Methods in <a href="../package-summary.html">org.apache.hadoop.hbase.regionserver</a> with parameters of type <a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a></span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#checkAndAddToActiveSize(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.Cell,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">checkAndAddToActiveSize</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currActive,
 <a href="../../Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;cellToAdd,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last even-row-color">
<div class="block">Check whether anything need to be done based on the current active set size.</div>
</div>
<div class="col-first odd-row-color"><code><a href="../ImmutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">ImmutableSegment</a></code></div>
<div class="col-second odd-row-color"><span class="type-name-label">SegmentFactory.</span><code><a href="../SegmentFactory.html#createImmutableSegment(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">createImmutableSegment</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;segment,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected void</code></div>
<div class="col-second even-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#doAdd(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">doAdd</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#doUpsert(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,long,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">doUpsert</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 long&nbsp;readpoint,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected void</code></div>
<div class="col-second even-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#flushInMemory(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">flushInMemory</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currActive)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#internalAdd(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,boolean,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">internalAdd</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;toAdd,
 boolean&nbsp;mslabUsed,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last odd-row-color">
<div class="block">Internal version of add() that doesn't clone Cells with the allocator, and doesn't take the
 lock.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a></code></div>
<div class="col-second even-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#maybeCloneWithAllocator(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,boolean)" class="member-name-link">maybeCloneWithAllocator</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 boolean&nbsp;forceCloneOfBigCell)</code></div>
<div class="col-last even-row-color">
<div class="block">If the segment has a memory allocator the cell is being cloned to this space, and returned;
 Otherwise the given cell is returned When a cell's size is too big (bigger than maxAlloc), it
 is not allocated on MSLAB.</div>
</div>
<div class="col-first odd-row-color"><code>protected abstract void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#postUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">postUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive)</code></div>
<div class="col-last odd-row-color">
<div class="block">Issue any post update synchronization and tests</div>
</div>
<div class="col-first even-row-color"><code>protected void</code></div>
<div class="col-second even-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#postUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">postUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">DefaultMemStore.</span><code><a href="../DefaultMemStore.html#postUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">postUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected abstract boolean</code></div>
<div class="col-second even-row-color"><span class="type-name-label">AbstractMemStore.</span><code><a href="../AbstractMemStore.html#preUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">preUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last even-row-color">
<div class="block">Issue any synchronization and test needed before applying the update</div>
</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#preUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">preUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last odd-row-color">
<div class="block">Issue any synchronization and test needed before applying the update For compacting memstore
 this means checking the update can increase the size without overflow</div>
</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><span class="type-name-label">DefaultMemStore.</span><code><a href="../DefaultMemStore.html#preUpdate(org.apache.hadoop.hbase.regionserver.MutableSegment,org.apache.hadoop.hbase.ExtendedCell,org.apache.hadoop.hbase.regionserver.MemStoreSizing)" class="member-name-link">preUpdate</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currentActive,
 <a href="../../ExtendedCell.html" title="interface in org.apache.hadoop.hbase">ExtendedCell</a>&nbsp;cell,
 <a href="../MemStoreSizing.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStoreSizing</a>&nbsp;memstoreSizing)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#pushActiveToPipeline(org.apache.hadoop.hbase.regionserver.MutableSegment,boolean)" class="member-name-link">pushActiveToPipeline</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currActive,
 boolean&nbsp;checkEmpty)</code></div>
<div class="col-last odd-row-color">
<div class="block">NOTE: When <a href="../CompactingMemStore.html#flushInMemory(org.apache.hadoop.hbase.regionserver.MutableSegment)"><code>CompactingMemStore.flushInMemory(MutableSegment)</code></a> calls this method, due to
 concurrent writes and because we first add cell size to currActive.getDataSize and then
 actually add cell to currActive.cellSet, it is possible that currActive.getDataSize could not
 accommodate cellToAdd but currActive.cellSet is still empty if pending writes which not yet add
 cells to currActive.cellSet,so for
 <a href="../CompactingMemStore.html#flushInMemory(org.apache.hadoop.hbase.regionserver.MutableSegment)"><code>CompactingMemStore.flushInMemory(MutableSegment)</code></a>,checkEmpty parameter is false.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><span class="type-name-label">CompactionPipeline.</span><code><a href="../CompactionPipeline.html#pushHead(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">pushHead</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;segment)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private void</code></div>
<div class="col-second odd-row-color"><span class="type-name-label">CompactingMemStore.</span><code><a href="../CompactingMemStore.html#tryFlushInMemoryAndCompactingAsync(org.apache.hadoop.hbase.regionserver.MutableSegment)" class="member-name-link">tryFlushInMemoryAndCompactingAsync</a><wbr>(<a href="../MutableSegment.html" title="class in org.apache.hadoop.hbase.regionserver">MutableSegment</a>&nbsp;currActive)</code></div>
<div class="col-last odd-row-color">
<div class="block">Try to flush the currActive in memory and submit the background
 <a href="../CompactingMemStore.InMemoryCompactionRunnable.html" title="class in org.apache.hadoop.hbase.regionserver"><code>CompactingMemStore.InMemoryCompactionRunnable</code></a> to
 <a href="../RegionServicesForStores.html#getInMemoryCompactionPool()"><code>RegionServicesForStores.getInMemoryCompactionPool()</code></a>.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
