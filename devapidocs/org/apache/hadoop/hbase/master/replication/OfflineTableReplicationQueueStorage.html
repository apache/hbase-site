<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>OfflineTableReplicationQueueStorage (Apache HBase 4.0.0-alpha-1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.master.replication, class: OfflineTableReplicationQueueStorage">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/OfflineTableReplicationQueueStorage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.master.replication</a></div>
<h1 title="Class OfflineTableReplicationQueueStorage" class="title">Class OfflineTableReplicationQueueStorage</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.hadoop.hbase.master.replication.OfflineTableReplicationQueueStorage</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-61">OfflineTableReplicationQueueStorage</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#hfileRefs" class="member-name-link">hfileRefs</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#lastSequenceIds" class="member-name-link">lastSequenceIds</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#offsets" class="member-name-link">offsets</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)" class="member-name-link">OfflineTableReplicationQueueStorage</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addHFileRefs(java.lang.String,java.util.List)" class="member-name-link">addHFileRefs</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr>org.apache.hadoop.fs.Path&gt;&gt;&nbsp;pairs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add new hfile references to the queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#batchUpdateHFileRefs(java.lang.String,java.util.List)" class="member-name-link">batchUpdateHFileRefs</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;hfileRefs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add the given hfile refs to the given peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#batchUpdateLastSequenceIds(java.util.List)" class="member-name-link">batchUpdateLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ZKReplicationQueueStorageForMigration.ZkLastPushedSeqId.html" title="class in org.apache.hadoop.hbase.replication">ZKReplicationQueueStorageForMigration.ZkLastPushedSeqId</a>&gt;&nbsp;lastPushedSeqIds)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update last pushed sequence id for the given regions and peers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#batchUpdateQueues(org.apache.hadoop.hbase.ServerName,java.util.List)" class="member-name-link">batchUpdateQueues</a><wbr>(<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueData.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueData</a>&gt;&nbsp;datas)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update the replication queue datas for a given region server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#claimQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId,org.apache.hadoop.hbase.ServerName)" class="member-name-link">claimQueue</a><wbr>(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId,
 <a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;targetServerName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change ownership for the queue identified by queueId and belongs to a dead region server.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllHFileRefs()" class="member-name-link">getAllHFileRefs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Load all hfile references in all replication queues.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllPeersFromHFileRefsQueue()" class="member-name-link">getAllPeersFromHFileRefsQueue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get list of all peers from hfile reference queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSequenceId(java.lang.String,java.lang.String)" class="member-name-link">getLastSequenceId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read the max sequence id of the specific region for a given peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOffsets(org.apache.hadoop.hbase.replication.ReplicationQueueId)" class="member-name-link">getOffsets</a><wbr>(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the current offset of all the WAL groups for a queue</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReplicableHFiles(java.lang.String)" class="member-name-link">getReplicableHFiles</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all hfile references in the given peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasData()" class="member-name-link">hasData</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether the replication queue table exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listAllQueueIds(java.lang.String)" class="member-name-link">listAllQueueIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all queues for the specific peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listAllQueueIds(java.lang.String,org.apache.hadoop.hbase.ServerName)" class="member-name-link">listAllQueueIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all queues for the specific region server and the specific peer</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listAllQueueIds(org.apache.hadoop.hbase.ServerName)" class="member-name-link">listAllQueueIds</a><wbr>(<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all queues for the specific region server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueData.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueData</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listAllQueues()" class="member-name-link">listAllQueues</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all queues and the offsets.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listAllReplicators()" class="member-name-link">listAllReplicators</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a list of all region servers that have outstanding replication queues.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadHFileRefs(org.apache.hadoop.hbase.client.Result)" class="member-name-link">loadHFileRefs</a><wbr>(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadLastSequenceIds(org.apache.hadoop.hbase.client.Result)" class="member-name-link">loadLastSequenceIds</a><wbr>(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadOffsets(org.apache.hadoop.hbase.client.Result)" class="member-name-link">loadOffsets</a><wbr>(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadRegionInfo(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.util.NavigableMap)" class="member-name-link">loadRegionInfo</a><wbr>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;regionDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;byte[],<wbr><a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&gt;&nbsp;startKey2RegionInfo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadReplicationQueueData(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)" class="member-name-link">loadReplicationQueueData</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeAllQueues(java.lang.String)" class="member-name-link">removeAllQueues</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all the replication queues for the given peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeHFileRefs(java.lang.String,java.util.List)" class="member-name-link">removeHFileRefs</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;files)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove hfile references from the queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLastSequenceIds(java.lang.String)" class="member-name-link">removeLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all the max sequence id record for the given peer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLastSequenceIds(java.lang.String,java.util.List)" class="member-name-link">removeLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;encodedRegionNames)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the max sequence id record for the given peer and regions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLastSequenceIdsAndHFileRefsBefore(long)" class="member-name-link">removeLastSequenceIdsAndHFileRefsBefore</a><wbr>(long&nbsp;ts)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all the last sequence ids and hfile references data which are written before the given
 timestamp.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removePeerFromHFileRefs(java.lang.String)" class="member-name-link">removePeerFromHFileRefs</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a peer from hfile reference queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId)" class="member-name-link">removeQueue</a><wbr>(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a replication queue</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastSequenceIds(java.lang.String,java.util.Map)" class="member-name-link">setLastSequenceIds</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the max sequence id of a bunch of regions for a given peer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setOffset(org.apache.hadoop.hbase.replication.ReplicationQueueId,java.lang.String,org.apache.hadoop.hbase.replication.ReplicationGroupOffset,java.util.Map)" class="member-name-link">setOffset</a><wbr>(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;walGroup,
 <a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&nbsp;offset,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the current offset for a specific WAL group in a given queue.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="offsets">
<h3>offsets</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-64">offsets</a></span></div>
</section>
</li>
<li>
<section class="detail" id="lastSequenceIds">
<h3>lastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-67">lastSequenceIds</a></span></div>
</section>
</li>
<li>
<section class="detail" id="hfileRefs">
<h3>hfileRefs</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-69">hfileRefs</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)">
<h3>OfflineTableReplicationQueueStorage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-170">OfflineTableReplicationQueueStorage</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loadRegionInfo(org.apache.hadoop.fs.FileSystem,org.apache.hadoop.fs.Path,java.util.NavigableMap)">
<h3>loadRegionInfo</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-71">loadRegionInfo</a></span><wbr><span class="parameters">(org.apache.hadoop.fs.FileSystem&nbsp;fs,
 org.apache.hadoop.fs.Path&nbsp;regionDir,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;byte[],<wbr><a href="../../client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&gt;&nbsp;startKey2RegionInfo)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadOffsets(org.apache.hadoop.hbase.client.Result)">
<h3>loadOffsets</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-95">loadOffsets</a></span><wbr><span class="parameters">(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</span></div>
</section>
</li>
<li>
<section class="detail" id="loadLastSequenceIds(org.apache.hadoop.hbase.client.Result)">
<h3>loadLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-111">loadLastSequenceIds</a></span><wbr><span class="parameters">(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</span></div>
</section>
</li>
<li>
<section class="detail" id="loadHFileRefs(org.apache.hadoop.hbase.client.Result)">
<h3>loadHFileRefs</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-127">loadHFileRefs</a></span><wbr><span class="parameters">(<a href="../../client/Result.html" title="class in org.apache.hadoop.hbase.client">Result</a>&nbsp;result)</span></div>
</section>
</li>
<li>
<section class="detail" id="loadReplicationQueueData(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.TableName)">
<h3>loadReplicationQueueData</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-139">loadReplicationQueueData</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="../../TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOffset(org.apache.hadoop.hbase.replication.ReplicationQueueId,java.lang.String,org.apache.hadoop.hbase.replication.ReplicationGroupOffset,java.util.Map)">
<h3>setOffset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-175">setOffset</a></span><wbr><span class="parameters">(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;walGroup,
 <a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&nbsp;offset,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</span>
               throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#setOffset(org.apache.hadoop.hbase.replication.ReplicationQueueId,java.lang.String,org.apache.hadoop.hbase.replication.ReplicationGroupOffset,java.util.Map)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Set the current offset for a specific WAL group in a given queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#setOffset(org.apache.hadoop.hbase.replication.ReplicationQueueId,java.lang.String,org.apache.hadoop.hbase.replication.ReplicationGroupOffset,java.util.Map)">setOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>queueId</code> - the id of the queue</dd>
<dd><code>walGroup</code> - the group of the WAL, can be empty if multi wal is not enabled</dd>
<dd><code>offset</code> - the current offset of replication progress</dd>
<dd><code>lastSeqIds</code> - map with {encodedRegionName, sequenceId} pairs for serial replication.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOffsets(org.apache.hadoop.hbase.replication.ReplicationQueueId)">
<h3>getOffsets</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-197">getOffsets</a></span><wbr><span class="parameters">(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId)</span>
                                              throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#getOffsets(org.apache.hadoop.hbase.replication.ReplicationQueueId)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get the current offset of all the WAL groups for a queue</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#getOffsets(org.apache.hadoop.hbase.replication.ReplicationQueueId)">getOffsets</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>queueId</code> - the id of the queue</dd>
<dt>Returns:</dt>
<dd>a map of all offsets of the WAL groups. The key the is WAL group and the value is the
         position.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listAllQueueIds(java.lang.String)">
<h3>listAllQueueIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-207">listAllQueueIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                                         throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all queues for the specific peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(java.lang.String)">listAllQueueIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - the id of the peer</dd>
<dt>Returns:</dt>
<dd>a list of queueIds</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listAllQueueIds(org.apache.hadoop.hbase.ServerName)">
<h3>listAllQueueIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-214">listAllQueueIds</a></span><wbr><span class="parameters">(<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span>
                                         throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all queues for the specific region server.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(org.apache.hadoop.hbase.ServerName)">listAllQueueIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>serverName</code> - the server name of the region server that owns the set of queues</dd>
<dt>Returns:</dt>
<dd>a list of queueIds</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listAllQueueIds(java.lang.String,org.apache.hadoop.hbase.ServerName)">
<h3>listAllQueueIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-221">listAllQueueIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName)</span>
                                         throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(java.lang.String,org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all queues for the specific region server and the specific peer</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#listAllQueueIds(java.lang.String,org.apache.hadoop.hbase.ServerName)">listAllQueueIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - the id of the peer</dd>
<dd><code>serverName</code> - the server name of the region server that owns the set of queues</dd>
<dt>Returns:</dt>
<dd>a list of queueIds</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listAllQueues()">
<h3>listAllQueues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueData.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueData</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-229">listAllQueues</a></span>()
                                         throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#listAllQueues()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all queues and the offsets.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#listAllQueues()">listAllQueues</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listAllReplicators()">
<h3>listAllReplicators</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-236">listAllReplicators</a></span>()
                                    throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#listAllReplicators()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all region servers that have outstanding replication queues. These servers could
 be alive, dead or from a previous run of the cluster.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#listAllReplicators()">listAllReplicators</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Returns:</dt>
<dd>a list of server names</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="claimQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId,org.apache.hadoop.hbase.ServerName)">
<h3>claimQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../../replication/ReplicationGroupOffset.html" title="class in org.apache.hadoop.hbase.replication">ReplicationGroupOffset</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-242">claimQueue</a></span><wbr><span class="parameters">(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId,
 <a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;targetServerName)</span>
                                              throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#claimQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId,org.apache.hadoop.hbase.ServerName)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Change ownership for the queue identified by queueId and belongs to a dead region server.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#claimQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId,org.apache.hadoop.hbase.ServerName)">claimQueue</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>queueId</code> - the id of the queue</dd>
<dd><code>targetServerName</code> - the name of the target region server</dd>
<dt>Returns:</dt>
<dd>the new PeerId and A SortedSet of WALs in its queue</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId)">
<h3>removeQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-253">removeQueue</a></span><wbr><span class="parameters">(<a href="../../replication/ReplicationQueueId.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueId</a>&nbsp;queueId)</span>
                 throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove a replication queue</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeQueue(org.apache.hadoop.hbase.replication.ReplicationQueueId)">removeQueue</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>queueId</code> - the id of the queue to remove</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeAllQueues(java.lang.String)">
<h3>removeAllQueues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-258">removeAllQueues</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                     throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeAllQueues(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove all the replication queues for the given peer. Usually used when removing a peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeAllQueues(java.lang.String)">removeAllQueues</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - the id of the peer</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastSequenceId(java.lang.String,java.lang.String)">
<h3>getLastSequenceId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-268">getLastSequenceId</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encodedRegionName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                       throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#getLastSequenceId(java.lang.String,java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Read the max sequence id of the specific region for a given peer. For serial replication, we
 need the max sequenced id to decide whether we can push the next entries.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#getLastSequenceId(java.lang.String,java.lang.String)">getLastSequenceId</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>encodedRegionName</code> - the encoded region name</dd>
<dd><code>peerId</code> - peer id</dd>
<dt>Returns:</dt>
<dd>the max sequence id of the specific region for a given peer.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLastSequenceIds(java.lang.String,java.util.Map)">
<h3>setLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-279">setLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;lastSeqIds)</span>
                        throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#setLastSequenceIds(java.lang.String,java.util.Map)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Set the max sequence id of a bunch of regions for a given peer. Will be called when setting up
 a serial replication peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#setLastSequenceIds(java.lang.String,java.util.Map)">setLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dd><code>lastSeqIds</code> - map with {encodedRegionName, sequenceId} pairs for serial replication.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLastSequenceIds(java.lang.String)">
<h3>removeLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-290">removeLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                           throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove all the max sequence id record for the given peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String)">removeLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLastSequenceIds(java.lang.String,java.util.List)">
<h3>removeLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-295">removeLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;encodedRegionNames)</span>
                           throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove the max sequence id record for the given peer and regions.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIds(java.lang.String,java.util.List)">removeLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer id</dd>
<dd><code>encodedRegionNames</code> - the encoded region names</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removePeerFromHFileRefs(java.lang.String)">
<h3>removePeerFromHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-307">removePeerFromHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                             throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removePeerFromHFileRefs(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove a peer from hfile reference queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removePeerFromHFileRefs(java.lang.String)">removePeerFromHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id to be removed</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addHFileRefs(java.lang.String,java.util.List)">
<h3>addHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-312">addHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;org.apache.hadoop.fs.Path,<wbr>org.apache.hadoop.fs.Path&gt;&gt;&nbsp;pairs)</span>
                  throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#addHFileRefs(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Add new hfile references to the queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#addHFileRefs(java.lang.String,java.util.List)">addHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id to which the hfiles need to be replicated</dd>
<dd><code>pairs</code> - list of pairs of { HFile location in staging dir, HFile path in region dir which
               will be added in the queue }</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code> - if fails to add a hfile reference</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeHFileRefs(java.lang.String,java.util.List)">
<h3>removeHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-325">removeHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;files)</span>
                     throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeHFileRefs(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove hfile references from the queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeHFileRefs(java.lang.String,java.util.List)">removeHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - peer cluster id from which this hfile references needs to be removed</dd>
<dd><code>files</code> - list of hfile references to be removed</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllPeersFromHFileRefsQueue()">
<h3>getAllPeersFromHFileRefsQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-335">getAllPeersFromHFileRefsQueue</a></span>()
                                           throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#getAllPeersFromHFileRefsQueue()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get list of all peers from hfile reference queue.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#getAllPeersFromHFileRefsQueue()">getAllPeersFromHFileRefsQueue</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Returns:</dt>
<dd>a list of peer ids</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReplicableHFiles(java.lang.String)">
<h3>getReplicableHFiles</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-340">getReplicableHFiles</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId)</span>
                                 throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#getReplicableHFiles(java.lang.String)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Get a list of all hfile references in the given peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#getReplicableHFiles(java.lang.String)">getReplicableHFiles</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peerId</code> - a String that identifies the peer</dd>
<dt>Returns:</dt>
<dd>a list of hfile references</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllHFileRefs()">
<h3>getAllHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-349">getAllHFileRefs</a></span>()
                            throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#getAllHFileRefs()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Load all hfile references in all replication queues. This method guarantees to return a
 snapshot which contains all hfile references at the start of this call. However, some newly
 created hfile references during the call may not be included.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#getAllHFileRefs()">getAllHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasData()">
<h3>hasData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-354">hasData</a></span>()
                throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#hasData()">ReplicationQueueStorage</a></code></span></div>
<div class="block">Whether the replication queue table exists.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#hasData()">hasData</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Returns:</dt>
<dd>Whether the replication queue table exists</dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="batchUpdateQueues(org.apache.hadoop.hbase.ServerName,java.util.List)">
<h3>batchUpdateQueues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-359">batchUpdateQueues</a></span><wbr><span class="parameters">(<a href="../../ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;serverName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ReplicationQueueData.html" title="class in org.apache.hadoop.hbase.replication">ReplicationQueueData</a>&gt;&nbsp;datas)</span>
                       throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateQueues(org.apache.hadoop.hbase.ServerName,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Update the replication queue datas for a given region server.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateQueues(org.apache.hadoop.hbase.ServerName,java.util.List)">batchUpdateQueues</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="batchUpdateLastSequenceIds(java.util.List)">
<h3>batchUpdateLastSequenceIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-365">batchUpdateLastSequenceIds</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../replication/ZKReplicationQueueStorageForMigration.ZkLastPushedSeqId.html" title="class in org.apache.hadoop.hbase.replication">ZKReplicationQueueStorageForMigration.ZkLastPushedSeqId</a>&gt;&nbsp;lastPushedSeqIds)</span>
                                throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateLastSequenceIds(java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Update last pushed sequence id for the given regions and peers.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateLastSequenceIds(java.util.List)">batchUpdateLastSequenceIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="batchUpdateHFileRefs(java.lang.String,java.util.List)">
<h3>batchUpdateHFileRefs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-372">batchUpdateHFileRefs</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;peerId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;hfileRefs)</span>
                          throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateHFileRefs(java.lang.String,java.util.List)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Add the given hfile refs to the given peer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#batchUpdateHFileRefs(java.lang.String,java.util.List)">batchUpdateHFileRefs</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLastSequenceIdsAndHFileRefsBefore(long)">
<h3>removeLastSequenceIdsAndHFileRefsBefore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../src-html/org/apache/hadoop/hbase/master/replication/OfflineTableReplicationQueueStorage.html#line-378">removeLastSequenceIdsAndHFileRefsBefore</a></span><wbr><span class="parameters">(long&nbsp;ts)</span>
                                             throws <span class="exceptions"><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIdsAndHFileRefsBefore(long)">ReplicationQueueStorage</a></code></span></div>
<div class="block">Remove all the last sequence ids and hfile references data which are written before the given
 timestamp.
 <p/>
 The data of these two types are not used by replication directly.
 <p/>
 For last sequence ids, we will check it in serial replication, to make sure that we will
 replicate all edits in order, so if there are stale data, the worst case is that we will stop
 replicating as we think we still need to finish previous ranges first, although actually we
 have already replicated them out.
 <p/>
 For hfile references, it is just used by hfile cleaner to not remove these hfiles before we
 replicate them out, so if there are stale data, the worst case is that we can not remove these
 hfiles, although actually they have already been replicated out.
 <p/>
 So it is OK for us to just bring up the cluster first, and then use this method to delete the
 stale data, i.e, the data which are written before a specific timestamp.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../replication/ReplicationQueueStorage.html#removeLastSequenceIdsAndHFileRefsBefore(long)">removeLastSequenceIdsAndHFileRefsBefore</a></code>&nbsp;in interface&nbsp;<code><a href="../../replication/ReplicationQueueStorage.html" title="interface in org.apache.hadoop.hbase.replication">ReplicationQueueStorage</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../replication/ReplicationException.html" title="class in org.apache.hadoop.hbase.replication">ReplicationException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
