<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractFSWALProvider (Apache HBase 3.0.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractFSWALProvider (Apache HBase 3.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":6,"i4":9,"i5":9,"i6":9,"i7":10,"i8":9,"i9":10,"i10":9,"i11":9,"i12":9,"i13":10,"i14":9,"i15":9,"i16":9,"i17":9,"i18":10,"i19":9,"i20":10,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9,"i26":9,"i27":10,"i28":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],4:["t3","抽象方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/AbstractFSWALProvider.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.Reader.html" title="org.apache.hadoop.hbase.wal中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" target="_top">框架</a></li>
<li><a href="AbstractFSWALProvider.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.wal</div>
<h2 title="类 AbstractFSWALProvider" class="title">类 AbstractFSWALProvider&lt;T extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html" title="org.apache.hadoop.hbase.regionserver.wal中的类">AbstractFSWAL</a>&lt;?&gt;&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.wal.AbstractFSWALProvider&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/wal/AsyncFSWALProvider.html" title="org.apache.hadoop.hbase.wal中的类">AsyncFSWALProvider</a>, <a href="../../../../../org/apache/hadoop/hbase/wal/FSHLogProvider.html" title="org.apache.hadoop.hbase.wal中的类">FSHLogProvider</a></dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
 @InterfaceStability.Evolving
public abstract class <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.60">AbstractFSWALProvider</a>&lt;T extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html" title="org.apache.hadoop.hbase.regionserver.wal中的类">AbstractFSWAL</a>&lt;?&gt;&gt;
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a>
implements <a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></pre>
<div class="block">Base class of a WAL Provider that returns a single thread safe WAL that writes to Hadoop FS. By
 default, this implementation picks a directory in Hadoop FS based on a combination of
 <ul>
 <li>the HBase root directory
 <li>HConstants.HREGION_LOGDIR_NAME
 <li>the given factory's factoryId (usually identifying the regionserver by host:port)
 </ul>
 It also uses the providerId to differentiate among files.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.Reader.html" title="org.apache.hadoop.hbase.wal中的接口">AbstractFSWALProvider.Reader</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.hadoop.hbase.wal.WALProvider">
<!--   -->
</a>
<h3>从接口继承的嵌套类/接口&nbsp;org.apache.hadoop.hbase.wal.<a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.AsyncWriter.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider.AsyncWriter</a>, <a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.Writer.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider.Writer</a>, <a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.WriterBase.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider.WriterBase</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.conf.Configuration</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#conf">conf</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(专用程序包) static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#DEFAULT_PROVIDER_ID">DEFAULT_PROVIDER_ID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#DEFAULT_SEPARATE_OLDLOGDIR">DEFAULT_SEPARATE_OLDLOGDIR</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/wal/WALFactory.html" title="org.apache.hadoop.hbase.wal中的类">WALFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#factory">factory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="java.util.concurrent.atomic中的类或接口">AtomicBoolean</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#initialized">initialized</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口">WALActionsListener</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#listeners">listeners</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#logPrefix">logPrefix</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#META_WAL_PROVIDER_ID">META_WAL_PROVIDER_ID</a></span></code>
<div class="block">The hbase:meta region's WAL filename extension</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#providerId">providerId</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#SEPARATE_OLDLOGDIR">SEPARATE_OLDLOGDIR</a></span></code>
<div class="block">Separate old log into different dir by regionserver name</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#SPLITTING_EXT">SPLITTING_EXT</a></span></code>
<div class="block">File Extension used while splitting an WAL into regions (HBASE-2312)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#wal">wal</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#WAL_FILE_NAME_DELIMITER">WAL_FILE_NAME_DELIMITER</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="java.util.regex中的类或接口">Pattern</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#WAL_FILE_NAME_PATTERN">WAL_FILE_NAME_PATTERN</a></span></code>
<div class="block">Pattern used to validate a WAL file name see <a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#validateWALFilename-java.lang.String-"><code>validateWALFilename(String)</code></a> for
 description.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#walCreateLock">walCreateLock</a></span></code>
<div class="block">we synchronized on walCreateLock to prevent wal recreation in different threads</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#AbstractFSWALProvider--">AbstractFSWALProvider</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#addWALActionsListener-org.apache.hadoop.hbase.regionserver.wal.WALActionsListener-">addWALActionsListener</a></span>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口">WALActionsListener</a>&nbsp;listener)</code>
<div class="block">Add a <a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口"><code>WALActionsListener</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#close--">close</a></span>()</code>
<div class="block">shutdown utstanding WALs and clean up any persisted state.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#createWAL--">createWAL</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#doInit-org.apache.hadoop.conf.Configuration-">doInit</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#extractFileNumFromWAL-org.apache.hadoop.hbase.wal.WAL-">extractFileNumFromWAL</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</code>
<div class="block">It returns the file create timestamp from the file name.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getArchivedLogPath-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">getArchivedLogPath</a></span>(org.apache.hadoop.fs.Path&nbsp;path,
                  org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Get the archived WAL file path</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getCurrentFileName-org.apache.hadoop.hbase.wal.WAL-">getCurrentFileName</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</code>
<div class="block">return the current filename from the current wal.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getLogFileSize--">getLogFileSize</a></span>()</code>
<div class="block">iff the given WALFactory is using the DefaultWALProvider for meta and/or non-meta, count the
 size of files (only rolled). if either of them aren't, count 0 for that provider.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getLogFileSize-org.apache.hadoop.hbase.wal.WAL-">getLogFileSize</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</code>
<div class="block">returns the size of rolled WAL files.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getNumLogFiles--">getNumLogFiles</a></span>()</code>
<div class="block">iff the given WALFactory is using the DefaultWALProvider for meta and/or non-meta, count the
 number of files (rolled and active). if either of them aren't, count 0 for that provider.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getNumRolledLogFiles-org.apache.hadoop.hbase.wal.WAL-">getNumRolledLogFiles</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</code>
<div class="block">returns the number of rolled WAL files.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类">ServerName</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getServerNameFromWALDirectoryName-org.apache.hadoop.conf.Configuration-java.lang.String-">getServerNameFromWALDirectoryName</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path)</code>
<div class="block">Pulls a ServerName out of a Path generated according to our layout rules.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类">ServerName</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getServerNameFromWALDirectoryName-org.apache.hadoop.fs.Path-">getServerNameFromWALDirectoryName</a></span>(org.apache.hadoop.fs.Path&nbsp;logFile)</code>
<div class="block">This function returns region server name from a log file name which is in one of the following
 formats:
 
 hdfs://&lt;name node&gt;/hbase/.logs/&lt;server name&gt;-splitting/...</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWAL-org.apache.hadoop.hbase.client.RegionInfo-">getWAL</a></span>(<a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="org.apache.hadoop.hbase.client中的接口">RegionInfo</a>&nbsp;region)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALArchiveDirectoryName-org.apache.hadoop.conf.Configuration-java.lang.String-">getWALArchiveDirectoryName</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;serverName)</code>
<div class="block">Construct the directory name for all old WALs on a given server.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALDirectoryName-java.lang.String-">getWALDirectoryName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;serverName)</code>
<div class="block">Construct the directory name for all WALs on a given server.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALNameGroupFromWALName-java.lang.String-int-">getWALNameGroupFromWALName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                          int&nbsp;group)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALPrefixFromWALName-java.lang.String-">getWALPrefixFromWALName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</code>
<div class="block">Get prefix of the log from its name, assuming WAL name in format of
 log_prefix.filenumber.log_suffix</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALs--">getWALs</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#getWALStartTimeFromWALName-java.lang.String-">getWALStartTimeFromWALName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#init-org.apache.hadoop.hbase.wal.WALFactory-org.apache.hadoop.conf.Configuration-java.lang.String-">init</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WALFactory.html" title="org.apache.hadoop.hbase.wal中的类">WALFactory</a>&nbsp;factory,
    org.apache.hadoop.conf.Configuration&nbsp;conf,
    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;providerId)</code>
<div class="block">Set up the provider to create wals. will only be called once per instance.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#isArchivedLogFile-org.apache.hadoop.fs.Path-">isArchivedLogFile</a></span>(org.apache.hadoop.fs.Path&nbsp;p)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#isMetaFile-org.apache.hadoop.fs.Path-">isMetaFile</a></span>(org.apache.hadoop.fs.Path&nbsp;p)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#isMetaFile-java.lang.String-">isMetaFile</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;p)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/wal/WAL.Reader.html" title="org.apache.hadoop.hbase.wal中的接口">WAL.Reader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#openReader-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">openReader</a></span>(org.apache.hadoop.fs.Path&nbsp;path,
          org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Opens WAL reader with retries and additional exception handling</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#recoverLease-org.apache.hadoop.conf.Configuration-org.apache.hadoop.fs.Path-">recoverLease</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
            org.apache.hadoop.fs.Path&nbsp;path)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>(专用程序包) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#requestLogRoll-org.apache.hadoop.hbase.wal.WAL-">requestLogRoll</a></span>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</code>
<div class="block">request a log roll, but don't actually do it.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#shutdown--">shutdown</a></span>()</code>
<div class="block">persist outstanding WALs to storage and stop accepting new appends.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#validateWALFilename-java.lang.String-">validateWALFilename</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;filename)</code>
<div class="block">A WAL file name is of the format: &lt;wal-name&gt;<a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#WAL_FILE_NAME_DELIMITER"><code>WAL_FILE_NAME_DELIMITER</code></a>
 &lt;file-creation-timestamp&gt;[.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hbase.wal.WALProvider">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.apache.hadoop.hbase.wal.<a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getWALFileLengthProvider--">getWALFileLengthProvider</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.62">LOG</a></pre>
</li>
</ul>
<a name="SEPARATE_OLDLOGDIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SEPARATE_OLDLOGDIR</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.65">SEPARATE_OLDLOGDIR</a></pre>
<div class="block">Separate old log into different dir by regionserver name</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.SEPARATE_OLDLOGDIR">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_SEPARATE_OLDLOGDIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_SEPARATE_OLDLOGDIR</h4>
<pre>public static final&nbsp;boolean <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.66">DEFAULT_SEPARATE_OLDLOGDIR</a></pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.DEFAULT_SEPARATE_OLDLOGDIR">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="wal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wal</h4>
<pre>protected volatile&nbsp;<a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a> extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html" title="org.apache.hadoop.hbase.regionserver.wal中的类">AbstractFSWAL</a>&lt;?&gt; <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.79">wal</a></pre>
</li>
</ul>
<a name="factory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>factory</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/wal/WALFactory.html" title="org.apache.hadoop.hbase.wal中的类">WALFactory</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.80">factory</a></pre>
</li>
</ul>
<a name="conf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conf</h4>
<pre>protected&nbsp;org.apache.hadoop.conf.Configuration <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.81">conf</a></pre>
</li>
</ul>
<a name="listeners">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listeners</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口">WALActionsListener</a>&gt; <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.82">listeners</a></pre>
</li>
</ul>
<a name="providerId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>providerId</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.83">providerId</a></pre>
</li>
</ul>
<a name="initialized">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialized</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="java.util.concurrent.atomic中的类或接口">AtomicBoolean</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.84">initialized</a></pre>
</li>
</ul>
<a name="logPrefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logPrefix</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.86">logPrefix</a></pre>
</li>
</ul>
<a name="walCreateLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>walCreateLock</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.91">walCreateLock</a></pre>
<div class="block">we synchronized on walCreateLock to prevent wal recreation in different threads</div>
</li>
</ul>
<a name="WAL_FILE_NAME_DELIMITER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WAL_FILE_NAME_DELIMITER</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.229">WAL_FILE_NAME_DELIMITER</a></pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.WAL_FILE_NAME_DELIMITER">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="META_WAL_PROVIDER_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>META_WAL_PROVIDER_ID</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.232">META_WAL_PROVIDER_ID</a></pre>
<div class="block">The hbase:meta region's WAL filename extension</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.META_WAL_PROVIDER_ID">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_PROVIDER_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PROVIDER_ID</h4>
<pre>static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.233">DEFAULT_PROVIDER_ID</a></pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.DEFAULT_PROVIDER_ID">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="SPLITTING_EXT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SPLITTING_EXT</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.237">SPLITTING_EXT</a></pre>
<div class="block">File Extension used while splitting an WAL into regions (HBASE-2312)</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.AbstractFSWALProvider.SPLITTING_EXT">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="WAL_FILE_NAME_PATTERN">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WAL_FILE_NAME_PATTERN</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="java.util.regex中的类或接口">Pattern</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.263">WAL_FILE_NAME_PATTERN</a></pre>
<div class="block">Pattern used to validate a WAL file name see <a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#validateWALFilename-java.lang.String-"><code>validateWALFilename(String)</code></a> for
 description.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="AbstractFSWALProvider--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractFSWALProvider</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.60">AbstractFSWALProvider</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="init-org.apache.hadoop.hbase.wal.WALFactory-org.apache.hadoop.conf.Configuration-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.100">init</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WALFactory.html" title="org.apache.hadoop.hbase.wal中的类">WALFactory</a>&nbsp;factory,
                 org.apache.hadoop.conf.Configuration&nbsp;conf,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;providerId)
          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#init-org.apache.hadoop.hbase.wal.WALFactory-org.apache.hadoop.conf.Configuration-java.lang.String-">WALProvider</a></code></span></div>
<div class="block">Set up the provider to create wals. will only be called once per instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#init-org.apache.hadoop.hbase.wal.WALFactory-org.apache.hadoop.conf.Configuration-java.lang.String-">init</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>factory</code> - factory that made us, identity used for FS layout. may not be null</dd>
<dd><code>conf</code> - may not be null</dd>
<dd><code>providerId</code> - differentiate between providers from one factory, used for FS layout. may be
          null</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getWALs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWALs</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.121">getWALs</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getWALs--">getWALs</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the List of WALs that are used by this server</dd>
</dl>
</li>
</ul>
<a name="getWAL-org.apache.hadoop.hbase.client.RegionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWAL</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.131">getWAL</a>(<a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="org.apache.hadoop.hbase.client中的接口">RegionInfo</a>&nbsp;region)
         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getWAL-org.apache.hadoop.hbase.client.RegionInfo-">getWAL</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>region</code> - the region which we want to get a WAL for it. Could be null.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a WAL for writing entries for the given region.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="createWAL--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWAL</h4>
<pre>protected abstract&nbsp;<a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" title="AbstractFSWALProvider中的类型参数">T</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.156">createWAL</a>()
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="doInit-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doInit</h4>
<pre>protected abstract&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.158">doInit</a>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.161">shutdown</a>()
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#shutdown--">WALProvider</a></code></span></div>
<div class="block">persist outstanding WALs to storage and stop accepting new appends. This method serves as
 shorthand for sending a sync to every WAL provided by a given implementation. Those WALs will
 also stop accepting new writes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#shutdown--">shutdown</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.169">close</a>()
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#close--">WALProvider</a></code></span></div>
<div class="block">shutdown utstanding WALs and clean up any persisted state. Call this method only when you will
 not need to replay any of the edits to the WALs from this provider. After this call completes,
 the underlying resources should have been reclaimed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#close--">close</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNumLogFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumLogFiles</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.181">getNumLogFiles</a>()</pre>
<div class="block">iff the given WALFactory is using the DefaultWALProvider for meta and/or non-meta, count the
 number of files (rolled and active). if either of them aren't, count 0 for that provider.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getNumLogFiles--">getNumLogFiles</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getLogFileSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFileSize</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.191">getLogFileSize</a>()</pre>
<div class="block">iff the given WALFactory is using the DefaultWALProvider for meta and/or non-meta, count the
 size of files (only rolled). if either of them aren't, count 0 for that provider.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getLogFileSize--">getLogFileSize</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getNumRolledLogFiles-org.apache.hadoop.hbase.wal.WAL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumRolledLogFiles</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.200">getNumRolledLogFiles</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</pre>
<div class="block">returns the number of rolled WAL files.</div>
</li>
</ul>
<a name="getLogFileSize-org.apache.hadoop.hbase.wal.WAL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFileSize</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.208">getLogFileSize</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</pre>
<div class="block">returns the size of rolled WAL files.</div>
</li>
</ul>
<a name="getCurrentFileName-org.apache.hadoop.hbase.wal.WAL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentFileName</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.216">getCurrentFileName</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</pre>
<div class="block">return the current filename from the current wal.</div>
</li>
</ul>
<a name="requestLogRoll-org.apache.hadoop.hbase.wal.WAL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestLogRoll</h4>
<pre>static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.224">requestLogRoll</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</pre>
<div class="block">request a log roll, but don't actually do it.</div>
</li>
</ul>
<a name="extractFileNumFromWAL-org.apache.hadoop.hbase.wal.WAL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractFileNumFromWAL</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.246">extractFileNumFromWAL</a>(<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口">WAL</a>&nbsp;wal)</pre>
<div class="block">It returns the file create timestamp from the file name. For name format see
 <a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#validateWALFilename-java.lang.String-"><code>validateWALFilename(String)</code></a> public until remaining tests move to o.a.h.h.wal</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>wal</code> - must not be null</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the file number that is part of the WAL file name</dd>
</dl>
</li>
</ul>
<a name="validateWALFilename-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateWALFilename</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.273">validateWALFilename</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;filename)</pre>
<div class="block">A WAL file name is of the format: &lt;wal-name&gt;<a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#WAL_FILE_NAME_DELIMITER"><code>WAL_FILE_NAME_DELIMITER</code></a>
 &lt;file-creation-timestamp&gt;[.&lt;suffix&gt;]. provider-name is usually made up of a
 server-name and a provider-id</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>filename</code> - name of the file to validate</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the filename matches an WAL, <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="getWALDirectoryName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWALDirectoryName</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.284">getWALDirectoryName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;serverName)</pre>
<div class="block">Construct the directory name for all WALs on a given server. Dir names currently look like this
 for WALs: <code>hbase//WALs/kalashnikov.att.net,61634,1486865297088</code>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>serverName</code> - Server name formatted as described in <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类"><code>ServerName</code></a></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the relative WAL directory name, e.g. <code>.logs/1.example.org,60030,12345</code> if
         <code>serverName</code> passed is <code>1.example.org,60030,12345</code></dd>
</dl>
</li>
</ul>
<a name="getWALArchiveDirectoryName-org.apache.hadoop.conf.Configuration-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWALArchiveDirectoryName</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.299">getWALArchiveDirectoryName</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;serverName)</pre>
<div class="block">Construct the directory name for all old WALs on a given server. The default old WALs dir looks
 like: <code>hbase/oldWALs</code>. If you config hbase.separate.oldlogdir.by.regionserver to
 true, it looks like <code>hbase//oldWALs/kalashnikov.att.net,61634,1486865297088</code>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>conf</code> - </dd>
<dd><code>serverName</code> - Server name formatted as described in <a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类"><code>ServerName</code></a></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the relative WAL directory name</dd>
</dl>
</li>
</ul>
<a name="getServerNameFromWALDirectoryName-org.apache.hadoop.conf.Configuration-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerNameFromWALDirectoryName</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.317">getServerNameFromWALDirectoryName</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;path)
                                                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Pulls a ServerName out of a Path generated according to our layout rules. In the below layouts,
 this method ignores the format of the logfile component. Current format: [base directory for
 hbase]/hbase/.logs/ServerName/logfile or [base directory for
 hbase]/hbase/.logs/ServerName-splitting/logfile Expected to work for individual log files and
 server-specific directories.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>null if it's not a log file. Returns the ServerName of the region server that created
         this log file otherwise.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getServerNameFromWALDirectoryName-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerNameFromWALDirectoryName</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="org.apache.hadoop.hbase中的类">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.374">getServerNameFromWALDirectoryName</a>(org.apache.hadoop.fs.Path&nbsp;logFile)</pre>
<div class="block">This function returns region server name from a log file name which is in one of the following
 formats:
 <ul>
 <li>hdfs://&lt;name node&gt;/hbase/.logs/&lt;server name&gt;-splitting/...</li>
 <li>hdfs://&lt;name node&gt;/hbase/.logs/&lt;server name&gt;/...</li>
 </ul></div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>null if the passed in logFile isn't a valid WAL file path</dd>
</dl>
</li>
</ul>
<a name="isMetaFile-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMetaFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.397">isMetaFile</a>(org.apache.hadoop.fs.Path&nbsp;p)</pre>
</li>
</ul>
<a name="isMetaFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMetaFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.401">isMetaFile</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;p)</pre>
</li>
</ul>
<a name="isArchivedLogFile-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isArchivedLogFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.408">isArchivedLogFile</a>(org.apache.hadoop.fs.Path&nbsp;p)</pre>
</li>
</ul>
<a name="getArchivedLogPath-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArchivedLogPath</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.420">getArchivedLogPath</a>(org.apache.hadoop.fs.Path&nbsp;path,
                                                           org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Get the archived WAL file path</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>path</code> - - active WAL file path</dd>
<dd><code>conf</code> - - configuration</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>archived path if exists, path - otherwise</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - exception</dd>
</dl>
</li>
</ul>
<a name="openReader-org.apache.hadoop.fs.Path-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openReader</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/wal/WAL.Reader.html" title="org.apache.hadoop.hbase.wal中的接口">WAL.Reader</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.450">openReader</a>(org.apache.hadoop.fs.Path&nbsp;path,
                                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Opens WAL reader with retries and additional exception handling</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>path</code> - path to WAL file</dd>
<dd><code>conf</code> - configuration</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>WAL Reader instance</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="recoverLease-org.apache.hadoop.conf.Configuration-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverLease</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.499">recoverLease</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                 org.apache.hadoop.fs.Path&nbsp;path)</pre>
</li>
</ul>
<a name="addWALActionsListener-org.apache.hadoop.hbase.regionserver.wal.WALActionsListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWALActionsListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.516">addWALActionsListener</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口">WALActionsListener</a>&nbsp;listener)</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#addWALActionsListener-org.apache.hadoop.hbase.regionserver.wal.WALActionsListener-">WALProvider</a></code></span></div>
<div class="block">Add a <a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="org.apache.hadoop.hbase.regionserver.wal中的接口"><code>WALActionsListener</code></a>.
 <p>
 Notice that you must call this method before calling <a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#getWAL-org.apache.hadoop.hbase.client.RegionInfo-"><code>WALProvider.getWAL(RegionInfo)</code></a> as this method
 will not effect the <a href="../../../../../org/apache/hadoop/hbase/wal/WAL.html" title="org.apache.hadoop.hbase.wal中的接口"><code>WAL</code></a> which has already been created. And as long as we can only it
 when initialization, it is not thread safe.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html#addWALActionsListener-org.apache.hadoop.hbase.regionserver.wal.WALActionsListener-">addWALActionsListener</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/wal/WALProvider.html" title="org.apache.hadoop.hbase.wal中的接口">WALProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getWALNameGroupFromWALName-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWALNameGroupFromWALName</h4>
<pre>private static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.520">getWALNameGroupFromWALName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                                                 int&nbsp;group)</pre>
</li>
</ul>
<a name="getWALPrefixFromWALName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWALPrefixFromWALName</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.536">getWALPrefixFromWALName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</pre>
<div class="block">Get prefix of the log from its name, assuming WAL name in format of
 log_prefix.filenumber.log_suffix</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>name</code> - Name of the WAL to parse</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>prefix of the log</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang中的类或接口">IllegalArgumentException</a></code> - if the name passed in is not a valid wal file name</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/regionserver/wal/AbstractFSWAL.html#getCurrentFileName--"><code>AbstractFSWAL.getCurrentFileName()</code></a></dd>
</dl>
</li>
</ul>
<a name="getWALStartTimeFromWALName-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getWALStartTimeFromWALName</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html#line.540">getWALStartTimeFromWALName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/AbstractFSWALProvider.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../org/apache/hadoop/hbase/wal/AbstractFSWALProvider.Reader.html" title="org.apache.hadoop.hbase.wal中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/wal/AbstractFSWALProvider.html" target="_top">框架</a></li>
<li><a href="AbstractFSWALProvider.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2018 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
