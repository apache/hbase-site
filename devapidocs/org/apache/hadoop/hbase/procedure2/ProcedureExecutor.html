<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ProcedureExecutor (Apache HBase 4.0.0-alpha-1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.hadoop.hbase.procedure2, class: ProcedureExecutor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ProcedureExecutor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.hadoop.hbase.procedure2</a></div>
<h1 title="Class ProcedureExecutor" class="title">Class ProcedureExecutor&lt;TEnvironment&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.hadoop.hbase.procedure2.ProcedureExecutor&lt;TEnvironment&gt;</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Private
</span><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-79">ProcedureExecutor</a>&lt;TEnvironment&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Thread Pool that executes the submitted procedures. The executor has a ProcedureStore associated.
 Each operation is logged and on restart the pending procedures are resumed. Unless the Procedure
 code throws an error (e.g. invalid user input) the procedure will complete (at some point in
 time), On restart the pending procedures are resumed and the once failed will be rolledback. The
 user can add procedures to the executor via submitProcedure(proc) check for the finished state
 via isFinished(procId) and get the result via getResult(procId)</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ProcedureExecutor.KeepAliveWorkerThread.html" class="type-name-link" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.KeepAliveWorkerThread</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="ProcedureExecutor.ProcedureExecutorListener.html" class="type-name-link" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ProcedureExecutor.Testing.html" class="type-name-link" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.Testing</a></code></div>
<div class="col-last even-row-color">
<div class="block">Class with parameters describing how to fail/die when in testing-context.</div>
</div>
<div class="col-first odd-row-color"><code>private final class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="ProcedureExecutor.WorkerMonitor.html" class="type-name-link" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.WorkerMonitor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ProcedureExecutor.WorkerThread.html" class="type-name-link" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.WorkerThread</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second even-row-color"><code><a href="#activeExecutorCount" class="member-name-link">activeExecutorCount</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#asyncTaskExecutor" class="member-name-link">asyncTaskExecutor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#CHECK_OWNER_SET_CONF_KEY" class="member-name-link">CHECK_OWNER_SET_CONF_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#checkOwnerSet" class="member-name-link">checkOwnerSet</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="CompletedProcedureRetainer.html" title="class in org.apache.hadoop.hbase.procedure2">CompletedProcedureRetainer</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#completed" class="member-name-link">completed</a></code></div>
<div class="col-last even-row-color">
<div class="block">Map the the procId returned by submitProcedure(), the Root-ProcID, to the Procedure.</div>
</div>
<div class="col-first odd-row-color"><code>private org.apache.hadoop.conf.Configuration</code></div>
<div class="col-second odd-row-color"><code><a href="#conf" class="member-name-link">conf</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private int</code></div>
<div class="col-second even-row-color"><code><a href="#corePoolSize" class="member-name-link">corePoolSize</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_ACKED_EVICT_TTL" class="member-name-link">DEFAULT_ACKED_EVICT_TTL</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final boolean</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_CHECK_OWNER_SET" class="member-name-link">DEFAULT_CHECK_OWNER_SET</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_EVICT_TTL" class="member-name-link">DEFAULT_EVICT_TTL</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final long</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_WORKER_KEEP_ALIVE_TIME" class="member-name-link">DEFAULT_WORKER_KEEP_ALIVE_TIME</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a></code></div>
<div class="col-second odd-row-color"><code><a href="#environment" class="member-name-link">environment</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#EVICT_ACKED_TTL_CONF_KEY" class="member-name-link">EVICT_ACKED_TTL_CONF_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#EVICT_TTL_CONF_KEY" class="member-name-link">EVICT_TTL_CONF_KEY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second even-row-color"><code><a href="#forceUpdateExecutor" class="member-name-link">forceUpdateExecutor</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private long</code></div>
<div class="col-second odd-row-color"><code><a href="#keepAliveTime" class="member-name-link">keepAliveTime</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></code></div>
<div class="col-second even-row-color"><code><a href="#lastProcId" class="member-name-link">lastProcId</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html" title="class or interface in java.util.concurrent" class="external-link">CopyOnWriteArrayList</a>&lt;<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#listeners" class="member-name-link">listeners</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private static final org.slf4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#LOG" class="member-name-link">LOG</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#maxPoolSize" class="member-name-link">maxPoolSize</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#nonceKeysToProcIdsMap" class="member-name-link">nonceKeysToProcIdsMap</a></code></div>
<div class="col-last even-row-color">
<div class="block">Helper map to lookup whether the procedure already issued from the same client.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#procedures" class="member-name-link">procedures</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Helper map to lookup the live procedures by ID.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="../util/IdLock.html" title="class in org.apache.hadoop.hbase.util">IdLock</a></code></div>
<div class="col-second even-row-color"><code><a href="#procExecutionLock" class="member-name-link">procExecutionLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#rollbackStack" class="member-name-link">rollbackStack</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map the the procId returned by submitProcedure(), the Root-ProcID, to the RootProcedureState.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></code></div>
<div class="col-second even-row-color"><code><a href="#running" class="member-name-link">running</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></code></div>
<div class="col-second odd-row-color"><code><a href="#scheduler" class="member-name-link">scheduler</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Scheduler/Queue that contains runnable procedures.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a></code></div>
<div class="col-second even-row-color"><code><a href="#store" class="member-name-link">store</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) <a href="ProcedureExecutor.Testing.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.Testing</a></code></div>
<div class="col-second odd-row-color"><code><a href="#testing" class="member-name-link">testing</a></code></div>
<div class="col-last odd-row-color">
<div class="block"><a href="#testing"><code>testing</code></a> is non-null when ProcedureExecutor is being tested.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html" title="class or interface in java.lang" class="external-link">ThreadGroup</a></code></div>
<div class="col-second even-row-color"><code><a href="#threadGroup" class="member-name-link">threadGroup</a></code></div>
<div class="col-last even-row-color">
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="TimeoutExecutorThread.html" title="class in org.apache.hadoop.hbase.procedure2">TimeoutExecutorThread</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#timeoutExecutor" class="member-name-link">timeoutExecutor</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WORKER_KEEP_ALIVE_TIME_CONF_KEY" class="member-name-link">WORKER_KEEP_ALIVE_TIME_CONF_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></code></div>
<div class="col-second odd-row-color"><code><a href="#workerId" class="member-name-link">workerId</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="TimeoutExecutorThread.html" title="class in org.apache.hadoop.hbase.procedure2">TimeoutExecutorThread</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#workerMonitorExecutor" class="member-name-link">workerMonitorExecutor</a></code></div>
<div class="col-last even-row-color">
<div class="block">WorkerMonitor check for stuck workers and new worker thread when necessary, for example if
 there is no worker to assign meta, it will new worker thread for it, so it is very important.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html" title="class or interface in java.util.concurrent" class="external-link">CopyOnWriteArrayList</a>&lt;<a href="ProcedureExecutor.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;.<a href="ProcedureExecutor.WorkerThread.html" title="class in org.apache.hadoop.hbase.procedure2">WorkerThread</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#workerThreads" class="member-name-link">workerThreads</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.conf.Configuration,TEnvironment,org.apache.hadoop.hbase.procedure2.store.ProcedureStore)" class="member-name-link">ProcedureExecutor</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&nbsp;environment,
 <a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a>&nbsp;store)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.hadoop.conf.Configuration,TEnvironment,org.apache.hadoop.hbase.procedure2.store.ProcedureStore,org.apache.hadoop.hbase.procedure2.ProcedureScheduler)" class="member-name-link">ProcedureExecutor</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&nbsp;environment,
 <a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a>&nbsp;store,
 <a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a>&nbsp;scheduler)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abort(long)" class="member-name-link">abort</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send an abort notification the specified procedure.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abort(long,boolean)" class="member-name-link">abort</a><wbr>(long&nbsp;procId,
 boolean&nbsp;mayInterruptIfRunning)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send an abort notification to the specified procedure.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireLock(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">acquireLock</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addChore(org.apache.hadoop.hbase.procedure2.ProcedureInMemoryChore)" class="member-name-link">addChore</a><wbr>(<a href="ProcedureInMemoryChore.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureInMemoryChore</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;chore)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a chore procedure to the executor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bypassProcedure(long,long,boolean,boolean)" class="member-name-link">bypassProcedure</a><wbr>(long&nbsp;pid,
 long&nbsp;lockWait,
 boolean&nbsp;override,
 boolean&nbsp;recursive)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bypassProcedure(java.util.List,long,boolean,boolean)" class="member-name-link">bypassProcedure</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;pids,
 long&nbsp;lockWait,
 boolean&nbsp;force,
 boolean&nbsp;recursive)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Bypass a procedure.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanupAfterRollbackOneStep(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">cleanupAfterRollbackOneStep</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#countDownChildren(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">countDownChildren</a><wbr>(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createNonceKey(long,long)" class="member-name-link">createNonceKey</a><wbr>(long&nbsp;nonceGroup,
 long&nbsp;nonce)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a NonceKey from the specified nonceGroup and nonce.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#execCompletionCleanup(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">execCompletionCleanup</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#execProcedure(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">execProcedure</a><wbr>(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Executes <code>procedure</code>
 
 Calls the doExecute() of the procedure
 If the procedure execution didn't fail (i.e.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeNormalRollback(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.RootProcedureState)" class="member-name-link">executeNormalRollback</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;rootProc,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeProcedure(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">executeProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeRollback(long,org.apache.hadoop.hbase.procedure2.RootProcedureState)" class="member-name-link">executeRollback</a><wbr>(long&nbsp;rootProcId,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute the rollback of the full procedure stack.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeRollback(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">executeRollback</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute the rollback of the procedure step.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeUnexpectedRollback(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.RootProcedureState)" class="member-name-link">executeUnexpectedRollback</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;rootProc,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forceUpdateProcedure(long)" class="member-name-link">forceUpdateProcedure</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveExecutorCount()" class="member-name-link">getActiveExecutorCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveProceduresNoCopy()" class="member-name-link">getActiveProceduresNoCopy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Should only be used when starting up, where the procedure workers have not been started.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveProcIds()" class="member-name-link">getActiveProcIds</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAsyncTaskExecutor()" class="member-name-link">getAsyncTaskExecutor</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a thread pool for executing some asynchronous tasks</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCompletedSize()" class="member-name-link">getCompletedSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCorePoolSize()" class="member-name-link">getCorePoolSize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the core pool size settings.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEnvironment()" class="member-name-link">getEnvironment</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKeepAliveTime(java.util.concurrent.TimeUnit)" class="member-name-link">getKeepAliveTime</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeUnit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastProcId()" class="member-name-link">getLastProcId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../util/IdLock.Entry.html" title="class in org.apache.hadoop.hbase.util">IdLock.Entry</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLockEntryForRollback(long)" class="member-name-link">getLockEntryForRollback</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcedure(long)" class="member-name-link">getProcedure</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;<br>T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcedure(java.lang.Class,long)" class="member-name-link">getProcedure</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;clazz,
 long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcedures()" class="member-name-link">getProcedures</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get procedures.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcedureScheduler()" class="member-name-link">getProcedureScheduler</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../util/IdLock.html" title="class in org.apache.hadoop.hbase.util">IdLock</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcExecutionLock()" class="member-name-link">getProcExecutionLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getProcStack(long)" class="member-name-link">getProcStack</a><wbr>(long&nbsp;rootProcId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResult(long)" class="member-name-link">getResult</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResultOrProcedure(long)" class="member-name-link">getResultOrProcedure</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRootProcedureId(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">getRootProcedureId</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getScheduler()" class="member-name-link">getScheduler</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStore()" class="member-name-link">getStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWorkerThreadCount()" class="member-name-link">getWorkerThreadCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current number of worker threads.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleInterruptedException(org.apache.hadoop.hbase.procedure2.Procedure,java.lang.InterruptedException)" class="member-name-link">handleInterruptedException</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>&nbsp;e)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init(int,boolean)" class="member-name-link">init</a><wbr>(int&nbsp;numThreads,
 boolean&nbsp;abortOnCorruption)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize the procedure executor, but do not start workers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initializeChildren(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.Procedure%5B%5D)" class="member-name-link">initializeChildren</a><wbr>(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initializeStacks(org.apache.hadoop.hbase.procedure2.store.ProcedureStore.ProcedureIterator,java.util.List,java.util.List,java.util.List,java.util.List)" class="member-name-link">initializeStacks</a><wbr>(<a href="store/ProcedureStore.ProcedureIterator.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore.ProcedureIterator</a>&nbsp;procIter,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;failedList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingTimeoutList)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFinished(long)" class="member-name-link">isFinished</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return true if the procedure is finished.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isProcedureOwner(long,org.apache.hadoop.hbase.security.User)" class="member-name-link">isProcedureOwner</a><wbr>(long&nbsp;procId,
 <a href="../security/User.html" title="class in org.apache.hadoop.hbase.security">User</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the user is this procedure's owner</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRootFinished(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">isRootFinished</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;?&gt;&nbsp;proc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRunning()" class="member-name-link">isRunning</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isStarted(long)" class="member-name-link">isStarted</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return true if the procedure is started.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#join()" class="member-name-link">join</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#kill(java.lang.String)" class="member-name-link">kill</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;msg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#load(boolean)" class="member-name-link">load</a><wbr>(boolean&nbsp;abortOnCorruption)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadProcedures(org.apache.hadoop.hbase.procedure2.store.ProcedureStore.ProcedureIterator)" class="member-name-link">loadProcedures</a><wbr>(<a href="store/ProcedureStore.ProcedureIterator.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore.ProcedureIterator</a>&nbsp;procIter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nextProcId()" class="member-name-link">nextProcId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareProcedure(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">prepareProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#procedureFinished(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">procedureFinished</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processWaitingProcedures(java.util.List,java.util.List)" class="member-name-link">processWaitingProcedures</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processWaitingTimeoutProcedures(java.util.List)" class="member-name-link">processWaitingTimeoutProcedures</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingTimeoutList)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pushProcedure(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">pushProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pushProceduresAfterLoad(java.util.List,java.util.List)" class="member-name-link">pushProceduresAfterLoad</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;failedList)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#refreshConfiguration(org.apache.hadoop.conf.Configuration)" class="member-name-link">refreshConfiguration</a><wbr>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerListener(org.apache.hadoop.hbase.procedure2.ProcedureExecutor.ProcedureExecutorListener)" class="member-name-link">registerListener</a><wbr>(<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerNonce(org.apache.hadoop.hbase.util.NonceKey)" class="member-name-link">registerNonce</a><wbr>(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Register a nonce for a procedure that is going to be submitted.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#releaseLock(org.apache.hadoop.hbase.procedure2.Procedure,boolean)" class="member-name-link">releaseLock</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 boolean&nbsp;force)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeChore(org.apache.hadoop.hbase.procedure2.ProcedureInMemoryChore)" class="member-name-link">removeChore</a><wbr>(<a href="ProcedureInMemoryChore.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureInMemoryChore</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;chore)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a chore procedure from the executor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeResult(long)" class="member-name-link">removeResult</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Mark the specified completed procedure, as ready to remove.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restoreLock(org.apache.hadoop.hbase.procedure2.Procedure,java.util.Set)" class="member-name-link">restoreLock</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;restored)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restoreLocks()" class="member-name-link">restoreLocks</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restoreLocks(java.util.Deque,java.util.Set)" class="member-name-link">restoreLocks</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;stack,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;restored)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendProcedureAddedNotification(long)" class="member-name-link">sendProcedureAddedNotification</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendProcedureFinishedNotification(long)" class="member-name-link">sendProcedureFinishedNotification</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendProcedureLoadedNotification(long)" class="member-name-link">sendProcedureLoadedNotification</a><wbr>(long&nbsp;procId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFailureResultForNonce(org.apache.hadoop.hbase.util.NonceKey,java.lang.String,org.apache.hadoop.hbase.security.User,java.io.IOException)" class="member-name-link">setFailureResultForNonce</a><wbr>(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;procName,
 <a href="../security/User.html" title="class in org.apache.hadoop.hbase.security">User</a>&nbsp;procOwner,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&nbsp;exception)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the failure failed before submitting it, we may want to give back the same error to the
 requests with the same nonceKey.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKeepAliveTime(long,java.util.concurrent.TimeUnit)" class="member-name-link">setKeepAliveTime</a><wbr>(long&nbsp;keepAliveTime,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeUnit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startWorkers()" class="member-name-link">startWorkers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Start the workers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitChildrenProcedures(org.apache.hadoop.hbase.procedure2.Procedure%5B%5D)" class="member-name-link">submitChildrenProcedures</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitProcedure(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">submitProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a new root-procedure to the executor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitProcedure(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.util.NonceKey)" class="member-name-link">submitProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a new root-procedure to the executor.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitProcedures(org.apache.hadoop.hbase.procedure2.Procedure%5B%5D)" class="member-name-link">submitProcedures</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;procs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a set of new root-procedure to the executor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unregisterListener(org.apache.hadoop.hbase.procedure2.ProcedureExecutor.ProcedureExecutorListener)" class="member-name-link">unregisterListener</a><wbr>(<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unregisterNonceIfProcedureWasNotSubmitted(org.apache.hadoop.hbase.util.NonceKey)" class="member-name-link">unregisterNonceIfProcedureWasNotSubmitted</a><wbr>(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the NonceKey if the procedure was not submitted to the executor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateStoreOnExec(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.Procedure%5B%5D)" class="member-name-link">updateStoreOnExec</a><wbr>(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#yieldProcedure(org.apache.hadoop.hbase.procedure2.Procedure)" class="member-name-link">yieldProcedure</a><wbr>(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="LOG">
<h3>LOG</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-81">LOG</a></span></div>
</section>
</li>
<li>
<section class="detail" id="CHECK_OWNER_SET_CONF_KEY">
<h3>CHECK_OWNER_SET_CONF_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-83">CHECK_OWNER_SET_CONF_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.CHECK_OWNER_SET_CONF_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_CHECK_OWNER_SET">
<h3>DEFAULT_CHECK_OWNER_SET</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-84">DEFAULT_CHECK_OWNER_SET</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.DEFAULT_CHECK_OWNER_SET">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WORKER_KEEP_ALIVE_TIME_CONF_KEY">
<h3>WORKER_KEEP_ALIVE_TIME_CONF_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-86">WORKER_KEEP_ALIVE_TIME_CONF_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.WORKER_KEEP_ALIVE_TIME_CONF_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_WORKER_KEEP_ALIVE_TIME">
<h3>DEFAULT_WORKER_KEEP_ALIVE_TIME</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-88">DEFAULT_WORKER_KEEP_ALIVE_TIME</a></span></div>
</section>
</li>
<li>
<section class="detail" id="EVICT_TTL_CONF_KEY">
<h3>EVICT_TTL_CONF_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-90">EVICT_TTL_CONF_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.EVICT_TTL_CONF_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_EVICT_TTL">
<h3>DEFAULT_EVICT_TTL</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-91">DEFAULT_EVICT_TTL</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.DEFAULT_EVICT_TTL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="EVICT_ACKED_TTL_CONF_KEY">
<h3>EVICT_ACKED_TTL_CONF_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-93">EVICT_ACKED_TTL_CONF_KEY</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.EVICT_ACKED_TTL_CONF_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_ACKED_EVICT_TTL">
<h3>DEFAULT_ACKED_EVICT_TTL</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-94">DEFAULT_ACKED_EVICT_TTL</a></span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.procedure2.ProcedureExecutor.DEFAULT_ACKED_EVICT_TTL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="testing">
<h3>testing</h3>
<div class="member-signature"><span class="modifiers">volatile</span>&nbsp;<span class="return-type"><a href="ProcedureExecutor.Testing.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.Testing</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-101">testing</a></span></div>
<div class="block"><a href="#testing"><code>testing</code></a> is non-null when ProcedureExecutor is being tested. Tests will try to break PE
 having it fail at various junctures. When non-null, testing is set to an instance of the below
 internal <a href="ProcedureExecutor.Testing.html" title="class in org.apache.hadoop.hbase.procedure2"><code>ProcedureExecutor.Testing</code></a> class with flags set for the particular test.</div>
</section>
</li>
<li>
<section class="detail" id="completed">
<h3>completed</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="CompletedProcedureRetainer.html" title="class in org.apache.hadoop.hbase.procedure2">CompletedProcedureRetainer</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-184">completed</a></span></div>
<div class="block">Map the the procId returned by submitProcedure(), the Root-ProcID, to the Procedure. Once a
 Root-Procedure completes (success or failure), the result will be added to this map. The user
 of ProcedureExecutor should call getResult(procId) to get the result.</div>
</section>
</li>
<li>
<section class="detail" id="rollbackStack">
<h3>rollbackStack</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-192">rollbackStack</a></span></div>
<div class="block">Map the the procId returned by submitProcedure(), the Root-ProcID, to the RootProcedureState.
 The RootProcedureState contains the execution stack of the Root-Procedure, It is added to the
 map by submitProcedure() and removed on procedure completion.</div>
</section>
</li>
<li>
<section class="detail" id="procedures">
<h3>procedures</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-199">procedures</a></span></div>
<div class="block">Helper map to lookup the live procedures by ID. This map contains every procedure.
 root-procedures and subprocedures.</div>
</section>
</li>
<li>
<section class="detail" id="nonceKeysToProcIdsMap">
<h3>nonceKeysToProcIdsMap</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-206">nonceKeysToProcIdsMap</a></span></div>
<div class="block">Helper map to lookup whether the procedure already issued from the same client. This map
 contains every root procedure.</div>
</section>
</li>
<li>
<section class="detail" id="listeners">
<h3>listeners</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html" title="class or interface in java.util.concurrent" class="external-link">CopyOnWriteArrayList</a>&lt;<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-208">listeners</a></span></div>
</section>
</li>
<li>
<section class="detail" id="conf">
<h3>conf</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.apache.hadoop.conf.Configuration</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-211">conf</a></span></div>
</section>
</li>
<li>
<section class="detail" id="threadGroup">
<h3>threadGroup</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html" title="class or interface in java.lang" class="external-link">ThreadGroup</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-218">threadGroup</a></span></div>
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method. Destroyed in <a href="#join()"><code>join()</code></a> (FIX! Doing
 resource handling rather than observing in a #join is unexpected). Overridden when we do the
 ProcedureTestingUtility.testRecoveryAndDoubleExecution trickery (Should be ok).</div>
</section>
</li>
<li>
<section class="detail" id="workerThreads">
<h3>workerThreads</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html" title="class or interface in java.util.concurrent" class="external-link">CopyOnWriteArrayList</a>&lt;<a href="ProcedureExecutor.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureExecutor</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;.<a href="ProcedureExecutor.WorkerThread.html" title="class in org.apache.hadoop.hbase.procedure2">WorkerThread</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-225">workerThreads</a></span></div>
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method. Terminated in <a href="#join()"><code>join()</code></a> (FIX! Doing
 resource handling rather than observing in a #join is unexpected). Overridden when we do the
 ProcedureTestingUtility.testRecoveryAndDoubleExecution trickery (Should be ok).</div>
</section>
</li>
<li>
<section class="detail" id="timeoutExecutor">
<h3>timeoutExecutor</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="TimeoutExecutorThread.html" title="class in org.apache.hadoop.hbase.procedure2">TimeoutExecutorThread</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-232">timeoutExecutor</a></span></div>
<div class="block">Created in the <a href="#init(int,boolean)"><code>init(int, boolean)</code></a> method. Terminated in <a href="#join()"><code>join()</code></a> (FIX! Doing
 resource handling rather than observing in a #join is unexpected). Overridden when we do the
 ProcedureTestingUtility.testRecoveryAndDoubleExecution trickery (Should be ok).</div>
</section>
</li>
<li>
<section class="detail" id="workerMonitorExecutor">
<h3>workerMonitorExecutor</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="TimeoutExecutorThread.html" title="class in org.apache.hadoop.hbase.procedure2">TimeoutExecutorThread</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-241">workerMonitorExecutor</a></span></div>
<div class="block">WorkerMonitor check for stuck workers and new worker thread when necessary, for example if
 there is no worker to assign meta, it will new worker thread for it, so it is very important.
 TimeoutExecutor execute many tasks like DeadServerMetricRegionChore RegionInTransitionChore and
 so on, some tasks may execute for a long time so will block other tasks like WorkerMonitor, so
 use a dedicated thread for executing WorkerMonitor.</div>
</section>
</li>
<li>
<section class="detail" id="forceUpdateExecutor">
<h3>forceUpdateExecutor</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-243">forceUpdateExecutor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="asyncTaskExecutor">
<h3>asyncTaskExecutor</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-247">asyncTaskExecutor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="corePoolSize">
<h3>corePoolSize</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-249">corePoolSize</a></span></div>
</section>
</li>
<li>
<section class="detail" id="maxPoolSize">
<h3>maxPoolSize</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-250">maxPoolSize</a></span></div>
</section>
</li>
<li>
<section class="detail" id="keepAliveTime">
<h3>keepAliveTime</h3>
<div class="member-signature"><span class="modifiers">private volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-252">keepAliveTime</a></span></div>
</section>
</li>
<li>
<section class="detail" id="scheduler">
<h3>scheduler</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-257">scheduler</a></span></div>
<div class="block">Scheduler/Queue that contains runnable procedures.</div>
</section>
</li>
<li>
<section class="detail" id="lastProcId">
<h3>lastProcId</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-259">lastProcId</a></span></div>
</section>
</li>
<li>
<section class="detail" id="workerId">
<h3>workerId</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicLong.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicLong</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-260">workerId</a></span></div>
</section>
</li>
<li>
<section class="detail" id="activeExecutorCount">
<h3>activeExecutorCount</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-261">activeExecutorCount</a></span></div>
</section>
</li>
<li>
<section class="detail" id="running">
<h3>running</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-262">running</a></span></div>
</section>
</li>
<li>
<section class="detail" id="environment">
<h3>environment</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-263">environment</a></span></div>
</section>
</li>
<li>
<section class="detail" id="store">
<h3>store</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-264">store</a></span></div>
</section>
</li>
<li>
<section class="detail" id="checkOwnerSet">
<h3>checkOwnerSet</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-266">checkOwnerSet</a></span></div>
</section>
</li>
<li>
<section class="detail" id="procExecutionLock">
<h3>procExecutionLock</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../util/IdLock.html" title="class in org.apache.hadoop.hbase.util">IdLock</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-274">procExecutionLock</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.conf.Configuration,TEnvironment,org.apache.hadoop.hbase.procedure2.store.ProcedureStore)">
<h3 id="&lt;init&gt;(org.apache.hadoop.conf.Configuration,java.lang.Object,org.apache.hadoop.hbase.procedure2.store.ProcedureStore)">ProcedureExecutor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-276">ProcedureExecutor</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&nbsp;environment,
 <a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a>&nbsp;store)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.hadoop.conf.Configuration,TEnvironment,org.apache.hadoop.hbase.procedure2.store.ProcedureStore,org.apache.hadoop.hbase.procedure2.ProcedureScheduler)">
<h3 id="&lt;init&gt;(org.apache.hadoop.conf.Configuration,java.lang.Object,org.apache.hadoop.hbase.procedure2.store.ProcedureStore,org.apache.hadoop.hbase.procedure2.ProcedureScheduler)">ProcedureExecutor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-318">ProcedureExecutor</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf,
 <a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&nbsp;environment,
 <a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a>&nbsp;store,
 <a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a>&nbsp;scheduler)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isRootFinished(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>isRootFinished</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-281">isRootFinished</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;?&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="forceUpdateProcedure(long)">
<h3>forceUpdateProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-286">forceUpdateProcedure</a></span><wbr><span class="parameters">(long&nbsp;procId)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="load(boolean)">
<h3>load</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-328">load</a></span><wbr><span class="parameters">(boolean&nbsp;abortOnCorruption)</span>
           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restoreLock(org.apache.hadoop.hbase.procedure2.Procedure,java.util.Set)">
<h3>restoreLock</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-362">restoreLock</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;restored)</span></div>
</section>
</li>
<li>
<section class="detail" id="restoreLocks(java.util.Deque,java.util.Set)">
<h3>restoreLocks</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-367">restoreLocks</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;stack,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;restored)</span></div>
</section>
</li>
<li>
<section class="detail" id="restoreLocks()">
<h3>restoreLocks</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-386">restoreLocks</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="initializeStacks(org.apache.hadoop.hbase.procedure2.store.ProcedureStore.ProcedureIterator,java.util.List,java.util.List,java.util.List,java.util.List)">
<h3>initializeStacks</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-406">initializeStacks</a></span><wbr><span class="parameters">(<a href="store/ProcedureStore.ProcedureIterator.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore.ProcedureIterator</a>&nbsp;procIter,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;failedList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingTimeoutList)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processWaitingProcedures(java.util.List,java.util.List)">
<h3>processWaitingProcedures</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-469">processWaitingProcedures</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList)</span></div>
</section>
</li>
<li>
<section class="detail" id="processWaitingTimeoutProcedures(java.util.List)">
<h3>processWaitingTimeoutProcedures</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-489">processWaitingTimeoutProcedures</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;waitingTimeoutList)</span></div>
</section>
</li>
<li>
<section class="detail" id="pushProceduresAfterLoad(java.util.List,java.util.List)">
<h3>pushProceduresAfterLoad</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-496">pushProceduresAfterLoad</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;runnableList,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;&nbsp;failedList)</span></div>
</section>
</li>
<li>
<section class="detail" id="loadProcedures(org.apache.hadoop.hbase.procedure2.store.ProcedureStore.ProcedureIterator)">
<h3>loadProcedures</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-508">loadProcedures</a></span><wbr><span class="parameters">(<a href="store/ProcedureStore.ProcedureIterator.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore.ProcedureIterator</a>&nbsp;procIter)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="init(int,boolean)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-599">init</a></span><wbr><span class="parameters">(int&nbsp;numThreads,
 boolean&nbsp;abortOnCorruption)</span>
          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Initialize the procedure executor, but do not start workers. We will start them later.
 <p/>
 It calls ProcedureStore.recoverLease() and ProcedureStore.load() to recover the lease, and
 ensure a single executor, and start the procedure replay to resume and recover the previous
 pending and in-progress procedures.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>numThreads</code> - number of threads available for procedure execution.</dd>
<dd><code>abortOnCorruption</code> - true if you want to abort your service in case a corrupted procedure
                          is found on replay. otherwise false.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startWorkers()">
<h3>startWorkers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-675">startWorkers</a></span>()
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Start the workers.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-696">stop</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="join()">
<h3>join</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-709">join</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="refreshConfiguration(org.apache.hadoop.conf.Configuration)">
<h3>refreshConfiguration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-754">refreshConfiguration</a></span><wbr><span class="parameters">(org.apache.hadoop.conf.Configuration&nbsp;conf)</span></div>
</section>
</li>
<li>
<section class="detail" id="isRunning()">
<h3>isRunning</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-763">isRunning</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getWorkerThreadCount()">
<h3>getWorkerThreadCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-768">getWorkerThreadCount</a></span>()</div>
<div class="block">Returns the current number of worker threads.</div>
</section>
</li>
<li>
<section class="detail" id="getCorePoolSize()">
<h3>getCorePoolSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-773">getCorePoolSize</a></span>()</div>
<div class="block">Returns the core pool size settings.</div>
</section>
</li>
<li>
<section class="detail" id="getActiveExecutorCount()">
<h3>getActiveExecutorCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-777">getActiveExecutorCount</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getEnvironment()">
<h3>getEnvironment</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-781">getEnvironment</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getStore()">
<h3>getStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="store/ProcedureStore.html" title="interface in org.apache.hadoop.hbase.procedure2.store">ProcedureStore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-785">getStore</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getScheduler()">
<h3>getScheduler</h3>
<div class="member-signature"><span class="return-type"><a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-789">getScheduler</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="setKeepAliveTime(long,java.util.concurrent.TimeUnit)">
<h3>setKeepAliveTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-793">setKeepAliveTime</a></span><wbr><span class="parameters">(long&nbsp;keepAliveTime,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeUnit)</span></div>
</section>
</li>
<li>
<section class="detail" id="getKeepAliveTime(java.util.concurrent.TimeUnit)">
<h3>getKeepAliveTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-798">getKeepAliveTime</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeUnit)</span></div>
</section>
</li>
<li>
<section class="detail" id="addChore(org.apache.hadoop.hbase.procedure2.ProcedureInMemoryChore)">
<h3>addChore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-810">addChore</a></span><wbr><span class="parameters">(@Nullable
 <a href="ProcedureInMemoryChore.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureInMemoryChore</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;chore)</span></div>
<div class="block">Add a chore procedure to the executor</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>chore</code> - the chore to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeChore(org.apache.hadoop.hbase.procedure2.ProcedureInMemoryChore)">
<h3>removeChore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-823">removeChore</a></span><wbr><span class="parameters">(@Nullable
 <a href="ProcedureInMemoryChore.html" title="class in org.apache.hadoop.hbase.procedure2">ProcedureInMemoryChore</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;chore)</span></div>
<div class="block">Remove a chore procedure from the executor</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>chore</code> - the chore to remove</dd>
<dt>Returns:</dt>
<dd>whether the chore is removed, or it will be removed later</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createNonceKey(long,long)">
<h3>createNonceKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-840">createNonceKey</a></span><wbr><span class="parameters">(long&nbsp;nonceGroup,
 long&nbsp;nonce)</span></div>
<div class="block">Create a NonceKey from the specified nonceGroup and nonce.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nonceGroup</code> - the group to use for the <a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util"><code>NonceKey</code></a></dd>
<dd><code>nonce</code> - the nonce to use in the <a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util"><code>NonceKey</code></a></dd>
<dt>Returns:</dt>
<dd>the generated NonceKey</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerNonce(org.apache.hadoop.hbase.util.NonceKey)">
<h3>registerNonce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-852">registerNonce</a></span><wbr><span class="parameters">(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</span></div>
<div class="block">Register a nonce for a procedure that is going to be submitted. A procId will be reserved and
 on submitProcedure(), the procedure with the specified nonce will take the reserved ProcId. If
 someone already reserved the nonce, this method will return the procId reserved, otherwise an
 invalid procId will be returned. and the caller should procede and submit the procedure.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nonceKey</code> - A unique identifier for this operation from the client or process.</dd>
<dt>Returns:</dt>
<dd>the procId associated with the nonce, if any otherwise an invalid procId.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unregisterNonceIfProcedureWasNotSubmitted(org.apache.hadoop.hbase.util.NonceKey)">
<h3>unregisterNonceIfProcedureWasNotSubmitted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-888">unregisterNonceIfProcedureWasNotSubmitted</a></span><wbr><span class="parameters">(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</span></div>
<div class="block">Remove the NonceKey if the procedure was not submitted to the executor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nonceKey</code> - A unique identifier for this operation from the client or process.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFailureResultForNonce(org.apache.hadoop.hbase.util.NonceKey,java.lang.String,org.apache.hadoop.hbase.security.User,java.io.IOException)">
<h3>setFailureResultForNonce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-912">setFailureResultForNonce</a></span><wbr><span class="parameters">(<a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;procName,
 <a href="../security/User.html" title="class in org.apache.hadoop.hbase.security">User</a>&nbsp;procOwner,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&nbsp;exception)</span></div>
<div class="block">If the failure failed before submitting it, we may want to give back the same error to the
 requests with the same nonceKey.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nonceKey</code> - A unique identifier for this operation from the client or process</dd>
<dd><code>procName</code> - name of the procedure, used to inform the user</dd>
<dd><code>procOwner</code> - name of the owner of the procedure, used to inform the user</dd>
<dd><code>exception</code> - the failure to report to the user</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitProcedure(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>submitProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-939">submitProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
<div class="block">Add a new root-procedure to the executor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>proc</code> - the new procedure to execute.</dd>
<dt>Returns:</dt>
<dd>the procedure id, that can be used to monitor the operation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bypassProcedure(java.util.List,long,boolean,boolean)">
<h3>bypassProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-973">bypassProcedure</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;&nbsp;pids,
 long&nbsp;lockWait,
 boolean&nbsp;force,
 boolean&nbsp;recursive)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Bypass a procedure. If the procedure is set to bypass, all the logic in execute/rollback will
 be ignored and it will return success, whatever. It is used to recover buggy stuck procedures,
 releasing the lock resources and letting other procedures run. Bypassing one procedure (and its
 ancestors will be bypassed automatically) may leave the cluster in a middle state, e.g. region
 not assigned, or some hdfs files left behind. After getting rid of those stuck procedures, the
 operators may have to do some clean up on hdfs or schedule some assign procedures to let region
 online. DO AT YOUR OWN RISK.
 <p>
 A procedure can be bypassed only if 1. The procedure is in state of RUNNABLE, WAITING,
 WAITING_TIMEOUT or it is a root procedure without any child. 2. No other worker thread is
 executing it 3. No child procedure has been submitted
 <p>
 If all the requirements are meet, the procedure and its ancestors will be bypassed and
 persisted to WAL.
 <p>
 If the procedure is in WAITING state, will set it to RUNNABLE add it to run queue. TODO: What
 about WAITING_TIMEOUT?</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pids</code> - the procedure id</dd>
<dd><code>lockWait</code> - time to wait lock</dd>
<dd><code>force</code> - if force set to true, we will bypass the procedure even if it is executing.
                  This is for procedures which can't break out during executing(due to bug,
                  mostly) In this case, bypassing the procedure is not enough, since it is
                  already stuck there. We need to restart the master after bypassing, and
                  letting the problematic procedure to execute wth bypass=true, so in that
                  condition, the procedure can be successfully bypassed.</dd>
<dd><code>recursive</code> - We will do an expensive search for children of each pid. EXPENSIVE!</dd>
<dt>Returns:</dt>
<dd>true if bypass success</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - IOException</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bypassProcedure(long,long,boolean,boolean)">
<h3>bypassProcedure</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-982">bypassProcedure</a></span><wbr><span class="parameters">(long&nbsp;pid,
 long&nbsp;lockWait,
 boolean&nbsp;override,
 boolean&nbsp;recursive)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitProcedure(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.util.NonceKey)">
<h3>submitProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1095">submitProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="../util/NonceKey.html" title="class in org.apache.hadoop.hbase.util">NonceKey</a>&nbsp;nonceKey)</span></div>
<div class="block">Add a new root-procedure to the executor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>proc</code> - the new procedure to execute.</dd>
<dd><code>nonceKey</code> - the registered unique identifier for this operation from the client or process.</dd>
<dt>Returns:</dt>
<dd>the procedure id, that can be used to monitor the operation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitProcedures(org.apache.hadoop.hbase.procedure2.Procedure[])">
<h3>submitProcedures</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1128">submitProcedures</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;procs)</span></div>
<div class="block">Add a set of new root-procedure to the executor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procs</code> - the new procedures to execute.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareProcedure(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>prepareProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1151">prepareProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="pushProcedure(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>pushProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1160">pushProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="abort(long)">
<h3>abort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1185">abort</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
<div class="block">Send an abort notification the specified procedure. Depending on the procedure implementation
 the abort can be considered or ignored.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the procedure to abort</dd>
<dt>Returns:</dt>
<dd>true if the procedure exists and has received the abort, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="abort(long,boolean)">
<h3>abort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1196">abort</a></span><wbr><span class="parameters">(long&nbsp;procId,
 boolean&nbsp;mayInterruptIfRunning)</span></div>
<div class="block">Send an abort notification to the specified procedure. Depending on the procedure
 implementation, the abort can be considered or ignored.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the procedure to abort</dd>
<dd><code>mayInterruptIfRunning</code> - if the proc completed at least one step, should it be aborted?</dd>
<dt>Returns:</dt>
<dd>true if the procedure exists and has received the abort, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getProcedure(long)">
<h3>getProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1210">getProcedure</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="getProcedure(java.lang.Class,long)">
<h3>getProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1214">getProcedure</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;clazz,
 long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="getResult(long)">
<h3>getResult</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1222">getResult</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="isFinished(long)">
<h3>isFinished</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1237">isFinished</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
<div class="block">Return true if the procedure is finished. The state may be "completed successfully" or "failed
 and rolledback". Use getResult() to check the state or get the result data.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the ID of the procedure to check</dd>
<dt>Returns:</dt>
<dd>true if the procedure execution is finished, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStarted(long)">
<h3>isStarted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1246">isStarted</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
<div class="block">Return true if the procedure is started.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the ID of the procedure to check</dd>
<dt>Returns:</dt>
<dd>true if the procedure execution is started, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeResult(long)">
<h3>removeResult</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1258">removeResult</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
<div class="block">Mark the specified completed procedure, as ready to remove.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the ID of the procedure to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResultOrProcedure(long)">
<h3>getResultOrProcedure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1270">getResultOrProcedure</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="isProcedureOwner(long,org.apache.hadoop.hbase.security.User)">
<h3>isProcedureOwner</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1286">isProcedureOwner</a></span><wbr><span class="parameters">(long&nbsp;procId,
 <a href="../security/User.html" title="class in org.apache.hadoop.hbase.security">User</a>&nbsp;user)</span></div>
<div class="block">Check if the user is this procedure's owner</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>procId</code> - the target procedure</dd>
<dd><code>user</code> - the user</dd>
<dt>Returns:</dt>
<dd>true if the user is the owner of the procedure, false otherwise or the owner is
         unknown.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getActiveProceduresNoCopy()">
<h3>getActiveProceduresNoCopy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1312">getActiveProceduresNoCopy</a></span>()</div>
<div class="block">Should only be used when starting up, where the procedure workers have not been started.
 <p/>
 If the procedure works has been started, the return values maybe changed when you are
 processing it so usually this is not safe. Use <a href="#getProcedures()"><code>getProcedures()</code></a> below for most cases as
 it will do a copy, and also include the finished procedures.</div>
</section>
</li>
<li>
<section class="detail" id="getProcedures()">
<h3>getProcedures</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1320">getProcedures</a></span>()</div>
<div class="block">Get procedures.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the procedures in a list</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerListener(org.apache.hadoop.hbase.procedure2.ProcedureExecutor.ProcedureExecutorListener)">
<h3>registerListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1336">registerListener</a></span><wbr><span class="parameters">(<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&nbsp;listener)</span></div>
</section>
</li>
<li>
<section class="detail" id="unregisterListener(org.apache.hadoop.hbase.procedure2.ProcedureExecutor.ProcedureExecutorListener)">
<h3>unregisterListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1340">unregisterListener</a></span><wbr><span class="parameters">(<a href="ProcedureExecutor.ProcedureExecutorListener.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureExecutor.ProcedureExecutorListener</a>&nbsp;listener)</span></div>
</section>
</li>
<li>
<section class="detail" id="sendProcedureLoadedNotification(long)">
<h3>sendProcedureLoadedNotification</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1344">sendProcedureLoadedNotification</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="sendProcedureAddedNotification(long)">
<h3>sendProcedureAddedNotification</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1356">sendProcedureAddedNotification</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="sendProcedureFinishedNotification(long)">
<h3>sendProcedureFinishedNotification</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1368">sendProcedureFinishedNotification</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="nextProcId()">
<h3>nextProcId</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1383">nextProcId</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getLastProcId()">
<h3>getLastProcId</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1400">getLastProcId</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getActiveProcIds()">
<h3>getActiveProcIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1404">getActiveProcIds</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getRootProcedureId(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>getRootProcedureId</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1408">getRootProcedureId</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="executeProcedure(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>executeProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1415">executeProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="acquireLock(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>acquireLock</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1511">acquireLock</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="releaseLock(org.apache.hadoop.hbase.procedure2.Procedure,boolean)">
<h3>releaseLock</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1521">releaseLock</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 boolean&nbsp;force)</span></div>
</section>
</li>
<li>
<section class="detail" id="getLockEntryForRollback(long)">
<h3>getLockEntryForRollback</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../util/IdLock.Entry.html" title="class in org.apache.hadoop.hbase.util">IdLock.Entry</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1532">getLockEntryForRollback</a></span><wbr><span class="parameters">(long&nbsp;procId)</span></div>
</section>
</li>
<li>
<section class="detail" id="executeUnexpectedRollback(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.RootProcedureState)">
<h3>executeUnexpectedRollback</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1550">executeUnexpectedRollback</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;rootProc,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</span></div>
</section>
</li>
<li>
<section class="detail" id="executeNormalRollback(org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.RootProcedureState)">
<h3>executeNormalRollback</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1590">executeNormalRollback</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;rootProc,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</span></div>
</section>
</li>
<li>
<section class="detail" id="executeRollback(long,org.apache.hadoop.hbase.procedure2.RootProcedureState)">
<h3>executeRollback</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1655">executeRollback</a></span><wbr><span class="parameters">(long&nbsp;rootProcId,
 <a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack)</span></div>
<div class="block">Execute the rollback of the full procedure stack. Once the procedure is rolledback, the
 root-procedure will be visible as finished to user, and the result will be the fatal exception.</div>
</section>
</li>
<li>
<section class="detail" id="cleanupAfterRollbackOneStep(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>cleanupAfterRollbackOneStep</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1697">cleanupAfterRollbackOneStep</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="executeRollback(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>executeRollback</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.LockState.html" title="enum class in org.apache.hadoop.hbase.procedure2">Procedure.LockState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1729">executeRollback</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
<div class="block">Execute the rollback of the procedure step. It updates the store with the new state (stack
 index) or will remove completly the procedure in case it is a child.</div>
</section>
</li>
<li>
<section class="detail" id="yieldProcedure(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>yieldProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1748">yieldProcedure</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="execProcedure(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>execProcedure</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1784">execProcedure</a></span><wbr><span class="parameters">(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure)</span></div>
<div class="block">Executes <code>procedure</code>
 <ul>
 <li>Calls the doExecute() of the procedure
 <li>If the procedure execution didn't fail (i.e. valid user input)
 <ul>
 <li>...and returned subprocedures
 <ul>
 <li>The subprocedures are initialized.
 <li>The subprocedures are added to the store
 <li>The subprocedures are added to the runnable queue
 <li>The procedure is now in a WAITING state, waiting for the subprocedures to complete
 </ul>
 </li>
 <li>...if there are no subprocedure
 <ul>
 <li>the procedure completed successfully
 <li>if there is a parent (WAITING)
 <li>the parent state will be set to RUNNABLE
 </ul>
 </li>
 </ul>
 </li>
 <li>In case of failure
 <ul>
 <li>The store is updated with the new state</li>
 <li>The executor (caller of this method) will start the rollback of the procedure</li>
 </ul>
 </li>
 </ul></div>
</section>
</li>
<li>
<section class="detail" id="kill(java.lang.String)">
<h3>kill</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1929">kill</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;msg)</span></div>
</section>
</li>
<li>
<section class="detail" id="initializeChildren(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.Procedure[])">
<h3>initializeChildren</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1935">initializeChildren</a></span><wbr><span class="parameters">(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</span></div>
</section>
</li>
<li>
<section class="detail" id="submitChildrenProcedures(org.apache.hadoop.hbase.procedure2.Procedure[])">
<h3>submitChildrenProcedures</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1971">submitChildrenProcedures</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</span></div>
</section>
</li>
<li>
<section class="detail" id="countDownChildren(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>countDownChildren</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-1981">countDownChildren</a></span><wbr><span class="parameters">(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure)</span></div>
</section>
</li>
<li>
<section class="detail" id="updateStoreOnExec(org.apache.hadoop.hbase.procedure2.RootProcedureState,org.apache.hadoop.hbase.procedure2.Procedure,org.apache.hadoop.hbase.procedure2.Procedure[])">
<h3>updateStoreOnExec</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2001">updateStoreOnExec</a></span><wbr><span class="parameters">(<a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procStack,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;procedure,
 <a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;[]&nbsp;subprocs)</span></div>
</section>
</li>
<li>
<section class="detail" id="handleInterruptedException(org.apache.hadoop.hbase.procedure2.Procedure,java.lang.InterruptedException)">
<h3>handleInterruptedException</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2027">handleInterruptedException</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>&nbsp;e)</span></div>
</section>
</li>
<li>
<section class="detail" id="execCompletionCleanup(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>execCompletionCleanup</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2036">execCompletionCleanup</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="procedureFinished(org.apache.hadoop.hbase.procedure2.Procedure)">
<h3>procedureFinished</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2053">procedureFinished</a></span><wbr><span class="parameters">(<a href="Procedure.html" title="class in org.apache.hadoop.hbase.procedure2">Procedure</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;&nbsp;proc)</span></div>
</section>
</li>
<li>
<section class="detail" id="getProcStack(long)">
<h3>getProcStack</h3>
<div class="member-signature"><span class="return-type"><a href="RootProcedureState.html" title="class in org.apache.hadoop.hbase.procedure2">RootProcedureState</a>&lt;<a href="ProcedureExecutor.html" title="type parameter in ProcedureExecutor">TEnvironment</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2080">getProcStack</a></span><wbr><span class="parameters">(long&nbsp;rootProcId)</span></div>
</section>
</li>
<li>
<section class="detail" id="getProcedureScheduler()">
<h3>getProcedureScheduler</h3>
<div class="member-signature"><span class="return-type"><a href="ProcedureScheduler.html" title="interface in org.apache.hadoop.hbase.procedure2">ProcedureScheduler</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2084">getProcedureScheduler</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getCompletedSize()">
<h3>getCompletedSize</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2088">getCompletedSize</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getProcExecutionLock()">
<h3>getProcExecutionLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../util/IdLock.html" title="class in org.apache.hadoop.hbase.util">IdLock</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2092">getProcExecutionLock</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="getAsyncTaskExecutor()">
<h3>getAsyncTaskExecutor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/hadoop/hbase/procedure2/ProcedureExecutor.html#line-2099">getAsyncTaskExecutor</a></span>()</div>
<div class="block">Get a thread pool for executing some asynchronous tasks</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
