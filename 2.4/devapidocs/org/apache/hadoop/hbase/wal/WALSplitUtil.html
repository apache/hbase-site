<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WALSplitUtil (Apache HBase 2.4.0 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WALSplitUtil (Apache HBase 2.4.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":41,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WALSplitUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitter.SplitWALResult.html" title="class in org.apache.hadoop.hbase.wal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.MutationReplay.html" title="class in org.apache.hadoop.hbase.wal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/wal/WALSplitUtil.html" target="_top">Frames</a></li>
<li><a href="WALSplitUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.wal</div>
<h2 title="Class WALSplitUtil" class="title">Class WALSplitUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.wal.WALSplitUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@InterfaceAudience.Private
public final class <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.68">WALSplitUtil</a>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class provides static methods to support WAL splitting related works</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.MutationReplay.html" title="class in org.apache.hadoop.hbase.wal">WALSplitUtil.MutationReplay</a></span></code>
<div class="block">A struct used by getMutationsFromWALEntry</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#EDITFILES_NAME_PATTERN">EDITFILES_NAME_PATTERN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#OLD_SEQUENCE_ID_FILE_SUFFIX">OLD_SEQUENCE_ID_FILE_SUFFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#RECOVERED_LOG_TMPFILE_SUFFIX">RECOVERED_LOG_TMPFILE_SUFFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#SEQUENCE_ID_FILE_SUFFIX">SEQUENCE_ID_FILE_SUFFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#SEQUENCE_ID_FILE_SUFFIX_LENGTH">SEQUENCE_ID_FILE_SUFFIX_LENGTH</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#WALSplitUtil--">WALSplitUtil</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#archive-org.apache.hadoop.fs.Path-boolean-org.apache.hadoop.fs.Path-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.conf.Configuration-">archive</a></span>(org.apache.hadoop.fs.Path&nbsp;wal,
       boolean&nbsp;corrupt,
       org.apache.hadoop.fs.Path&nbsp;oldWALDir,
       org.apache.hadoop.fs.FileSystem&nbsp;walFS,
       org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Moves processed logs to a oldLogDir after successful processing Moves corrupted logs (any log
 that couldn't be successfully parsed to corruptDir (.corrupt) for later investigation</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#finishSplitLogFile-java.lang.String-org.apache.hadoop.conf.Configuration-">finishSplitLogFile</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                  org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Completes the work done by splitLogFile by archiving logs</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#formatRecoveredEditsFileName-long-">formatRecoveredEditsFileName</a></span>(long&nbsp;seqid)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getCompletedRecoveredEditsFilePath-org.apache.hadoop.fs.Path-long-">getCompletedRecoveredEditsFilePath</a></span>(org.apache.hadoop.fs.Path&nbsp;srcPath,
                                  long&nbsp;maximumEditWALSeqNum)</code>
<div class="block">Get the completed recovered edits file path, renaming it to be by last edit in the file from
 its first edit.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getMaxRegionSequenceId-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.client.RegionInfo-org.apache.hadoop.hbase.util.ConcurrentMapUtils.IOExceptionSupplier-org.apache.hadoop.hbase.util.ConcurrentMapUtils.IOExceptionSupplier-">getMaxRegionSequenceId</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                      <a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
                      <a href="../../../../../org/apache/hadoop/hbase/util/ConcurrentMapUtils.IOExceptionSupplier.html" title="interface in org.apache.hadoop.hbase.util">ConcurrentMapUtils.IOExceptionSupplier</a>&lt;org.apache.hadoop.fs.FileSystem&gt;&nbsp;rootFsSupplier,
                      <a href="../../../../../org/apache/hadoop/hbase/util/ConcurrentMapUtils.IOExceptionSupplier.html" title="interface in org.apache.hadoop.hbase.util">ConcurrentMapUtils.IOExceptionSupplier</a>&lt;org.apache.hadoop.fs.FileSystem&gt;&nbsp;walFsSupplier)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">Only for compatibility, will be removed in 4.0.0.</span></div>
</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getMaxRegionSequenceId-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">getMaxRegionSequenceId</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                      org.apache.hadoop.fs.Path&nbsp;regionDir)</code>
<div class="block">Get the max sequence id which is stored in the region directory.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getMaxSequenceId-org.apache.hadoop.fs.FileStatus:A-">getMaxSequenceId</a></span>(org.apache.hadoop.fs.FileStatus[]&nbsp;files)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.MutationReplay.html" title="class in org.apache.hadoop.hbase.wal">WALSplitUtil.MutationReplay</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getMutationsFromWALEntry-org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.WALEntry-org.apache.hadoop.hbase.CellScanner-org.apache.hadoop.hbase.util.Pair-org.apache.hadoop.hbase.client.Durability-">getMutationsFromWALEntry</a></span>(org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.WALEntry&nbsp;entry,
                        <a href="../../../../../org/apache/hadoop/hbase/CellScanner.html" title="interface in org.apache.hadoop.hbase">CellScanner</a>&nbsp;cells,
                        <a href="../../../../../org/apache/hadoop/hbase/util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WALKey.html" title="interface in org.apache.hadoop.hbase.wal">WALKey</a>,<a href="../../../../../org/apache/hadoop/hbase/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&gt;&nbsp;logEntry,
                        <a href="../../../../../org/apache/hadoop/hbase/client/Durability.html" title="enum in org.apache.hadoop.hbase.client">Durability</a>&nbsp;durability)</code>
<div class="block">This function is used to construct mutations from a WALEntry.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FileStatus[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getRecoveredHFiles-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-java.lang.String-">getRecoveredHFiles</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;rootFS,
                  org.apache.hadoop.fs.Path&nbsp;regionDir,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getRecoveredHFilesDir-org.apache.hadoop.fs.Path-java.lang.String-">getRecoveredHFilesDir</a></span>(org.apache.hadoop.fs.Path&nbsp;regionDir,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getRegionDirRecoveredEditsDir-org.apache.hadoop.fs.Path-">getRegionDirRecoveredEditsDir</a></span>(org.apache.hadoop.fs.Path&nbsp;regionDir)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(package private) static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getRegionSplitEditsPath-org.apache.hadoop.hbase.TableName-byte:A-long-java.lang.String-java.lang.String-org.apache.hadoop.conf.Configuration-">getRegionSplitEditsPath</a></span>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                       byte[]&nbsp;encodedRegionName,
                       long&nbsp;seqId,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileNameBeingSplit,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tmpDirName,
                       org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Path to a file under RECOVERED_EDITS_DIR directory of the region found in <code>logEntry</code>
 named for the sequenceid in the passed <code>logEntry</code>: e.g.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private static org.apache.hadoop.fs.FileStatus[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getSequenceIdFiles-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">getSequenceIdFiles</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                  org.apache.hadoop.fs.Path&nbsp;regionDir)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getSplitEditFilesSorted-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">getSplitEditFilesSorted</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                       org.apache.hadoop.fs.Path&nbsp;regionDir)</code>
<div class="block">Returns sorted set of edit files made by splitter, excluding files with '.temp' suffix.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getTmpRecoveredEditsFileName-java.lang.String-">getTmpRecoveredEditsFileName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#hasRecoveredEdits-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.client.RegionInfo-">hasRecoveredEdits</a></span>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                 <a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;regionInfo)</code>
<div class="block">Check whether there is recovered.edits in the region dir</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#isSequenceIdFile-org.apache.hadoop.fs.Path-">isSequenceIdFile</a></span>(org.apache.hadoop.fs.Path&nbsp;file)</code>
<div class="block">Is the given file a region open sequence id file.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#mkdir-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">mkdir</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
     org.apache.hadoop.fs.Path&nbsp;dir)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#moveAsideBadEditsFile-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">moveAsideBadEditsFile</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                     org.apache.hadoop.fs.Path&nbsp;edits)</code>
<div class="block">Move aside a bad edits file.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#moveWAL-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-org.apache.hadoop.fs.Path-">moveWAL</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
       org.apache.hadoop.fs.Path&nbsp;p,
       org.apache.hadoop.fs.Path&nbsp;targetDir)</code>
<div class="block">Move WAL.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#tryCreateRecoveredHFilesDir-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.TableName-java.lang.String-java.lang.String-">tryCreateRecoveredHFilesDir</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;rootFS,
                           org.apache.hadoop.conf.Configuration&nbsp;conf,
                           <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedRegionName,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)</code>
<div class="block">Return path to recovered.hfiles directory of the region's column family: e.g.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#writeRegionSequenceIdFile-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-long-">writeRegionSequenceIdFile</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                         org.apache.hadoop.fs.Path&nbsp;regionDir,
                         long&nbsp;newMaxSeqId)</code>
<div class="block">Create a file with name as region's max sequence id</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.slf4j.Logger <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.69">LOG</a></pre>
</li>
</ul>
<a name="EDITFILES_NAME_PATTERN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EDITFILES_NAME_PATTERN</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.71">EDITFILES_NAME_PATTERN</a></pre>
</li>
</ul>
<a name="RECOVERED_LOG_TMPFILE_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECOVERED_LOG_TMPFILE_SUFFIX</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.72">RECOVERED_LOG_TMPFILE_SUFFIX</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.WALSplitUtil.RECOVERED_LOG_TMPFILE_SUFFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SEQUENCE_ID_FILE_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SEQUENCE_ID_FILE_SUFFIX</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.73">SEQUENCE_ID_FILE_SUFFIX</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.WALSplitUtil.SEQUENCE_ID_FILE_SUFFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OLD_SEQUENCE_ID_FILE_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OLD_SEQUENCE_ID_FILE_SUFFIX</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.74">OLD_SEQUENCE_ID_FILE_SUFFIX</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.hadoop.hbase.wal.WALSplitUtil.OLD_SEQUENCE_ID_FILE_SUFFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SEQUENCE_ID_FILE_SUFFIX_LENGTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SEQUENCE_ID_FILE_SUFFIX_LENGTH</h4>
<pre>private static final&nbsp;int <a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.75">SEQUENCE_ID_FILE_SUFFIX_LENGTH</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WALSplitUtil--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WALSplitUtil</h4>
<pre>private&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.77">WALSplitUtil</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="finishSplitLogFile-java.lang.String-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishSplitLogFile</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.88">finishSplitLogFile</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                                      org.apache.hadoop.conf.Configuration&nbsp;conf)
                               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Completes the work done by splitLogFile by archiving logs
 <p>
 It is invoked by SplitLogManager once it knows that one of the SplitLogWorkers have completed
 the splitLogFile() part. If the master crashes then this function might get called multiple
 times.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="archive-org.apache.hadoop.fs.Path-boolean-org.apache.hadoop.fs.Path-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>archive</h4>
<pre>static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.108">archive</a>(org.apache.hadoop.fs.Path&nbsp;wal,
                    boolean&nbsp;corrupt,
                    org.apache.hadoop.fs.Path&nbsp;oldWALDir,
                    org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                    org.apache.hadoop.conf.Configuration&nbsp;conf)
             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Moves processed logs to a oldLogDir after successful processing Moves corrupted logs (any log
 that couldn't be successfully parsed to corruptDir (.corrupt) for later investigation</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="mkdir-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mkdir</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.126">mkdir</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                          org.apache.hadoop.fs.Path&nbsp;dir)
                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="moveWAL-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveWAL</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.136">moveWAL</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                           org.apache.hadoop.fs.Path&nbsp;p,
                           org.apache.hadoop.fs.Path&nbsp;targetDir)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Move WAL. Used to move processed WALs to archive or bad WALs to corrupt WAL dir.
 WAL may have already been moved; makes allowance.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getRegionSplitEditsPath-org.apache.hadoop.hbase.TableName-byte:A-long-java.lang.String-java.lang.String-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionSplitEditsPath</h4>
<pre>static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.160">getRegionSplitEditsPath</a>(<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                                                         byte[]&nbsp;encodedRegionName,
                                                         long&nbsp;seqId,
                                                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileNameBeingSplit,
                                                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tmpDirName,
                                                         org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Path to a file under RECOVERED_EDITS_DIR directory of the region found in <code>logEntry</code>
 named for the sequenceid in the passed <code>logEntry</code>: e.g.
 /hbase/some_table/2323432434/recovered.edits/2332. This method also ensures existence of
 RECOVERED_EDITS_DIR under the region creating it if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tableName</code> - the table name</dd>
<dd><code>encodedRegionName</code> - the encoded region name</dd>
<dd><code>seqId</code> - the sequence id which used to generate file name</dd>
<dd><code>fileNameBeingSplit</code> - the file being split currently. Used to generate tmp file name.</dd>
<dd><code>tmpDirName</code> - of the directory used to sideline old recovered edits file</dd>
<dd><code>conf</code> - configuration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Path to file into which to dump split log edits.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getTmpRecoveredEditsFileName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTmpRecoveredEditsFileName</h4>
<pre>private static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.194">getTmpRecoveredEditsFileName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</pre>
</li>
</ul>
<a name="getCompletedRecoveredEditsFilePath-org.apache.hadoop.fs.Path-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompletedRecoveredEditsFilePath</h4>
<pre>static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.204">getCompletedRecoveredEditsFilePath</a>(org.apache.hadoop.fs.Path&nbsp;srcPath,
                                                                    long&nbsp;maximumEditWALSeqNum)</pre>
<div class="block">Get the completed recovered edits file path, renaming it to be by last edit in the file from
 its first edit. Then we could use the name to skip recovered edits when doing
 HRegion#replayRecoveredEditsIfAny(Map, CancelableProgressable, MonitoredTask).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>dstPath take file's last edit log seq num as the name</dd>
</dl>
</li>
</ul>
<a name="formatRecoveredEditsFileName-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatRecoveredEditsFileName</h4>
<pre>static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.209">formatRecoveredEditsFileName</a>(long&nbsp;seqid)</pre>
</li>
</ul>
<a name="getRegionDirRecoveredEditsDir-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionDirRecoveredEditsDir</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.217">getRegionDirRecoveredEditsDir</a>(org.apache.hadoop.fs.Path&nbsp;regionDir)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionDir</code> - This regions directory in the filesystem.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The directory that holds recovered edits files for the region <code>regionDir</code></dd>
</dl>
</li>
</ul>
<a name="hasRecoveredEdits-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.client.RegionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRecoveredEdits</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.227">hasRecoveredEdits</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                        <a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;regionInfo)
                                 throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Check whether there is recovered.edits in the region dir</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conf</code> - conf</dd>
<dd><code>regionInfo</code> - the region to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if recovered.edits exist in the region dir</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMaxRegionSequenceId-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.client.RegionInfo-org.apache.hadoop.hbase.util.ConcurrentMapUtils.IOExceptionSupplier-org.apache.hadoop.hbase.util.ConcurrentMapUtils.IOExceptionSupplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRegionSequenceId</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.264">getMaxRegionSequenceId</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                      <a href="../../../../../org/apache/hadoop/hbase/client/RegionInfo.html" title="interface in org.apache.hadoop.hbase.client">RegionInfo</a>&nbsp;region,
                                                      <a href="../../../../../org/apache/hadoop/hbase/util/ConcurrentMapUtils.IOExceptionSupplier.html" title="interface in org.apache.hadoop.hbase.util">ConcurrentMapUtils.IOExceptionSupplier</a>&lt;org.apache.hadoop.fs.FileSystem&gt;&nbsp;rootFsSupplier,
                                                      <a href="../../../../../org/apache/hadoop/hbase/util/ConcurrentMapUtils.IOExceptionSupplier.html" title="interface in org.apache.hadoop.hbase.util">ConcurrentMapUtils.IOExceptionSupplier</a>&lt;org.apache.hadoop.fs.FileSystem&gt;&nbsp;walFsSupplier)
                                               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">Only for compatibility, will be removed in 4.0.0.</span></div>
<div class="block">This method will check 3 places for finding the max sequence id file. One is the expected
 place, another is the old place under the region directory, and the last one is the wrong one
 we introduced in HBASE-20734. See HBASE-22617 for more details.
 <p/>
 Notice that, you should always call this method instead of
 <a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.html#getMaxRegionSequenceId-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-"><code>getMaxRegionSequenceId(FileSystem, Path)</code></a> until 4.0.0 release.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSplitEditFilesSorted-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSplitEditFilesSorted</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.288">getSplitEditFilesSorted</a>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                                                                              org.apache.hadoop.fs.Path&nbsp;regionDir)
                                                                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns sorted set of edit files made by splitter, excluding files with '.temp' suffix.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>walFS</code> - WAL FileSystem used to retrieving split edits files.</dd>
<dd><code>regionDir</code> - WAL region dir to look for recovered edits files under.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Files in passed <code>regionDir</code> as a sorted set.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="moveAsideBadEditsFile-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveAsideBadEditsFile</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.333">moveAsideBadEditsFile</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                              org.apache.hadoop.fs.Path&nbsp;edits)
                                                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Move aside a bad edits file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fs</code> - the file system used to rename bad edits file.</dd>
<dd><code>edits</code> - Edits file to move aside.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The name of the moved aside file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="isSequenceIdFile-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSequenceIdFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.346">isSequenceIdFile</a>(org.apache.hadoop.fs.Path&nbsp;file)</pre>
<div class="block">Is the given file a region open sequence id file.</div>
</li>
</ul>
<a name="getSequenceIdFiles-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSequenceIdFiles</h4>
<pre>private static&nbsp;org.apache.hadoop.fs.FileStatus[]&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.351">getSequenceIdFiles</a>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                                                                    org.apache.hadoop.fs.Path&nbsp;regionDir)
                                                             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMaxSequenceId-org.apache.hadoop.fs.FileStatus:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSequenceId</h4>
<pre>private static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.364">getMaxSequenceId</a>(org.apache.hadoop.fs.FileStatus[]&nbsp;files)</pre>
</li>
</ul>
<a name="getMaxRegionSequenceId-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRegionSequenceId</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.381">getMaxRegionSequenceId</a>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                                          org.apache.hadoop.fs.Path&nbsp;regionDir)
                                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the max sequence id which is stored in the region directory. -1 if none.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeRegionSequenceIdFile-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRegionSequenceIdFile</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.388">writeRegionSequenceIdFile</a>(org.apache.hadoop.fs.FileSystem&nbsp;walFS,
                                             org.apache.hadoop.fs.Path&nbsp;regionDir,
                                             long&nbsp;newMaxSeqId)
                                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a file with name as region's max sequence id</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMutationsFromWALEntry-org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.WALEntry-org.apache.hadoop.hbase.CellScanner-org.apache.hadoop.hbase.util.Pair-org.apache.hadoop.hbase.client.Durability-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMutationsFromWALEntry</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.MutationReplay.html" title="class in org.apache.hadoop.hbase.wal">WALSplitUtil.MutationReplay</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.468">getMutationsFromWALEntry</a>(org.apache.hadoop.hbase.shaded.protobuf.generated.AdminProtos.WALEntry&nbsp;entry,
                                                                         <a href="../../../../../org/apache/hadoop/hbase/CellScanner.html" title="interface in org.apache.hadoop.hbase">CellScanner</a>&nbsp;cells,
                                                                         <a href="../../../../../org/apache/hadoop/hbase/util/Pair.html" title="class in org.apache.hadoop.hbase.util">Pair</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/wal/WALKey.html" title="interface in org.apache.hadoop.hbase.wal">WALKey</a>,<a href="../../../../../org/apache/hadoop/hbase/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.wal">WALEdit</a>&gt;&nbsp;logEntry,
                                                                         <a href="../../../../../org/apache/hadoop/hbase/client/Durability.html" title="enum in org.apache.hadoop.hbase.client">Durability</a>&nbsp;durability)
                                                                  throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This function is used to construct mutations from a WALEntry. It also reconstructs WALKey &amp;
 WALEdit from the passed in WALEntry</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logEntry</code> - pair of WALKey and WALEdit instance stores WALKey and WALEdit instances
          extracted from the passed in WALEntry.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of Pair&lt;MutationType, Mutation&gt; to be replayed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="tryCreateRecoveredHFilesDir-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.conf.Configuration-org.apache.hadoop.hbase.TableName-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryCreateRecoveredHFilesDir</h4>
<pre>static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.557">tryCreateRecoveredHFilesDir</a>(org.apache.hadoop.fs.FileSystem&nbsp;rootFS,
                                                             org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                             <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName,
                                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encodedRegionName,
                                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)
                                                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return path to recovered.hfiles directory of the region's column family: e.g.
 /hbase/some_table/2323432434/cf/recovered.hfiles/. This method also ensures existence of
 recovered.hfiles directory under the region's column family, creating it if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rootFS</code> - the root file system</dd>
<dd><code>conf</code> - configuration</dd>
<dd><code>tableName</code> - the table name</dd>
<dd><code>encodedRegionName</code> - the encoded region name</dd>
<dd><code>familyName</code> - the column family name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Path to recovered.hfiles directory of the region's column family.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getRecoveredHFilesDir-org.apache.hadoop.fs.Path-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecoveredHFilesDir</h4>
<pre>private static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.575">getRecoveredHFilesDir</a>(org.apache.hadoop.fs.Path&nbsp;regionDir,
                                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionDir</code> - This regions directory in the filesystem</dd>
<dd><code>familyName</code> - The column family name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The directory that holds recovered hfiles for the region's column family</dd>
</dl>
</li>
</ul>
<a name="getRecoveredHFiles-org.apache.hadoop.fs.FileSystem-org.apache.hadoop.fs.Path-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRecoveredHFiles</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FileStatus[]&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/wal/WALSplitUtil.html#line.579">getRecoveredHFiles</a>(org.apache.hadoop.fs.FileSystem&nbsp;rootFS,
                                                                   org.apache.hadoop.fs.Path&nbsp;regionDir,
                                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;familyName)
                                                            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WALSplitUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitter.SplitWALResult.html" title="class in org.apache.hadoop.hbase.wal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/wal/WALSplitUtil.MutationReplay.html" title="class in org.apache.hadoop.hbase.wal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/wal/WALSplitUtil.html" target="_top">Frames</a></li>
<li><a href="WALSplitUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2021 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
